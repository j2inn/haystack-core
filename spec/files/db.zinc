ver:"3.0"
id,ac,admin,ahu,ahuGroup,ahuRule,air,appName,area,billingCycle,calendar,calendarRef,charge,chargeRefs,chargeType,cmd,contractMin,cool,costPerHour,created,cur,curStatus,curVal,cur_cond,cur_humidity,cur_temp,cur_time,currency,damper,demoMode,demoTenant,demogen,dis,disMacro,discharge,doc,effective,elec,elecCost,elecRef,enable,energy,enum,equip,equipNav,equipPath,equipRef,ext,f011220_cond,f011220_sunrise,f011220_sunset,f011220_tempMax,f011220_tempMin,f021220_cond,f021220_sunrise,f021220_sunset,f021220_tempMax,f021220_tempMin,f031220_cond,f031220_sunrise,f031220_sunset,f031220_tempMax,f031220_tempMin,f301120_sunset,f301120_tempMax,f301120_tempMin,fan,fee,feeFreq,floor,floorRef,floorSpace,func,gas,geoAddr,geoCity,geoCoord,geoCountry,geoPostalCode,geoState,geoStreet,heat,help,his,hisEnd,hisFunc,hisFuncReady,hisInterval,hisMode,hisRollupFunc,hisSize,hisStart,hq,humidity,hvac,impact,kind,kpiRule,kwSite,lighting,lightingRule,lights,lightsGroup,meter,meterPoints,metro,mixed,name,navMeta,navName,nextTime,nextVal,noteTopic,occupied,occupiedEnd,occupiedStart,order,outside,parking,percentage,plug,point,power,pressure,primaryFunction,projIncludeFilter,projMeta,rangeStrategy,ranges,region,regionRef,return,rooftop,rtu,rule,ruleFunc,ruleOn,schedule,scheduleRef,scheduleVal,sensor,sensorRule,site,siteMeter,sitePoint,siteRef,sp,space,sparkGroupings,sparkRule,sparkTopic,src,stage,startDate,steadyState,store,storeNum,submeterOf,summary,sunrise,tags,tariff,tariffHis,tariffRef,temp,template,templateName,topic,topicOn,tz,uiMeta,unit,updated,usageOn,valve,version,view,volume,water,weatherAutoSyncForecast,weatherCond,weatherForecast,weatherPoint,weatherRef,weatherStation,weatherStationRef,weatherSyncId,weatherSyncIds,yearBuilt,zone,mod
@p:demo:r:273bc982-768f4978 "Richmond, VA Forecast",,,,,,,,,,,,,,,,,,,,,,,2,70%RH,40°F,05:52:48.4,,,,,,,"\$weatherStationRef Forecast",,,,,,,,,,,,,,,2,07:06:00,16:52:00,46°F,37°F,2,07:07:00,16:51:00,47°F,33°F,2,07:08:00,16:51:00,53°F,36°F,16:52:00,48°F,48°F,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-12-01T10:52:47.869Z London,,,,,,,,,M,,@p:demo:r:273bc973-fdc1d616 "Richmond, VA",,@p:demo:r:273bc973-fdc1d616 "Richmond, VA",,,,,2020-11-09T09:33:54.654Z
@p:demo:r:273bc973-042c1145 "Gaithersburg ElecMeter-Plug kWh",,,,,,,,,,,,,,,,,,,,M,"ok",895.7553049368289kWh,,,,,,,,,,,"\$equipRef \$navName",,,,,,,,M,,,,,@p:demo:r:273bc973-32b489b9 "Gaithersburg ElecMeter-Plug",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,"elecKwToKwhHis",,15min,"consumption",,,,,,,,"Number",,,,,,,,,,,,,"kWh",,,,,,,,,,,,M,,,,,,,,,@p:demo:r:273bc973-2aa97161 "Washington DC",,,,,,,,,,M,,,,,@p:demo:r:273bc973-878b5135 "Gaithersburg",,,,,,,,,,,,,,,,,,,,,,,,"New_York",,"kWh",,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.635Z
@p:demo:r:273bc971-cfdb4b3f "Equip",,,,,,,"demo",,,,,,,,,,,,,,,,,,,,,,,,,"Equip",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"view: {inherit:\"chart\"}\nequip: {var input kind:\"Ref<equip>\" navCluster}\nspan: {var input kind:\"Span\" defVal:Span(\"today\")}\nshowWeather: {var input kind:\"Bool\" defVal:F enum:\"Weather Off, Weather On\"}\ndata: {expr:\"demoEquip({{equip}}, {{span}}, {{showWeather}})\"}",,,,,,,,,,,,,,,,,,,,,,,,,"demoEquip",,,,,,,,,,,,,,2020-11-09T09:33:39.693Z
@p:demo:r:273bc973-c0f2858e "Headquarters ElecMeter-Hvac kW",,,,,,,,,,,,,,,,,,,,M,"ok",817.3587302803412kW,,,,,,,,,,,"\$equipRef \$navName",,,,,,,,,,,,,@p:demo:r:273bc973-1cf5bd42 "Headquarters ElecMeter-Hvac",,,,,,,,,,,,,,,,,,,,,,,,@p:demo:r:273bc973-b82540a7 "Headquarters Utility",,,,,,,,,,,,,M,2021-02-07T23:45:00-05:00 New_York,,,15min,"sampled",,73816,2019-01-01T00:00:00-05:00 New_York,,,,,"Number",,,,,,,,,,,,,"kW",,,,,,,,,,,,M,M,,,,,,,,@p:demo:r:273bc973-b290ea22 "Richmond",,,,,,,,,,M,,,,,@p:demo:r:273bc973-0337ce3d "Headquarters",,,,,,,,,,,,,,,,,,,,,,,,"New_York",,"kW",,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.545Z
@p:demo:r:273bc973-0544637e "Headquarters WaterMeter-Main Consumption",,,,,,,,,,,,,,,,,,,,M,"ok",57.493860483147614gal,,,,,,,,,,,"\$equipRef \$navName",,,,,,,,,,,,,@p:demo:r:273bc973-e10b947c "Headquarters WaterMeter-Main",,,,,,,,,,,,,,,,,,,,,,,,@p:demo:r:273bc973-b82540a7 "Headquarters Utility",,,,,,,,,,,,,M,2021-02-07T23:45:00-05:00 New_York,,,15min,"sampled",,73816,2019-01-01T00:00:00-05:00 New_York,,,,,"Number",,,,,,,,,,,,,"Consumption",,,,,,,,,,,,M,,,,,,,,,@p:demo:r:273bc973-b290ea22 "Richmond",,,,,,,,,,M,,,M,,@p:demo:r:273bc973-0337ce3d "Headquarters",,,,,,,,,,,,,,,,,,,,,,,,"New_York",,"gal",,,,,,M,,,,,,,,,,,,,2020-11-09T09:33:39.554Z
@p:demo:r:273bc973-bdc466f8 "Gaithersburg RTU-1 ReturnTemp",,,,,,M,,,,,,,,,,,,,,M,"ok",79.02342583287025°F,,,,,,,,,,,"\$equipRef \$navName",,,,,,,,,,,,,@p:demo:r:273bc973-2dd1727d "Gaithersburg RTU-1",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2021-02-07T23:45:00-05:00 New_York,,,,"sampled",,73816,2019-01-01T00:00:00-05:00 New_York,,,,,"Number",,,,,,,,,,,,,"ReturnTemp",,,,,,,,,,,,M,,,,,,,,,@p:demo:r:273bc973-2aa97161 "Washington DC",M,,,,,,,,,M,,,,,@p:demo:r:273bc973-878b5135 "Gaithersburg",,,,,,,,,,,,,,,,,,,M,,,,,"New_York",,"°F",,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.661Z
@p:demo:r:273bc973-fb9b7309 "Gaithersburg  RTUs",,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"\$siteRef \$navName",,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,," RTUs",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,@p:demo:r:273bc973-878b5135 "Gaithersburg",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.652Z
@p:demo:r:273bc973-442b5b51 "Carytown RTU-1 ZoneTemp",,,,,,M,,,,,,,,,,,,,,M,"ok",79.60586968610873°F,,,,,,,,,,,"\$equipRef \$navName",,,,,,,,,,,,,@p:demo:r:273bc973-f2fa6931 "Carytown RTU-1",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2021-02-07T23:45:00-05:00 New_York,,,,"sampled",,73816,2019-01-01T00:00:00-05:00 New_York,,,,,"Number",,,,,,,,,,,,,"ZoneTemp",,,,,,,,,,,,M,,,,,,,,,@p:demo:r:273bc973-b290ea22 "Richmond",,,,,,,,,,M,,,,,@p:demo:r:273bc973-0e0d105d "Carytown",,,,,,,,,,,,,M,,,,,,M,,,,,"New_York",,"°F",,,,,,,,,,,,,,,,,,M,2020-11-09T09:33:39.586Z
@p:demo:r:273bc973-89bc183d "Gaithersburg ElecMeter-Main",M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"\$siteRef \$navName",,,,M,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,"ElecMeter-Main",,,,,,,,,,,,,,,,,,,,,@p:demo:r:273bc973-2aa97161 "Washington DC",,,,,,,,,,,,,M,,@p:demo:r:273bc973-878b5135 "Gaithersburg",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.642Z
@p:demo:r:273bc971-86e04560 "kW",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"kW",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Site electrical kW demand min and max range over time period.",,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,"kpiKw","site",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:47.857Z
@p:demo:r:273bc973-d1e9f94b "Gaithersburg Parking Lights",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"\$siteRef \$navName",,,,,,@p:demo:r:273bc973-ccc8ce34 "Gaithersburg ElecMeter-Lighting",,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,"Parking Lights",,,,,,,,,M,,,,,,,,,,,,@p:demo:r:273bc973-2aa97161 "Washington DC",,,,,,,,,,,,,,,@p:demo:r:273bc973-878b5135 "Gaithersburg",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.65Z
@p:demo:r:273bc973-c11cdb97 "Gaithersburg GasMeter-Main Consumption",,,,,,,,,,,,,,,,,,,,M,"ok",98.28288882746386therm,,,,,,,,,,,"\$equipRef \$navName",,,,,,,,,,,,,@p:demo:r:273bc973-c88b9a57 "Gaithersburg GasMeter-Main",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2021-02-07T23:45:00-05:00 New_York,,,15min,"sampled",,73816,2019-01-01T00:00:00-05:00 New_York,,,,,"Number",,,,,,,,,,,,,"Consumption",,,,,,,,,,,,M,,,,,,,,,@p:demo:r:273bc973-2aa97161 "Washington DC",,,,,,,,,,M,,,M,,@p:demo:r:273bc973-878b5135 "Gaithersburg",,,,,,,,,,,,,,,,,,,,,,,,"New_York",,"therm",,,,,,M,,,,,,,,,,,,,2020-11-09T09:33:39.647Z
@p:demo:r:273bc971-a8413900 "AHU Cool Failure",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"AHU Cool Failure",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,"Unit is cooling, but temperature drop between return sensor and\ndischarge sensor is under expected threshold\n\nRecommended Actions\n===================\n1. Check to see if cooling coil is dirty\n2. Check refrigerant levels in cooling system\n\n**Priority:** Medium",,,,,,,,,,,,,,,,,,,,,,,,,"ahuCoolFailure",,,,,,,,,,,,,,,,,,,,,,,,,,,,,"ahu",,,,,,,,,,,,,M,,"/*\n  Unit is cooling, but temperature drop between return sensor and\n  discharge sensor is under expected threshold\n */\ndefcomp\n\n  target:   {}\n  date:     {}\n  out:      {ro}\n  rat:      {bind:\"return and air and temp and sensor and equipRef=={{target->id}}\"}\n  dat:      {bind:\"discharge and air and temp and sensor and equipRef=={{target->id}}\"}\n  cool:     {bind:\"cool and cmd and (stage==1 or valve) and equipRef=={{target->id}}\"}\n  expected: {bindTuning:\"expected\", defVal:8Δ°F} // expected drop in temp in cooling mode\n\n  do\n    // convert expected to metric if neccessary\n    if (isMetric(dat)) expected = expected.to(1Δ°C)\n\n    // get times when temp drop is not over expected\n    dropNotEnough: ahuTempDiff(dat, rat, date).hisFindPeriods(t => t != null and t != na() and t < expected)\n\n    // get cool periods\n    cooling: hisRead(cool, date).hisFindPeriods(matchPointVal(_, true))\n\n    // compute intersection of periods\n    out = hisPeriodIntersection([dropNotEnough, cooling])\n  end\nend",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.492Z
@p:demo:r:273bc973-acdc04f3 "Carytown ElecMeter-Main Cost",,,,,,,,,,,,,,,,,,,,M,"ok",99.53036778474352$,,,,,,,,,,,"\$equipRef \$navName",,,,,M,,,,,,,,@p:demo:r:273bc973-7425aca4 "Carytown ElecMeter-Main",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,"tariffCostToHis",,,"sampled","sum",,,,,,,"Number",,,,,,,,,,,,,"Cost",,,,,,,,,,,,M,,,,,,,,,@p:demo:r:273bc973-b290ea22 "Richmond",,,,,,,,,,M,,,M,,@p:demo:r:273bc973-0e0d105d "Carytown",,,,,,,,,,,,,,,,,,,,,,,,"New_York",,"\$",,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.581Z
@p:demo:r:273bc973-afefadac "Washington, DC Humidity",,,,,,M,,,,,,,,,,,,,,M,"ok",60%RH,,,,,,,,,,,"\$weatherStationRef \$navName",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2021-02-07T23:00:00-05:00 New_York,,,,,,6150,2019-01-01T02:00:00-05:00 New_York,,M,,,"Number",,,,,,,,,,,,,"Humidity",,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"New_York",,"%RH",,,,,,,,,,,M,,,@p:demo:r:273bc973-70af714c "Washington, DC","humidity",,,,2020-11-09T09:33:39.684Z
@p:demo:r:273bc973-ed2f8590 "Headquarters Floor-2",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"\$siteRef \$navName",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Floor-2",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,@p:demo:r:273bc973-0337ce3d "Headquarters",,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.539Z
@p:demo:r:273bc973-6cd364fd "p:demo:r:273bc973-6cd364fd",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"hisKit",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.472Z
@p:demo:r:273bc973-05b726fc "State Tax",,,,,,,,,,,,M,"@273bc973-3ad9d6ec,@273bc973-c300fe28,@273bc973-123f95f6,@273bc973-b78f2490","percentage",,,,,,,,,,,,,,,,,,"State Tax",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,@p:demo:r:273bc973-ddfda4f6 "Schedule A",,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.711Z
@p:demo:r:273bc973-a95b8d60 "Washington, DC Sunrise",,,,,,,,,,,,,,,,,,,,M,"ok",F,,,,,,,,,,,"\$weatherStationRef \$navName",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2021-02-07T17:37:00-05:00 New_York,,,,,,1538,2019-01-01T07:27:00-05:00 New_York,,,,,"Bool",,,,,,,,,,,,,"Sunrise",,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,"New_York",,,,,,,,,,,,,M,,,@p:demo:r:273bc973-70af714c "Washington, DC","sunrise",,,,2020-11-09T09:33:39.686Z
@p:demo:r:273bc971-01f3f546 "AHU Group Cool and Heat",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"AHU Group Cool and Heat",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,"A group of AHUs have at least one unit in cooling mode at the same\nas another unit is in heating mode.  These units may be \"fighting\" each\nother to maintain temperature setpoints.\n\nRecommended Actions\n===================\nCheck control sequences.\n\n**Priority:** Medium",,,,,,,,,,,,,,,,,,,,,,,,,"ahuGroupCoolAndHeat",,,,,,,,,,,,,,,,,,,,,,,,,,,,,"ahuGroup",,,,,,,,,,,,,M,,"/*\n  Find the intersection of periods where any one unit is\n  is in heating mode and another unit is in cooling mode.\n*/\ndefcomp\n\n  target:   {}\n  date:     {}\n  out:      {ro}\n  coolCmds: {bindAll:\"cool and cmd and stage==1 and equipRef->equipRef=={{target->id}}\"}\n  heatCmds: {bindAll:\"heat and cmd and stage==1 and equipRef->equipRef=={{target->id}}\"}\n\n  do\n    // get periods when any AHU in group is cooling\n    cool: coolCmds\n            .toRecList\n            .map(pt => hisRead(pt, date).hisFindPeriods(v=>v))\n            .hisPeriodUnion\n\n    // get periods any any AHU in group is heating\n    heat: heatCmds\n            .toRecList\n            .map(pt => hisRead(pt, date).hisFindPeriods(v=>v))\n            .hisPeriodUnion\n\n    // compute intersection\n    faults: hisPeriodIntersection([cool, heat])\n\n    // add costing/priority to the spark as additional tags\n    out = faults.addMeta({spark_priority: \"med\"})\n  end\nend",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.497Z
@p:demo:r:273bc973-0de2ad3d "Gaithersburg RTU-1 DischargeTemp",,,,,,M,,,,,,,,,,,,,,M,"ok",65.75634031710217°F,,,,,,,,,,,"\$equipRef \$navName",M,,,,,,,,,,,,@p:demo:r:273bc973-2dd1727d "Gaithersburg RTU-1",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2021-02-07T23:45:00-05:00 New_York,,,,"sampled",,73816,2019-01-01T00:00:00-05:00 New_York,,,,,"Number",,,,,,,,,,,,,"DischargeTemp",,,,,,,,,,,,M,,,,,,,,,@p:demo:r:273bc973-2aa97161 "Washington DC",,,,,,,,,,M,,,,,@p:demo:r:273bc973-878b5135 "Gaithersburg",,,,,,,,,,,,,,,,,,,M,,,,,"New_York",,"°F",,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.662Z
@p:demo:r:273bc973-45b9fe28 "Carytown Misc",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"\$siteRef \$navName",,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Misc",,,,,,,,,,,,,,,,,,,,,@p:demo:r:273bc973-b290ea22 "Richmond",,,,,,,,,,,,,,M,@p:demo:r:273bc973-0e0d105d "Carytown",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.576Z
@p:demo:r:273bc973-125caf6a "Richmond, VA Temp",,,,,,M,,,,,,,,,,,,,,M,"ok",40°F,,,,,,,,,,,"\$weatherStationRef \$navName",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2021-02-07T23:00:00-05:00 New_York,,,,,,6150,2019-01-01T02:00:00-05:00 New_York,,,,,"Number",,,,,,,,,,,,,"Temp",,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,"New_York",,"°F",,,,,,,,,,,M,,,@p:demo:r:273bc973-fdc1d616 "Richmond, VA","temp",,,,2020-11-09T09:33:39.678Z
@p:demo:r:273bc973-8def2470 "Short Pump ElecMeter-Main Cost",,,,,,,,,,,,,,,,,,,,M,"ok",95.29773711542309$,,,,,,,,,,,"\$equipRef \$navName",,,,,M,,,,,,,,@p:demo:r:273bc973-ad4473ba "Short Pump ElecMeter-Main",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,"tariffCostToHis",,,"sampled","sum",,,,,,,"Number",,,,,,,,,,,,,"Cost",,,,,,,,,,,,M,,,,,,,,,@p:demo:r:273bc973-b290ea22 "Richmond",,,,,,,,,,M,,,M,,@p:demo:r:273bc973-82920a8b "Short Pump",,,,,,,,,,,,,,,,,,,,,,,,"New_York",,"\$",,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.602Z
@p:demo:r:273bc971-79ce86db "Energy Summary",,,,,,,"demo",,,,,,,,,,,,,,,,,,,,,,,,,"Energy Summary",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"view: {inherit:\"tile\"}\nspan: {var kind:\"Span\" input defVal:Span(\"lastWeek\")}\nlayout: {var kind:\"Str\" defVal:\"grid 2x2; 0 0 1 1; 1 0 1 1; 0 1 1 1; 1 1 1 1\"}\nsubView: Trio:\n  view: {inherit:\"chart\"}\n  span: {var kind:\"Span\" input binding:\"../span\"}\n  data: {expr:\"demoEnergySummary({{span}}, 1)\"}\nsubView1: Trio:\n  view: {inherit:\"chart\"}\n  span: {var kind:\"Span\" input binding:\"../span\"}\n  data: {expr:\"demoEnergySummary({{span}}, 2)\"}\nsubView2: Trio:\n  view: {inherit:\"chart\"}\n  span: {var kind:\"Span\" input binding:\"../span\"}\n  data: {expr:\"demoEnergySummary({{span}}, 3)\"}\nsubView3: Trio:\n  view: {inherit:\"chart\"}\n  span: {var kind:\"Span\" input binding:\"../span\"}\n  data: {expr:\"demoEnergySummary({{span}}, 4)\"}",,,,,,,,,,,,,,,,,,,,,,,,,"demoEnergySummary",,,,,,,,,,,,,,2020-11-09T09:33:39.692Z
@p:demo:r:273bc973-a4beef99 "Gaithersburg ElecMeter-Hvac",M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"\$siteRef \$navName",,,,M,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,M,,,,,,"ElecMeter-Hvac",,,,,,,,,,,,,,,,,,,,,@p:demo:r:273bc973-2aa97161 "Washington DC",,,,,,,,,,,,,,,@p:demo:r:273bc973-878b5135 "Gaithersburg",,,,,,,,,,,,@p:demo:r:273bc973-89bc183d "Gaithersburg ElecMeter-Main",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.639Z
@p:demo:r:273bc973-883abfc4 "p:demo:r:273bc973-883abfc4",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"haystack",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.484Z
@p:demo:r:273bc971-a8282bbc "demoCharts",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"demoCharts",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"(span, sample: \"AHU\") => do\n\n  // common data\n  dates: span.toSpan\n  ahuRec: read(ahu and rtu)\n  xyData: ioReadZinc(`io/chart-data.zinc`)\n\n  // AHU\n  ahu: () => do\n    ahuRec.toPoints.hisRead(dates).hisRollupAuto\n      .addMeta({title: ahuRec.dis + \" \\u2022 \" + dates.format})\n  end\n\n  // AHU With NA\n  ahuNa: () => do\n    ahuRec.toPoints.hisRead(dates)\n      .hisInterpolate\n      .hisMap((v,ts) => if (ts.hour == 3) na() else v)\n      .addMeta({title: ahuRec.dis + \" (NA) \\u2022 \" + dates.format})\n  end\n\n  // KWH Stacked Bar\n  stackedBar: () => do\n    lastYear: today().year - 1\n    doKwh: (chartType) => do\n      readAll(energy and siteMeter)\n        .map(r => r.set(\"chartType\", chartType))\n        .hisRead(lastYear).hisRollup(sum, 1mo)\n    end\n    hisJoin([doKwh(\"pie\"), doKwh(\"stackedBar\")])\n      .addMeta({title: \"KWH \\u2022 \" +  lastYear.as(1)})\n  end\n\n  // Negative Bar\n  negBar: () => do\n    g: xyData.map() (r,i) => do\n      dis: (\"A\"[0]+i).toChar\n      val: if (i.isOdd) r->y else -(r->y)\n      {x: dis, y: val}\n    end\n    g.addColMeta(\"y\", {chartType:\"bar\"})\n     .addMeta({title: \"Negative Bar Chart\"})\n  end\n\n  // Donut KWH last week\n  donut: () => do\n    readAll(energy and siteMeter)\n      .map(r => r.set(\"chartType\", \"donut\"))\n      .hisRead(lastWeek).hisRollup(sum, 1day)\n      .addMeta({title: \"KWH \\u2022 Last Week\"})\n  end\n\n  // Zone Temp HeatMap\n  heatMap: () => do\n    zoneTempMonth()\n      .addMeta({chartType:\"heatMap\", title: \"Zone Temp \\u2022 HeatMap \\u2022 Aug 2015\"})\n  end\n\n  // show explicit min/max\n  chartMinMax: () => do\n    xyData\n      .addColMeta(\"y\", {dis: \"Chart Min/Max\", chartMin: -20, chartMax: 20})\n      .addMeta({title: \"Chart Min/Max\"})\n  end\n\n  // group for multiple y-axes\n  chartGrouping: () => do\n    addChartMeta: (dict) => dict.set(\"chartGroup\",\"one\")\n    temp:   read(zone and temp and sensor and equipRef==ahuRec->id).addChartMeta\n    pres:   read(pressure and sensor and equipRef==ahuRec->id).addChartMeta\n    damp:   read(damper and cmd and equipRef==ahuRec->id).addChartMeta\n    kw:     read(power and siteMeter and siteRef==ahuRec->siteRef).addChartMeta\n    hisRead([temp, pres, damp, kw], dates)\n      .addMeta({title: \"Chart Grouping \\u2022 \" + dates.format})\n  end\n\n  // catch all\n  sampleMap:\n  {\n    \"AHU\": ahu,\n    \"AHU with NA\": ahuNa,\n    \"Stacked Bar\": stackedBar,\n    \"Negative Bar\": negBar,\n    \"Donut\": donut,\n    \"HeatMap\": heatMap,\n    \"Chart Min/Max\": chartMinMax,\n    \"Chart Grouping\": chartGrouping,\n  }\n\n  fn: sampleMap[sample]\n  if (fn == null) fn = ahu\n  fn()\nend\n",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.524Z
@p:demo:r:273bc973-c100aa85 "Short Pump Main Lights",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"\$siteRef \$navName",,,,,,@p:demo:r:273bc973-ad4473ba "Short Pump ElecMeter-Main",,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,"Main Lights",,,,,,,,,,,,,,,,,,,,,@p:demo:r:273bc973-b290ea22 "Richmond",,,,,,,,,,,,,,,@p:demo:r:273bc973-82920a8b "Short Pump",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.603Z
@p:demo:r:273bc971-ae969350 "Lights On and Unoccupied",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Lights On and Unoccupied",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Lights are on and site is unoccupied.\n\nRecommended Actions\n===================\n1. Check that schedules are linked to lighting system in control system\n2. Check if lights have been left in override mode\n\n**Priority:** Low",,,,,,,,,,,,,"Energy",,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,"lightsOnAndUnoccupied","lights and not parking",,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:47.855Z
@p:demo:r:273bc973-77596031 "p:demo:r:273bc973-77596031",,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,"point",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.476Z
@p:demo:r:273bc973-7592a3e1 "Washington, DC Temp",,,,,,M,,,,,,,,,,,,,,M,"ok",47°F,,,,,,,,,,,"\$weatherStationRef \$navName",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2021-02-07T23:00:00-05:00 New_York,,,,,,6150,2019-01-01T02:00:00-05:00 New_York,,,,,"Number",,,,,,,,,,,,,"Temp",,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,"New_York",,"°F",,,,,,,,,,,M,,,@p:demo:r:273bc973-70af714c "Washington, DC","temp",,,,2020-11-09T09:33:39.683Z
@p:demo:r:273bc973-b7a76069 "p:demo:r:273bc973-b7a76069",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"demo",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.487Z
@p:demo:r:273bc973-4af5273d "Headquarters Floor-1 Lights  Zone-B",,,,,,,,,,,,,,,M,,,2.4$,,M,"ok",T,,,,,,,,,,,"\$equipRef \$navName",,,,,,@p:demo:r:273bc973-52b27202 "Headquarters ElecMeter-Lighting",,,"off,on",,,,@p:demo:r:273bc973-ed48131b "Headquarters Floor-1 Lights ",,,,,,,,,,,,,,,,,,,,,,,,@p:demo:r:273bc973-87cebf12 "Headquarters Floor-1",,,,,,,,,,,,,M,2021-02-07T00:00:00-05:00 New_York,,,,"cov",,1867,2019-01-01T00:00:00-05:00 New_York,,,,,"Bool",,,,,M,,,,,,,,"Zone-B",,,,,,,,,,,,M,,,,,,,,,@p:demo:r:273bc973-b290ea22 "Richmond",,,,,,,,,,,,,,,@p:demo:r:273bc973-0337ce3d "Headquarters",,,,,,,,,,,,,,,,,,,,,,,,"New_York",,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.557Z
@p:demo:r:273bc973-d3e63062 "Short Pump RTU-1 Cool-1",,,,,,,,,,,,,,,M,,M,,,M,"ok",F,,,,,,,,,,,"\$equipRef \$navName",,,,,,@p:demo:r:273bc973-ad4473ba "Short Pump ElecMeter-Main",M,,"off,on",,,,@p:demo:r:273bc973-533106bd "Short Pump RTU-1",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2021-02-07T00:00:00-05:00 New_York,,,,"cov",,1935,2019-01-01T00:00:00-05:00 New_York,,,,,"Bool",,,,,,,,,,,,,"Cool-1",,,,,,,,,,,,M,,,,,,,,,@p:demo:r:273bc973-b290ea22 "Richmond",,,,,,,,,,,,,,,@p:demo:r:273bc973-82920a8b "Short Pump",,,,,,,1,,,,,,M,,,,,,,,,,,"New_York",,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.61Z
@p:demo:r:273bc971-66638150 "Charts",,M,,,,,"demo",,,,,,,,,,,,,,,,,,,,,,,,,"Charts",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"view:   {inherit:\"chart\"}\nspan:   {var input kind:\"Span\" defVal:Span(\"yesterday\")}\nsample: {var input kind:\"Str\" defVal:\"AHU\" enum:\"AHU\" enum:\"AHU,AHU with NA,Stacked Bar,Negative Bar,Donut,HeatMap,Chart Min/Max,Chart Grouping\"}\ndata:   {expr:\"demoCharts({{span}}, {{sample}})\"}",,,,,,,,,,,,,,,,,,,,,,,,,"demoCharts",,,,,,,,,,,,,,2020-11-09T09:33:39.69Z
@p:demo:r:273bc973-1bf88f1a "UI2 Nav Meta",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"UI2 Nav Meta",,,,,,,,,,,,,"/site/[floor]/equip/point",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.46Z
@p:demo:r:273bc973-24c3055f "Gaithersburg Main Lights Status",,,,,,,,,,,,,,,M,,,2.4$,,M,"ok",F,,,,,,,,,,,"\$equipRef \$navName",,,,,,@p:demo:r:273bc973-ccc8ce34 "Gaithersburg ElecMeter-Lighting",,,"off,on",,,,@p:demo:r:273bc973-c311e696 "Gaithersburg Main Lights",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2021-02-07T22:00:00-05:00 New_York,,,,"cov",,2307,2019-01-01T00:00:00-05:00 New_York,,,,,"Bool",,,,,M,,,,,,,,"Status",,,,,,,,,,,,M,,,,,,,,,@p:demo:r:273bc973-2aa97161 "Washington DC",,,,,,,,,,,,,,,@p:demo:r:273bc973-878b5135 "Gaithersburg",,,,,,,,,,,,,,,,,,,,,,,,"New_York",,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.649Z
@p:demo:r:273bc973-7491872c "Carytown RTU-1 OutsideDamper",,,,,,M,,,,,,,,,M,,,,,M,"ok",47.52321795608163%,,,,,,M,,,,,"\$equipRef \$navName",,,,,,,,,,,,,@p:demo:r:273bc973-f2fa6931 "Carytown RTU-1",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2021-02-07T23:45:00-05:00 New_York,,,,"cov",,73816,2019-01-01T00:00:00-05:00 New_York,,,,,"Number",,,,,,,,,,,,,"OutsideDamper",,,,,,,,M,,,,M,,,,,,,,,@p:demo:r:273bc973-b290ea22 "Richmond",,,,,,,,,,,,,,,@p:demo:r:273bc973-0e0d105d "Carytown",,,,,,,,,,,,,,,,,,,,,,,,"New_York",,"%",,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.587Z
@p:demo:r:273bc973-f661a5f3 "Gaithersburg RTU-1 Fan",,,,,,M,,,,,,,,,M,,,,,M,"ok",T,,,,,,,,,,,"\$equipRef \$navName",M,,,,,@p:demo:r:273bc973-a4beef99 "Gaithersburg ElecMeter-Hvac",,,"off,on",,,,@p:demo:r:273bc973-2dd1727d "Gaithersburg RTU-1",,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,M,2021-02-07T22:15:00-05:00 New_York,,,,"cov",,2743,2019-01-01T00:00:00-05:00 New_York,,,,,"Bool",,,,,,,,,,,,,"Fan",,,,,,,,,,,,M,,,,,,,,,@p:demo:r:273bc973-2aa97161 "Washington DC",,,,,,,,,,,,,,,@p:demo:r:273bc973-878b5135 "Gaithersburg",,,,,,,,,,,,,,,,,,,,,,,,"New_York",,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.663Z
@p:demo:r:273bc971-96d6539b "HVAC Sparks",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"HVAC Sparks",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,M,"ruleRef->hvac",,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.688Z
@p:demo:r:273bc973-32b489b9 "Gaithersburg ElecMeter-Plug",M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"\$siteRef \$navName",,,,M,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,"ElecMeter-Plug",,,,,,,,,,,M,,,,,,,,,,@p:demo:r:273bc973-2aa97161 "Washington DC",,,,,,,,,,,,,,,@p:demo:r:273bc973-878b5135 "Gaithersburg",,,,,,,,,,,,@p:demo:r:273bc973-89bc183d "Gaithersburg ElecMeter-Main",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.633Z
@p:demo:r:273bc973-9d665ac5 "Headquarters AHU-1 Cool",,,,,,,,,,,,,,,M,,M,,,M,"ok",99.90133263581808%,,,,,,,,,,,"\$equipRef \$navName",,,,,,,,,,,,,@p:demo:r:273bc973-6d251b2b "Headquarters AHU-1",,,,,,,,,,,,,,,,,,,,,,,,@p:demo:r:273bc973-87cebf12 "Headquarters Floor-1",,,,,,,,,,,,,M,2021-02-07T23:45:00-05:00 New_York,,,,"sampled",,124160,2019-01-01T00:00:00-05:00 New_York,,,,,"Number",,,,,,,,,,,,,"Cool",,,,,,,,,,,,M,,,,,,,,,@p:demo:r:273bc973-b290ea22 "Richmond",,,,,,,,,,,,,,,@p:demo:r:273bc973-0337ce3d "Headquarters",,,,,,,,,,,,,M,,,,,,,,,,,"New_York",,"%",,,M,,,,,,,,,,,,,,,,2020-11-09T09:33:39.568Z
@p:demo:r:273bc971-ab33f01e "AHU Fan Runtime",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"AHU Fan Runtime",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Total time the AHU fan was running",,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,"kpiAhuFanRuntime","ahu",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:47.863Z
@p:demo:r:273bc973-97542eea "Headquarters AHU-1 DischargeTemp",,,,,,M,,,,,,,,,,,,,,M,"ok",61.29539507395069°F,,,,,,,,,,,"\$equipRef \$navName",M,,,,,,,,,,,,@p:demo:r:273bc973-6d251b2b "Headquarters AHU-1",,,,,,,,,,,,,,,,,,,,,,,,@p:demo:r:273bc973-87cebf12 "Headquarters Floor-1",,,,,,,,,,,,,M,2021-02-07T23:45:00-05:00 New_York,,,,"sampled",,73816,2019-01-01T00:00:00-05:00 New_York,,,,,"Number",,,,,,,,,,,,,"DischargeTemp",,,,,,,,,,,,M,,,,,,,,,@p:demo:r:273bc973-b290ea22 "Richmond",,,,,,,,,,M,,,,,@p:demo:r:273bc973-0337ce3d "Headquarters",,,,,,,,,,,,,,,,,,,M,,,,,"New_York",,"°F",,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.572Z
@p:demo:r:273bc971-7ff70caa "importPoints",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"importPoints",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"/*\n  This function provides a simple example to create point records\n  from a CSV file.  It takes the parent equip and a filter to use\n  for selecting rows from the CSV to import.\n\n  Also see the importExample() function for a more complete example.\n*/\n(equip, filter: null) => do\n\n  // if filter is not defined, default to store 8 and \"RTU-1\" points\n  if (filter == null)\n    filter = (row) => row[\"storeNum\"] == \"8\" and row[\"path\"].startsWith(\"RTU-1/\")\n\n  // read our CSV file and apply filter\n  importFile: `io/import-points.csv`\n  csv: ioReadCsv(importFile).findAll(filter)\n\n  // parse CSV rows into point dicts\n  points: csv.map row => do\n    { disMacro: r\"\$equipRef \$navName\",\n      navName:  row->path.split(\"/\").last,\n      siteRef:  equip->siteRef->id,\n      equipRef: equip->id,\n      kind:     row->kind,\n      tz:       equip->siteRef->tz,\n      unit:     row[\"unit\"],\n      point,\n      his\n    }\n  end\n\n  // map point names to additional semantic tags\n  pointNameToTags: {\n    \"SupplyFan\":        {fan, enable, cmd},\n    \"DischargeAirTemp\": {discharge, air, temp, sensor},\n    \"ReturnAirTemp\":    {\"return\", air, temp, sensor},\n    \"Cool-1\":           {cool, stage:1, cmd},\n    \"Cool-2\":           {cool, stage:2, cmd},\n    \"Heat-1\":           {heat, stage:1, cmd},\n    \"Heat-2\":           {heat, stage:2, cmd},\n    \"Consumption\":      {energy, sensor},\n    \"Demand\":           {power, sensor},\n  }\n  points = points.map pt => merge(pt, pointNameToTags[pt->navName])\n\n  // commit to the database\n  points.map pt => diff(null, pt, {add}).commit\nend",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.512Z
@p:demo:r:273bc973-c1c80947 "p:demo:r:273bc973-c1c80947",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"io",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.469Z
@p:demo:r:273bc973-aab7a59e "Carytown RTU-1 Fan",,,,,,M,,,,,,,,,M,,,,,M,"ok",T,,,,,,,,,,,"\$equipRef \$navName",M,,,,,@p:demo:r:273bc973-7425aca4 "Carytown ElecMeter-Main",,,"off,on",,,,@p:demo:r:273bc973-f2fa6931 "Carytown RTU-1",,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,M,2021-02-07T20:15:00-05:00 New_York,,,,"cov",,2241,2019-01-01T00:00:00-05:00 New_York,,,,,"Bool",,,,,,,,,,,,,"Fan",,,,,,,,,,,,M,,,,,,,,,@p:demo:r:273bc973-b290ea22 "Richmond",,,,,,,,,,,,,,,@p:demo:r:273bc973-0e0d105d "Carytown",,,,,,,,,,,,,,,,,,,,,,,,"New_York",,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.594Z
@p:demo:r:273bc973-578b7c26 "Headquarters Outside",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"\$siteRef \$navName",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Outside",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,@p:demo:r:273bc973-0337ce3d "Headquarters",,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.54Z
@p:demo:r:273bc971-6800bd8c "testJob",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"testJob",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"() => do\n  echo(\"TestJob start...\")\n  10.times(i => do\n    jobProgress(i*10, echo(\"TestJob \" + i + \"...\"))\n    jobSleep(1sec)\n  end)\n  echo(\"TestJob done!\")\nend",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.488Z
@p:demo:r:273bc973-dc465c72 "Carytown RTU-1 DischargeTemp",,,,,,M,,,,,,,,,,,,,,M,"ok",79.58011252092464°F,,,,,,,,,,,"\$equipRef \$navName",M,,,,,,,,,,,,@p:demo:r:273bc973-f2fa6931 "Carytown RTU-1",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2021-02-07T23:45:00-05:00 New_York,,,,"sampled",,73816,2019-01-01T00:00:00-05:00 New_York,,,,,"Number",,,,,,,,,,,,,"DischargeTemp",,,,,,,,,,,,M,,,,,,,,,@p:demo:r:273bc973-b290ea22 "Richmond",,,,,,,,,,M,,,,,@p:demo:r:273bc973-0e0d105d "Carytown",,,,,,,,,,,,,,,,,,,M,,,,,"New_York",,"°F",,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.593Z
@p:demo:r:273bc973-2f62bf62 "Washington, DC Condition",,,,,,,,,,,,,,,,,,,,M,"ok","partlyCloudy",,,,,,,,,,,"\$weatherStationRef \$navName",,,,,,,,,"unknown,clear,partlyCloudy,cloudy,showers,rain,thunderstorms,ice,flurries,snow",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2021-02-07T23:00:00-05:00 New_York,,,,"cov",,6150,2019-01-01T02:00:00-05:00 New_York,,,,,"Str",,,,,,,,,,,,,"Condition",,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"New_York",,,,,,,,,,,M,,M,,,@p:demo:r:273bc973-70af714c "Washington, DC","condition",,,,2020-11-09T09:33:39.685Z
@p:demo:r:273bc973-4f4a3c8a "Gaithersburg RTU-1 Heat-2",,,,,,,,,,,,,,,M,,,,,M,"ok",T,,,,,,,,,,,"\$equipRef \$navName",,,,,,@p:demo:r:273bc973-a4beef99 "Gaithersburg ElecMeter-Hvac",M,,"off,on",,,,@p:demo:r:273bc973-2dd1727d "Gaithersburg RTU-1",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,M,2021-02-07T21:15:00-05:00 New_York,,,,"cov",,2467,2019-01-01T00:00:00-05:00 New_York,,,,,"Bool",,,,,,,,,,,,,"Heat-2",,,,,,,,,,,,M,,,,,,,,,@p:demo:r:273bc973-2aa97161 "Washington DC",,,,,,,,,,,,,,,@p:demo:r:273bc973-878b5135 "Gaithersburg",,,,,,,2,,,,,,M,,,,,,,,,,,"New_York",,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.66Z
@p:demo:r:273bc971-4efe5a48 "AHU Fan Short Cycling",,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,"AHU Fan Short Cycling",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Point is cycling on/off more often than its min on/off times.",,,,,,,,,,,,M,"Controls",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,"shortCycling(_, _, 30min, 30min)","discharge and fan and equipRef->ahu",,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:47.851Z
@p:demo:r:273bc971-fb2fe84c "AHU Cool-Heat Mode Cycling",,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,"AHU Cool-Heat Mode Cycling",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"AHU is cycling between cooling and heating and not meeting\na min amount of time required between these two modes.",,,,,,,,,,,,M,"Controls",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,"ahuCoolHeatCycling(_, _, 60min)","ahu",,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:47.852Z
@p:demo:r:273bc973-0653e17d "Gaithersburg RTU-1 OutsideDamper",,,,,,M,,,,,,,,,M,,,,,M,"ok",52.52113439034056%,,,,,,M,,,,,"\$equipRef \$navName",,,,,,,,,,,,,@p:demo:r:273bc973-2dd1727d "Gaithersburg RTU-1",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2021-02-07T23:45:00-05:00 New_York,,,,"cov",,73816,2019-01-01T00:00:00-05:00 New_York,,,,,"Number",,,,,,,,,,,,,"OutsideDamper",,,,,,,,M,,,,M,,,,,,,,,@p:demo:r:273bc973-2aa97161 "Washington DC",,,,,,,,,,,,,,,@p:demo:r:273bc973-878b5135 "Gaithersburg",,,,,,,,,,,,,,,,,,,,,,,,"New_York",,"%",,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.656Z
@p:demo:r:273bc973-d8a50cc6 "Short Pump RTU-2 Heat-2",,,,,,,,,,,,,,,M,,,,,M,"ok",T,,,,,,,,,,,"\$equipRef \$navName",,,,,,@p:demo:r:273bc973-ad4473ba "Short Pump ElecMeter-Main",M,,"off,on",,,,@p:demo:r:273bc973-d1003dfa "Short Pump RTU-2",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,M,2021-02-07T20:45:00-05:00 New_York,,,,"cov",,1797,2019-01-01T00:00:00-05:00 New_York,,,,,"Bool",,,,,,,,,,,,,"Heat-2",,,,,,,,,,,,M,,,,,,,,,@p:demo:r:273bc973-b290ea22 "Richmond",,,,,,,,,,,,,,,@p:demo:r:273bc973-82920a8b "Short Pump",,,,,,,2,,,,,,M,,,,,,,,,,,"New_York",,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.625Z
@p:demo:r:273bc973-57e9b128 "Headquarters Misc Occupancy",,,,,,,,,,,,,,,,,,,,M,"ok",T,,,,,,,,,,,"\$equipRef \$navName",,,,,,,,,"unocc,occ",,,,@p:demo:r:273bc973-90c7d017 "Headquarters Misc",,,,,,,,,,,,,,,,,,,,,,,,@p:demo:r:273bc973-b82540a7 "Headquarters Utility",,,,,,,,,,,,,M,2021-02-07T00:00:00-05:00 New_York,,,,"cov",,1867,2019-01-01T00:00:00-05:00 New_York,,,,,"Bool",,,,,,,,,,,,,"Occupancy",,,,M,,,,,,,,M,,,,,,,,,@p:demo:r:273bc973-b290ea22 "Richmond",,,,,,,,,,,,,,M,@p:demo:r:273bc973-0337ce3d "Headquarters",M,,,,,,,,,,,,,,,,,,,,,,,"New_York",,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.536Z
@p:demo:r:273bc971-6f316377 "Watts/ft²",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Watts/ft²",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,"Site electrical kW demand normalized to watts per square foot",,,,,,,,,,,,,,,M,,,,,,,,,,"kpiWattsNorm",,,,,,,,,,,,,,,,,,,,,,,,,,,,,"site",,,,,,,,,,,,,,,"//KPI to calculate watts per square foot\ndefcomp\n  target: {}\n  date:   {}\n  out:    {ro}\n  kw:     {bind:\"power and equipRef->siteMeter and siteRef=={{target->id}}\"}\n  do\n    if (kw == null) return null\n\n    his: hisRead(kw, date).hisClip.hisMap(kw => kw.to(1W)).energyNormByArea\n\n    if (his.isEmpty or\n        his.meta[\"hisEnd\"] < kw[\"hisStart\"] or\n        his.missing(\"v0\")) return null\n\n    out = {min: his.foldCol(\"v0\", min), max: his.foldCol(\"v0\", max)}\n  end\nend",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.51Z
@p:demo:r:273bc973-ea4c6600 "p:demo:r:273bc973-ea4c6600",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"energy",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.479Z
@p:demo:r:273bc971-5bb5f356 "zoneTempMonth",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"zoneTempMonth",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"// Sample zone temp 15min data for Aug-2105\n() => do\n  hisStart: dateTime(2015-08-01, 0:00)\n  hisEnd: dateTime(2015-09-01, 0:00)\n  ts: hisStart - 15min\n  g: ioReadCsv(`io/zoneTempMonth.csv`).map r => do\n    ts = ts + 15min\n    {ts: ts, v0: parseNumber(r->temp).as(\"°F\")}\n  end\n  g.addColMeta(\"v0\", {dis: \"Zone Temp Sample\"})\n   .addMeta({hisStart: hisStart, hisEnd: hisEnd, view:\"chart\"})\nend",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.516Z
@p:demo:r:273bc973-2d47a234 "Carytown RTU-1 ReturnTemp",,,,,,M,,,,,,,,,,,,,,M,"ok",79.98964083121876°F,,,,,,,,,,,"\$equipRef \$navName",,,,,,,,,,,,,@p:demo:r:273bc973-f2fa6931 "Carytown RTU-1",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2021-02-07T23:45:00-05:00 New_York,,,,"sampled",,73816,2019-01-01T00:00:00-05:00 New_York,,,,,"Number",,,,,,,,,,,,,"ReturnTemp",,,,,,,,,,,,M,,,,,,,,,@p:demo:r:273bc973-b290ea22 "Richmond",M,,,,,,,,,M,,,,,@p:demo:r:273bc973-0e0d105d "Carytown",,,,,,,,,,,,,,,,,,,M,,,,,"New_York",,"°F",,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.592Z
@p:demo:r:273bc973-70df7985 "Tariff His",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Tariff His",,,,,,,,,,,,,,@p:demo:r:273bc973-ad4473ba "Short Pump ElecMeter-Main",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2021-02-01T00:00:00-05:00 New_York,,,,,,26,2019-01-01T00:00:00-05:00 New_York,,,,,"Str",,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,@p:demo:r:273bc973-82920a8b "Short Pump",M,,,,,,,,,,,,,,,,M,,,,,,,"New_York",,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.714Z
@p:demo:r:273bc973-8fe68b8c "Headquarters ElecMeter-Main kW",,,,,,,,,,,,,,,,,,,,M,"ok",821.9164033543934kW,,,,,,,,,,,"\$equipRef \$navName",,,,,,,,,,,,,@p:demo:r:273bc973-05877f17 "Headquarters ElecMeter-Main",,,,,,,,,,,,,,,,,,,,,,,,@p:demo:r:273bc973-b82540a7 "Headquarters Utility",,,,,,,,,,,,,M,2021-02-07T23:45:00-05:00 New_York,,,15min,"sampled",,73816,2019-01-01T00:00:00-05:00 New_York,,,,,"Number",,M,,,,,,,,,,,"kW",,,,,,,,,,,,M,M,,,,,,,,@p:demo:r:273bc973-b290ea22 "Richmond",,,,,,,,,,M,,,M,,@p:demo:r:273bc973-0337ce3d "Headquarters",,,,,,,,,,,,,,,,,,,,,,,,"New_York",,"kW",,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.548Z
@p:demo:r:273bc973-092f1c5c "Short Pump RTU-2 Fan",,,,,,M,,,,,,,,,M,,,,,M,"ok",T,,,,,,,,,,,"\$equipRef \$navName",M,,,,,@p:demo:r:273bc973-ad4473ba "Short Pump ElecMeter-Main",,,"off,on",,,,@p:demo:r:273bc973-d1003dfa "Short Pump RTU-2",,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,M,2021-02-07T21:15:00-05:00 New_York,,,,"cov",,2307,2019-01-01T00:00:00-05:00 New_York,,,,,"Bool",,,,,,,,,,,,,"Fan",,,,,,,,,,,,M,,,,,,,,,@p:demo:r:273bc973-b290ea22 "Richmond",,,,,,,,,,,,,,,@p:demo:r:273bc973-82920a8b "Short Pump",,,,,,,,,,,,,,,,,,,,,,,,"New_York",,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.628Z
@p:demo:r:273bc973-1dab32dc "p:demo:r:273bc973-1dab32dc",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"rule",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-01-01,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.477Z
@p:demo:r:273bc973-eec007a1 "Short Pump RTU-2 Cool-1",,,,,,,,,,,,,,,M,,M,,,M,"ok",T,,,,,,,,,,,"\$equipRef \$navName",,,,,,@p:demo:r:273bc973-ad4473ba "Short Pump ElecMeter-Main",M,,"off,on",,,,@p:demo:r:273bc973-d1003dfa "Short Pump RTU-2",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2021-02-07T00:00:00-05:00 New_York,,,,"cov",,2039,2019-01-01T00:00:00-05:00 New_York,,,,,"Bool",,,,,,,,,,,,,"Cool-1",,,,,,,,,,,,M,,,,,,,,,@p:demo:r:273bc973-b290ea22 "Richmond",,,,,,,,,,,,,,,@p:demo:r:273bc973-82920a8b "Short Pump",,,,,,,1,,,,,,M,,,,,,,,,,,"New_York",,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.622Z
@p:demo:r:273bc973-ce97f26b "Gaithersburg Misc Occupancy",,,,,,,,,,,,,,,,,,,,M,"ok",T,,,,,,,,,,,"\$equipRef \$navName",,,,,,,,,"unocc,occ",,,,@p:demo:r:273bc973-6831f3d2 "Gaithersburg Misc",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2021-02-07T21:15:00-05:00 New_York,,,,"cov",,2307,2019-01-01T00:00:00-05:00 New_York,,,,,"Bool",,,,,,,,,,,,,"Occupancy",,,,M,,,,,,,,M,,,,,,,,,@p:demo:r:273bc973-2aa97161 "Washington DC",,,,,,,,,,,,,,M,@p:demo:r:273bc973-878b5135 "Gaithersburg",M,,,,,,,,,,,,,,,,,,,,,,,"New_York",,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.632Z
@p:demo:r:273bc973-fdc1d616 "Richmond, VA",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Richmond, VA",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Richmond",C(37.542979,-77.469092),"US",,"VA",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"New_York",,,,,,,,,,M,,,,,M,,,["temp","condition","humidity","sunrise"],,,2020-11-09T09:33:39.677Z
@p:demo:r:273bc971-01e1303d "AHU Cool and Heat Example",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"AHU Cool and Heat Example",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,"Unit is simultaneously running mechanical cooling and mechanical heating.\nMost likely cause is a problem in the control algorithm.",,,,,,,,,,,,,,,,,,,,,,,,,"ahuCoolAndHeatExample",,,,,,,,,,,,,,,,,,,,,,,,,,,,,"ahu",,,,,,,,,,,,,M,,"defcomp\n  target: {}\n  date:   {}\n  out:    {ro}\n  cool:   {bind:\"cool and cmd and (stage==1 or valve) and equipRef=={{target->id}}\"}\n  heat:   {bind:\"heat and cmd and (stage==1 or valve) and equipRef=={{target->id}}\"}\n  do\n    // get periods when cooling and heating\n    cooling: hisRead(cool, date).hisFindPeriods(matchPointVal(_, true))\n    heating: hisRead(heat, date).hisFindPeriods(matchPointVal(_, true))\n\n    // compute intersection of those periods\n    out = hisPeriodIntersection([cooling, heating])\n  end\nend",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.496Z
@p:demo:r:273bc973-7b003a3e "Summer On-Peak Demand",,,,,,,,,,,,M,,"demand",,,,,,,,,,,,,,,,,,"Summer On-Peak Demand",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"inRange","ver:\"2.0\"\nmin,max,fee\n0,INF,4.0",,,,,,,,,,@p:demo:r:273bc971-69e34f33 "Small General Summer Schedule","onPeak",,,,,,,,,,,,,,,,,,,,,,,,@p:demo:r:273bc973-e2cccd91 "Small General Service",,,,,,,,,,"power and sensor",,,,,,,,,,,,,,,,,2020-11-09T09:33:39.72Z
@p:demo:r:273bc973-2aa97161 "Washington DC",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Washington DC",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.532Z
@p:demo:r:273bc973-b290ea22 "Richmond",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Richmond",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.533Z
@p:demo:r:273bc973-1f9302b5 "Gaithersburg RTU-2 Heat-1",,,,,,,,,,,,,,,M,,,,,M,"ok",T,,,,,,,,,,,"\$equipRef \$navName",,,,,,@p:demo:r:273bc973-a4beef99 "Gaithersburg ElecMeter-Hvac",M,,"off,on",,,,@p:demo:r:273bc973-fcf4fa40 "Gaithersburg RTU-2",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,M,2021-02-07T20:30:00-05:00 New_York,,,,"cov",,1937,2019-01-01T00:00:00-05:00 New_York,,,,,"Bool",,,,,,,,,,,,,"Heat-1",,,,,,,,,,,,M,,,,,,,,,@p:demo:r:273bc973-2aa97161 "Washington DC",,,,,,,,,,,,,,,@p:demo:r:273bc973-878b5135 "Gaithersburg",,,,,,,1,,,,,,M,,,,,,,,,,,"New_York",,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.671Z
@p:demo:r:273bc971-abe23894 "By revenue per site",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"By revenue per site",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"energyNormByRevenue",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"// Function to normalize energy by revenue per site\n(data) => do\n  revenue: \"uninit\"\n  data.hisMap((val,ts,his) => do\n    if (revenue == \"uninit\") do\n      site: readById(his->siteRef)\n      revenue = if (site.has(\"revenue\")) site->revenue else null\n    end\n    if (revenue == null) revenue else val/revenue\n  end)\nend",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.522Z
@p:demo:r:273bc973-cf58446b "Carytown RTU-1 Heat-1",,,,,,,,,,,,,,,M,,,,,M,"ok",T,,,,,,,,,,,"\$equipRef \$navName",,,,,,@p:demo:r:273bc973-7425aca4 "Carytown ElecMeter-Main",M,,"off,on",,,,@p:demo:r:273bc973-f2fa6931 "Carytown RTU-1",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,M,2021-02-07T20:15:00-05:00 New_York,,,,"cov",,1575,2019-01-01T00:00:00-05:00 New_York,,,,,"Bool",,,,,,,,,,,,,"Heat-1",,,,,,,,,,,,M,,,,,,,,,@p:demo:r:273bc973-b290ea22 "Richmond",,,,,,,,,,,,,,,@p:demo:r:273bc973-0e0d105d "Carytown",,,,,,,1,,,,,,M,,,,,,,,,,,"New_York",,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.59Z
@p:demo:r:273bc971-774f7fd1 "AHU Heat and Econ",,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,"AHU Heat and Econ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Unit is simultaneously running mechanical heating with the outside\ndamper open.  Most likely cause is a problem in the control algorithm.",,,,,,,,,,,,M,"Energy",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,"ahuHeatAndEcon","ahu",,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:47.844Z
@p:demo:r:273bc971-ae9c490e "importHisFromCsv",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"importHisFromCsv",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"/*\n  This function provides a simple example to parse a CSV file\n  into timestamp/value pairs to write into the historian\n*/\n(point, file: `io/import-his.csv`) => do\n\n  // read CSV into grid and parse:\n  //  - ts to DateTime\n  //  - kw to Numbers\n  hisGrid: ioReadCsv(file).map row => do\n\n    // skip rows missing the \"kw\" cell\n    if (row.missing(\"kw\")) return null\n\n    // return new parsed row\n    {ts: row->ts.parseDateTime, val: row->kw.parseNumber}\n\n  end\n\n  // write to given point\n  hisWrite(hisGrid, point)\nend",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.513Z
@p:demo:r:273bc973-0e0d105d "Carytown",,,,,,,,3149ft²,,,,,,,,,,,,,,,,,,,,,,,,"Carytown",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"3504 W Cary St, Richmond, VA","Richmond",C(37.555385,-77.486903),"US","23221","VA","3504 W Cary St",,,,,,,,,,,,,,,,,,,,,,,,,"Richmond",,,,,,,,,20:00:00,10:00:00,,,,,,,,,"Retail Store",,,,,,@p:demo:r:273bc973-b290ea22 "Richmond",,,,,,,,,,,,M,,,,,,,,,,,,,M,1,,,,,,,,,,,,,"New_York",,,,,,,,,,,,,,,,@p:demo:r:273bc973-fdc1d616 "Richmond, VA",,,1996,,2020-11-09T09:33:39.575Z
@p:demo:r:273bc973-f3505941 "Short Pump RTU-1 Fan",,,,,,M,,,,,,,,,M,,,,,M,"ok",T,,,,,,,,,,,"\$equipRef \$navName",M,,,,,@p:demo:r:273bc973-ad4473ba "Short Pump ElecMeter-Main",,,"off,on",,,,@p:demo:r:273bc973-533106bd "Short Pump RTU-1",,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,M,2021-02-07T21:15:00-05:00 New_York,,,,"cov",,2319,2019-01-01T00:00:00-05:00 New_York,,,,,"Bool",,,,,,,,,,,,,"Fan",,,,,,,,,,,,M,,,,,,,,,@p:demo:r:273bc973-b290ea22 "Richmond",,,,,,,,,,,,,,,@p:demo:r:273bc973-82920a8b "Short Pump",,,,,,,,,,,,,,,,,,,,,,,,"New_York",,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.616Z
@p:demo:r:273bc973-801f2dd2 "Gaithersburg RTU-1 DischargePressure",,,,,,M,,,,,,,,,,,,,,M,"ok",0.027992498605024063inH₂O,,,,,,,,,,,"\$equipRef \$navName",M,,,,,,,,,,,,@p:demo:r:273bc973-2dd1727d "Gaithersburg RTU-1",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2021-02-07T23:45:00-05:00 New_York,,,,"sampled",,73816,2019-01-01T00:00:00-05:00 New_York,,,,,"Number",,,,,,,,,,,,,"DischargePressure",,,,,,,,,,,,M,,M,,,,,,,@p:demo:r:273bc973-2aa97161 "Washington DC",,,,,,,,,,M,,,,,@p:demo:r:273bc973-878b5135 "Gaithersburg",,,,,,,,,,,,,,,,,,,,,,,,"New_York",,"inH₂O",,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.664Z
@p:demo:r:273bc973-434364b3 "Carytown RTU-1 DischargePressure",,,,,,M,,,,,,,,,,,,,,M,"ok",0.00939264430512965inH₂O,,,,,,,,,,,"\$equipRef \$navName",M,,,,,,,,,,,,@p:demo:r:273bc973-f2fa6931 "Carytown RTU-1",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2021-02-07T23:45:00-05:00 New_York,,,,"sampled",,73816,2019-01-01T00:00:00-05:00 New_York,,,,,"Number",,,,,,,,,,,,,"DischargePressure",,,,,,,,,,,,M,,M,,,,,,,@p:demo:r:273bc973-b290ea22 "Richmond",,,,,,,,,,M,,,,,@p:demo:r:273bc973-0e0d105d "Carytown",,,,,,,,,,,,,,,,,,,,,,,,"New_York",,"inH₂O",,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.595Z
@p:demo:r:273bc971-bcc57076 "demoEquip",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"demoEquip",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"(equip, span, showWeather) => do\n\n  // encode span to Axon expr\n  spanExpr: span.toSpan.toAxonCode\n\n  // build up Axon mapping expr\n  expr:\n    \"(eq) => {\" +\n      \"rec: eq,\" +\n      \"ptHis: equipToPoints(eq).hisRead(\" + spanExpr + \").hisRollupAuto.addMeta({force}),\" +\n      \"weatherHis: toWeatherPoints(eq).hisRead(\" + spanExpr + \").addMeta({force})\" +\n      \"}\"\n\n  // execute xquery to read our equip and map it history data\n  r: xq().xqReadByIds(equip).xqMap(expr).xqExecute.first\n\n  // unpack xquery mapping\n  rec: r->rec\n  ptHis: r->ptHis\n  weatherHis: r->weatherHis\n\n  // put it all together\n  his: ptHis\n  if (showWeather) his = hisJoin([ptHis, weatherHis])\n  return his.addMeta({title:\"Equip History \\u2022 \" + rec.dis + \" \\u2022 \" + span.toSpan.format})\nend",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.528Z
@p:demo:r:273bc973-1467da7f "Headquarters ElecMeter-Main Cost",,,,,,,,,,,,,,,,,,,,M,"ok",62.39171039914799$,,,,,,,,,,,"\$equipRef \$navName",,,,,M,,,,,,,,@p:demo:r:273bc973-05877f17 "Headquarters ElecMeter-Main",,,,,,,,,,,,,,,,,,,,,,,,@p:demo:r:273bc973-b82540a7 "Headquarters Utility",,,,,,,,,,,,,M,,"tariffCostToHis",,,"sampled","sum",,,,,,,"Number",,,,,,,,,,,,,"Cost",,,,,,,,,,,,M,,,,,,,,,@p:demo:r:273bc973-b290ea22 "Richmond",,,,,,,,,,M,,,M,,@p:demo:r:273bc973-0337ce3d "Headquarters",,,,,,,,,,,,,,,,,,,,,,,,"New_York",,"\$",,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.55Z
@p:demo:r:273bc973-dd043b57 "Headquarters Parking Lights",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"\$siteRef \$navName",,,,,,@p:demo:r:273bc973-52b27202 "Headquarters ElecMeter-Lighting",,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,@p:demo:r:273bc973-578b7c26 "Headquarters Outside",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,"Parking Lights",,,,,,,,,M,,,,,,,,,,,,@p:demo:r:273bc973-b290ea22 "Richmond",,,,,,,,,,,,,,,@p:demo:r:273bc973-0337ce3d "Headquarters",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.561Z
@p:demo:r:273bc973-30709d9f "Gaithersburg RTU-2 DischargePressure",,,,,,M,,,,,,,,,,,,,,M,"ok",0.7521657920170401inH₂O,,,,,,,,,,,"\$equipRef \$navName",M,,,,,,,,,,,,@p:demo:r:273bc973-fcf4fa40 "Gaithersburg RTU-2",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2021-02-07T23:45:00-05:00 New_York,,,,"sampled",,73816,2019-01-01T00:00:00-05:00 New_York,,,,,"Number",,,,,,,,,,,,,"DischargePressure",,,,,,,,,,,,M,,M,,,,,,,@p:demo:r:273bc973-2aa97161 "Washington DC",,,,,,,,,,M,,,,,@p:demo:r:273bc973-878b5135 "Gaithersburg",,,,,,,,,,,,,,,,,,,,,,,,"New_York",,"inH₂O",,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.676Z
@p:demo:r:273bc973-69a6a171 "Gaithersburg RTU-2 DischargeTemp",,,,,,M,,,,,,,,,,,,,,M,"ok",79.15543504166158°F,,,,,,,,,,,"\$equipRef \$navName",M,,,,,,,,,,,,@p:demo:r:273bc973-fcf4fa40 "Gaithersburg RTU-2",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2021-02-07T23:45:00-05:00 New_York,,,,"sampled",,73816,2019-01-01T00:00:00-05:00 New_York,,,,,"Number",,,,,,,,,,,,,"DischargeTemp",,,,,,,,,,,,M,,,,,,,,,@p:demo:r:273bc973-2aa97161 "Washington DC",,,,,,,,,,M,,,,,@p:demo:r:273bc973-878b5135 "Gaithersburg",,,,,,,,,,,,,,,,,,,M,,,,,"New_York",,"°F",,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.674Z
@p:demo:r:273bc971-13f5a0b4 "demoEnergySummary",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"demoEnergySummary",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"(span, tile) => do\n  spanDis: span.toSpan.format\n\n  // xquery reads\n  doReadHis: (f) => do\n    q: xq().xqProjs(navProjNames())\n    f(q)\n    q.xqHisRead(span).xqExecute\n  end\n  readPower:  () => doReadHis(q=>q.xqReadAll(power and equipRef->siteMeter))\n  readEnergy: () => doReadHis(q=>q.xqReadAll(energy and equipRef->siteMeter))\n\n  // map val cols\n  mapValColMeta: (his, f) => do\n    his.cols[1..-1].each col => do\n      his = his.addColMeta(col.name, col.meta.merge(f(col.meta)))\n    end\n    his\n  end\n\n  // tile 1 - main meter power\n  if (tile == 1) do\n    return readPower()\n           .hisRollupAuto\n           .mapValColMeta(pt => {dis:pt->siteRef.refDis})\n               .addMeta({title:\"KW by Site \\u2022 \" + spanDis})\n  end\n\n  // tile 2 - bar chart of total consumption\n  if (tile == 2) do\n    his: readEnergy().hisClip\n    rows: his.cols[1..-1].map col => do\n      total: his.foldCol(col.name, sum)\n      {site: col.meta->siteRef.refDis, kwh: total}\n    end\n    return rows.toGrid.reorderCols([\"site\", \"kwh\"])\n               .addColMeta(\"kwh\", {dis:\"kWh for \" + spanDis})\n               .addMeta({title:\"KWH by Site \\u2022 \" + spanDis})\n  end\n\n  // tile 3 - main meter energy gradient plot\n  if (tile == 3) do\n    grid: readEnergy().hisFoldCols(sum)\n    return grid.addMeta({chartType:\"heatMap\", title:\"All Sites Total Energy Use by Time of Day \\u2022 \"+ spanDis})\n  end\n\n  // tile 4 - donut of kwh per site\n  if (tile == 4) do\n    grid: readEnergy().hisRollup(sum, 1mo)\n    total: grid.hisFoldCols(sum).foldCol(\"v0\", sum)\n    return grid.mapValColMeta(pt => {\"dis\":pt->siteRef.refDis, \"chartType\":\"donut\"})\n               .addMeta({title:\"Total KWH by Site \\u2022 \"+ spanDis + \" \\u2022 \" + total.format(\"#,###\")})\n               .map(r => r.set(\"ts\", spanDis))\n  end\n\n  throw \"unknown tile \" + tile\nend",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.526Z
@p:demo:r:273bc973-b76878de "p:demo:r:273bc973-b76878de",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"geo",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.473Z
@p:demo:r:273bc973-4b6d70ab "Gaithersburg RTU-2 ZoneTempSp",,,,,,M,,,,,,,,,,,,,,M,"ok",73°F,,,,,,,,,,,"\$equipRef \$navName",,,M,,,,,,,,,,@p:demo:r:273bc973-fcf4fa40 "Gaithersburg RTU-2",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2021-02-07T23:45:00-05:00 New_York,,,,"cov",,73816,2019-01-01T00:00:00-05:00 New_York,,,,,"Number",,,,,,,,,,,,,"ZoneTempSp",,,,,,,,,,,,M,,,,,,,,,@p:demo:r:273bc973-2aa97161 "Washington DC",,,,,,,,,,,,,,,@p:demo:r:273bc973-878b5135 "Gaithersburg",M,,,,,,,,,,,,,,,,,,M,,,,,"New_York",,"°F",,,,,,,,,,,,,,,,,,M,2020-11-09T09:33:39.666Z
@p:demo:r:273bc973-1d7a6acb "Gaithersburg RTU-2 ZoneTemp",,,,,,M,,,,,,,,,,,,,,M,"ok",71.9570068193006°F,,,,,,,,,,,"\$equipRef \$navName",,,,,,,,,,,,,@p:demo:r:273bc973-fcf4fa40 "Gaithersburg RTU-2",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2021-02-07T23:45:00-05:00 New_York,,,,"sampled",,73816,2019-01-01T00:00:00-05:00 New_York,,,,,"Number",,,,,,,,,,,,,"ZoneTemp",,,,,,,,,,,,M,,,,,,,,,@p:demo:r:273bc973-2aa97161 "Washington DC",,,,,,,,,,M,,,,,@p:demo:r:273bc973-878b5135 "Gaithersburg",,,,,,,,,,,,,M,,,,,,M,,,,,"New_York",,"°F",,,,,,,,,,,,,,,,,,M,2020-11-09T09:33:39.667Z
@p:demo:r:273bc973-3828155a "p:demo:r:273bc973-3828155a",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"equip",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.478Z
@p:demo:r:273bc973-69834230 "Headquarters AHU-1 MixedTemp",,,,,,M,,,,,,,,,,,,,,M,"ok",78.58932113462693°F,,,,,,,,,,,"\$equipRef \$navName",,,,,,,,,,,,,@p:demo:r:273bc973-6d251b2b "Headquarters AHU-1",,,,,,,,,,,,,,,,,,,,,,,,@p:demo:r:273bc973-87cebf12 "Headquarters Floor-1",,,,,,,,,,,,,M,2021-02-07T23:45:00-05:00 New_York,,,,"sampled",,73816,2019-01-01T00:00:00-05:00 New_York,,,,,"Number",,,,,,,,,,M,,,"MixedTemp",,,,,,,,,,,,M,,,,,,,,,@p:demo:r:273bc973-b290ea22 "Richmond",,,,,,,,,,M,,,,,@p:demo:r:273bc973-0337ce3d "Headquarters",,,,,,,,,,,,,,,,,,,M,,,,,"New_York",,"°F",,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.571Z
@p:demo:r:273bc973-89c6e3b6 "Carytown RTU-1 Cool-2",,,,,,,,,,,,,,,M,,M,,,M,"ok",T,,,,,,,,,,,"\$equipRef \$navName",,,,,,@p:demo:r:273bc973-7425aca4 "Carytown ElecMeter-Main",M,,"off,on",,,,@p:demo:r:273bc973-f2fa6931 "Carytown RTU-1",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2021-02-07T00:00:00-05:00 New_York,,,,"cov",,1741,2019-01-01T00:00:00-05:00 New_York,,,,,"Bool",,,,,,,,,,,,,"Cool-2",,,,,,,,,,,,M,,,,,,,,,@p:demo:r:273bc973-b290ea22 "Richmond",,,,,,,,,,,,,,,@p:demo:r:273bc973-0e0d105d "Carytown",,,,,,,2,,,,,,M,,,,,,,,,,,"New_York",,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.589Z
@p:demo:r:273bc971-714c8140 "oldChartDemo",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"oldChartDemo",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"() => do\n\n  // get data items\n  numPt: read(power and siteMeter)\n  num2Pt: read(discharge and temp and sensor)\n  boolPt: read(fan and cmd and kind==\"Bool\")\n  xyData: ioReadZinc(`io/chart-data.zinc`)\n\n  // category data\n  categories:\n    [{dis: \"Alpha\", v0: 3%, v1:  4%,  v2: 9%},\n     {dis: \"Beta\",  v0: 2%, v1: 10%,  v2: 1%},\n     {dis: \"Gamma\", v0: 7%, v1:  8%,  v2: 3%},\n     {dis: \"Delta\", v0: 4%, v1:  3%,  v2: 4%},\n    ].toGrid\n\n  // datetime line chart\n  dtLineChart: () => do\n    pt: numPt.merge({chartType: \"line\"})\n    hisRead(pt, yesterday)\n  end\n\n  // datetime area chart\n  dtAreaChart: () => do\n    pt: numPt.merge({chartType: \"area\", color: \"#d73d40\"})\n    hisRead(pt, yesterday)\n  end\n\n  // datetime bar chart\n  dtBarChart: () => do\n    pt: numPt.merge({chartType: \"bar\", color: \"#9474d4\"})\n    hisRead(pt, lastMonth).hisRollup(max, 1day)\n  end\n\n  // datetime runtime chart\n  dtRuntimeChart: () => do\n    pt: boolPt.merge({chartType: \"runtime\", color: \"#30c525\"})\n    hisRead(pt, yesterday)\n  end\n\n  // datetime two y-axes chart\n  dt2YChart: () => do\n    pt1: numPt.merge({chartGroup:\"2y\", chartType: \"area\", color: \"#f87808\"})\n    pt2: num2Pt.merge({chartGroup:\"2y\", chartType: \"line\", color: \"#3d80df\"})\n    hisRead([pt1, pt2], yesterday)\n  end\n\n  // time line chart\n  timeLineChart: () => do\n    pt: numPt.merge({chartType: \"line\", color: \"#c123b0\"})\n    hisRead(pt, lastWeek).hisRollup(max, 1hr).hisDailyProfile(avg)\n  end\n\n  // x-y line chart\n  xyLineChart: () => do\n    xyData.addColMeta(\"y\", {chartType: \"line\"}).chart\n  end\n\n  // x-y area chart\n  xyAreaChart: () => do\n    xyData.addColMeta(\"y\", {chartType: \"area\", color: \"#d73d40\"}).chart\n  end\n\n  // x-y scatter chart\n  xyScatterChart: () => do\n    xyData.addColMeta(\"y\", {chartType: \"scatter\"}).chart\n  end\n\n  // category bar chart\n  catBarChart: () => do\n    categories\n      .addColMeta(\"v0\", {dis: \"Value 0\", chartType: \"bar\", chartGroup: \"catBar\"})\n      .addColMeta(\"v1\", {dis: \"Value 1\", chartType: \"bar\", chartGroup: \"catBar\"})\n      .addColMeta(\"v2\", {dis: \"Value 2\", chartType: \"bar\", chartGroup: \"catBar\"})\n      .chart\n  end\n\n  // category stacked bar chart\n  catStackedBarChart: () => do\n    categories\n      .addColMeta(\"v0\", {dis: \"Value 0\", chartType: \"stackedBar\", chartGroup: \"catStackBar\"})\n      .addColMeta(\"v1\", {dis: \"Value 1\", chartType: \"stackedBar\", chartGroup: \"catStackBar\"})\n      .addColMeta(\"v2\", {dis: \"Value 2\", chartType: \"stackedBar\", chartGroup: \"catStackBar\"})\n      .chart\n  end\n\n  // put it all together\n  [heading(\"DateTime Line Chart\"), dtLineChart(),\n   heading(\"DateTime Area Chart\"), dtAreaChart(),\n   heading(\"DateTime Bar Chart\"), dtBarChart(),\n   heading(\"DateTime Runtime Chart\"), dtRuntimeChart(),\n   heading(\"DateTime Two Y-Axes Chart\"), dt2YChart(),\n   heading(\"Time Line Chart\"), timeLineChart(),\n   heading(\"X-Y Line Chart\"), xyLineChart(),\n   heading(\"X-Y Area Chart\"), xyAreaChart(),\n   heading(\"X-Y Scatter Chart\"), xyScatterChart(),\n   heading(\"Category Bar Chart\"), catBarChart(),\n   heading(\"Category Stacked Bar Chart\"), catStackedBarChart(),\n   ]\nend",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.519Z
@p:demo:r:273bc973-9f3c8325 "Headquarters AHU-1 DischargePressure",,,,,,M,,,,,,,,,,,,,,M,"ok",0.0019733472836382937inH₂O,,,,,,,,,,,"\$equipRef \$navName",M,,,,,,,,,,,,@p:demo:r:273bc973-6d251b2b "Headquarters AHU-1",,,,,,,,,,,,,,,,,,,,,,,,@p:demo:r:273bc973-87cebf12 "Headquarters Floor-1",,,,,,,,,,,,,M,2021-02-07T23:45:00-05:00 New_York,,,,"sampled",,73816,2019-01-01T00:00:00-05:00 New_York,,,,,"Number",,,,,,,,,,,,,"DischargePressure",,,,,,,,,,,,M,,M,,,,,,,@p:demo:r:273bc973-b290ea22 "Richmond",,,,,,,,,,M,,,,,@p:demo:r:273bc973-0337ce3d "Headquarters",,,,,,,,,,,,,,,,,,,,,,,,"New_York",,"inH₂O",,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.574Z
@p:demo:r:273bc973-72bf35ed "Richmond, VA Humidity",,,,,,M,,,,,,,,,,,,,,M,"ok",70%RH,,,,,,,,,,,"\$weatherStationRef \$navName",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2021-02-07T23:00:00-05:00 New_York,,,,,,6150,2019-01-01T02:00:00-05:00 New_York,,M,,,"Number",,,,,,,,,,,,,"Humidity",,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"New_York",,"%RH",,,,,,,,,,,M,,,@p:demo:r:273bc973-fdc1d616 "Richmond, VA","humidity",,,,2020-11-09T09:33:39.679Z
@p:demo:r:273bc973-78c332b7 "Short Pump RTU-2 ZoneTempSp",,,,,,M,,,,,,,,,,,,,,M,"ok",73°F,,,,,,,,,,,"\$equipRef \$navName",,,M,,,,,,,,,,@p:demo:r:273bc973-d1003dfa "Short Pump RTU-2",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2021-02-07T23:45:00-05:00 New_York,,,,"cov",,73816,2019-01-01T00:00:00-05:00 New_York,,,,,"Number",,,,,,,,,,,,,"ZoneTempSp",,,,,,,,,,,,M,,,,,,,,,@p:demo:r:273bc973-b290ea22 "Richmond",,,,,,,,,,,,,,,@p:demo:r:273bc973-82920a8b "Short Pump",M,,,,,,,,,,,,,,,,,,M,,,,,"New_York",,"°F",,,,,,,,,,,,,,,,,,M,2020-11-09T09:33:39.619Z
@p:demo:r:273bc971-35960bcf "Tenant Template",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Tenant Template",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"dis: {kind:\"Str\" validate:\"validateNotBlank\"}\nsiteRef: {kind:\"Ref<site>\"}\nbillingCycle: {kind:\"Str\" enum:\"Monthly, Quarterly, Yearly\"}\nfloorSpace: {kind:\"Number\" defVal:0ft²}\ndemoTenant: {kind:\"Marker\" defVal:M}",,,,,"demoTenant",,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.7Z
@p:demo:r:273bc973-c311e696 "Gaithersburg Main Lights",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"\$siteRef \$navName",,,,,,@p:demo:r:273bc973-ccc8ce34 "Gaithersburg ElecMeter-Lighting",,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,"Main Lights",,,,,,,,,,,,,,,,,,,,,@p:demo:r:273bc973-2aa97161 "Washington DC",,,,,,,,,,,,,,,@p:demo:r:273bc973-878b5135 "Gaithersburg",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.648Z
@p:demo:r:273bc973-348456da "Headquarters AHU-1 ZoneTempSp",,,,,,M,,,,,,,,,,,,,,M,"ok",73°F,,,,,,,,,,,"\$equipRef \$navName",,,M,,,,,,,,,,@p:demo:r:273bc973-6d251b2b "Headquarters AHU-1",,,,,,,,,,,,,,,,,,,,,,,,@p:demo:r:273bc973-87cebf12 "Headquarters Floor-1",,,,,,,,,,,,,M,2021-02-07T23:45:00-05:00 New_York,,,,"cov",,73816,2019-01-01T00:00:00-05:00 New_York,,,,,"Number",,,,,,,,,,,,,"ZoneTempSp",,,,,,,,,,,,M,,,,,,,,,@p:demo:r:273bc973-b290ea22 "Richmond",,,,,,,,,,,,,,,@p:demo:r:273bc973-0337ce3d "Headquarters",M,,,,,,,,,,,,,,,,,,M,,,,,"New_York",,"°F",,,,,,,,,,,,,,,,,,M,2020-11-09T09:33:39.565Z
@p:demo:r:273bc973-2a72545b "Headquarters AHU-1 OutsideDamper",,,,,,M,,,,,,,,,M,,,,,M,"ok",42.55004870929006%,,,,,,M,,,,,"\$equipRef \$navName",,,,,,,,,,,,,@p:demo:r:273bc973-6d251b2b "Headquarters AHU-1",,,,,,,,,,,,,,,,,,,,,,,,@p:demo:r:273bc973-87cebf12 "Headquarters Floor-1",,,,,,,,,,,,,M,2021-02-07T23:45:00-05:00 New_York,,,,"cov",,73816,2019-01-01T00:00:00-05:00 New_York,,,,,"Number",,,,,,,,,,,,,"OutsideDamper",,,,,,,,M,,,,M,,,,,,,,,@p:demo:r:273bc973-b290ea22 "Richmond",,,,,,,,,,,,,,,@p:demo:r:273bc973-0337ce3d "Headquarters",,,,,,,,,,,,,,,,,,,,,,,,"New_York",,"%",,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.567Z
@p:demo:r:273bc973-9eab53b8 "Short Pump  RTUs",,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"\$siteRef \$navName",,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,," RTUs",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,@p:demo:r:273bc973-82920a8b "Short Pump",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.605Z
@p:demo:r:273bc973-aed59b9a "Gaithersburg RTU-1 Cool-1",,,,,,,,,,,,,,,M,,M,,,M,"ok",F,,,,,,,,,,,"\$equipRef \$navName",,,,,,@p:demo:r:273bc973-a4beef99 "Gaithersburg ElecMeter-Hvac",M,,"off,on",,,,@p:demo:r:273bc973-2dd1727d "Gaithersburg RTU-1",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2021-02-07T22:15:00-05:00 New_York,,,,"cov",,3273,2019-01-01T00:00:00-05:00 New_York,,,,,"Bool",,,,,,,,,,,,,"Cool-1",,,,,,,,,,,,M,,,,,,,,,@p:demo:r:273bc973-2aa97161 "Washington DC",,,,,,,,,,,,,,,@p:demo:r:273bc973-878b5135 "Gaithersburg",,,,,,,1,,,,,,M,,,,,,,,,,,"New_York",,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.657Z
@p:demo:r:273bc971-4607d614 "elecKwhToCost",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,"elecKwhToCost",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"/*\n  This is a simple demo function to convert kWh to \$ cost\n  with a simple fixed rate formula of \$0.14/kWh\n*/\n(rec, dates, opts, yield) => do\n  // for demo purposes use simple \$0.14/kWh\n  costPerKwh: 0.14\n  read(energy and equipRef == rec->equipRef)\n     .hisRead(dates, opts)\n     .hisRollup(avg, 1hr)\n     .each( row => do\n        cost: row[\"v0\"] * costPerKwh\n        cost = if (na() == cost) cost else cost.as(rec->unit)\n        yield(row->ts, cost)\n      end )\nend",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.5Z
@p:demo:r:273bc971-8b58ed54 "kW Norm (kW/ft²/°daysF)",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"kW Norm (kW/ft²/°daysF)",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,"Site electrical kW demand min and max range normalized by ft² and degree day.",,,,,,,,,,,,,,,M,,,,,,,,,,"kpiKwNorm",,,,,,,,,,,,,,,,,,,,,,,,,,,,,"site",,,,,,,,,,,,,,,"defcomp\n  target: {}\n  date:   {}\n  out:    {ro}\n  kw:     {bind:\"power and equipRef->siteMeter and siteRef=={{target->id}}\"}\n  do\n    if (kw == null) return null\n\n    his: hisRead(kw, date).hisClip.energyNormByArea.energyNormByDegreeDay\n\n    if (his.isEmpty or\n        his.meta[\"hisEnd\"] < kw[\"hisStart\"] or\n        his.missing(\"v0\")) return null\n\n    kpi: {min: his.foldCol(\"v0\", min),\n          max: his.foldCol(\"v0\", max)}\n\n    out = if (kpi.any v => na() == v ) null else kpi.map v => v.as(1)\n  end\nend",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.503Z
@p:demo:r:273bc973-70af714c "Washington, DC",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Washington, DC",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Washington",C(38.895111,-77.036365),"US",,"DC",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"New_York",,,,,,,,,,M,,,,,M,,,["temp","condition","humidity","sunrise"],,,2020-11-09T09:33:39.682Z
@p:demo:r:273bc971-75d573d8 "importExample",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"importExample",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"/*\n  This function provides a complete example for importing site, equip,\n  and point records from two CSV files included with the demo database.\n  It illustrates several techniques:\n    - importing data from CSV\n    - deriving equip recs from point lists\n    - mapping regular expression naming conventions to tags\n\n  This script is organized into several sub-functions such as \"mapSites\"\n  and \"mapEquips\".  The main routine of the script is defined at the\n  bottom of the script.\n\n  Also see the importPoints() function for a simpler example.\n*/\n() => do\n\n  // import files we will use\n  sitesFile: `io/import-sites.csv`\n  pointsFile: `io/import-points.csv`\n\n  // map equip name regex to tags; if a tag value is a\n  // function, it is called with result of reGroups\n  equipNameToTags: {\n    r\"ElecMeter\":  {ac, elec, meter, siteMeter},\n    r\"RTU-(\\d+)\":  {ahu, rtu},\n  }\n\n  // map point name regex to tags; if a tag value is a\n  // function, it is called with result of reGroups\n  pointNameToTags: {\n    r\"Demand\":           {power, sensor},\n    r\"Consumption\":      {energy, sensor},\n    r\"SupplyFan\":        {discharge, air, fan, cmd},\n    r\"DischargeAirTemp\": {discharge, air, temp, sensor},\n    r\"ReturnAirTemp\":    {\"return\", air, temp, sensor},\n    r\"Cool-(\\d+)\":       {cool, stage:(groups)=>groups[1].parseNumber, cmd},\n    r\"Heat-(\\d+)\":       {heat, stage:(groups)=>groups[1].parseNumber, cmd},\n  }\n\n  ////////////////////////////////////////////////////////////////////\n  // Add Rec\n  ////////////////////////////////////////////////////////////////////\n\n  // function used to add our new records\n  addRec: (msg, tags) => do\n\n    // log an info message\n    logInfo(\"import\", msg)\n\n    // filter out any null or empty string tags\n    tags = tags.findAll x => x != null and x != \"\"\n\n    // adds temporary \"imported\" marker to all import so we can\n    // easily test and then nuke to trash to re-run\n    tags = tags.set(\"imported\", marker())\n\n    // add as new record to the database\n    commit(diff(null, tags, {add}))\n  end\n\n  ////////////////////////////////////////////////////////////////////\n  // Sites\n  ////////////////////////////////////////////////////////////////////\n\n  // function to map sites CSV to parsed tags\n  mapSites: () => do\n    ioReadCsv(sitesFile).map row => do\n\n      // get geo tags from CSV\n      street: row->street\n      city:   row->city\n      state:  row->state\n\n      // use geoTz function to map city/state to timezone\n      tz: geoTz({geoCity:city, geoState:state})\n\n      // map string cells to typed tags\n      tags: {\n        dis:           row->dis,\n        storeNum:      row->storeNum.parseNumber,\n        area:          row->area.parseNumber.as(1ft²),\n        geoAddr:       street + \",\" + city + \",\" + state,\n        geoCity:       city,\n        geoState:      state,\n        tz:            tz,\n        occupiedStart: row->occStart.parseTime(\"h:mm\"),\n        occupiedEnd:   row->occEnd.parseTime(\"h:mm\"),\n        weatherStationRef: read(weatherStation and dis == row->weather)->id,\n        site,\n      }\n    end\n  end\n\n  // function to import the sites\n  importSites: () => do\n    mapSites().each row => addRec(\"Add site: \" + row->dis, row)\n  end\n\n  ////////////////////////////////////////////////////////////////////\n  // Equips\n  ////////////////////////////////////////////////////////////////////\n\n  // function to map point list to equip records\n  mapEquips: () => do\n    // since multiple points might map to one piece of equip,\n    // we create an accumulator map of dis-to-record\n    acc: {}\n\n    ioReadCsv(pointsFile).each row => do\n\n      // parse equip name from path column\n      equipName: pathToEquipName(row->path)\n\n      // associate with site via storeNum\n      site: read(site and storeNum==row->storeNum.parseNumber)\n\n      // map string cells to typed tags\n      tags: {\n        disMacro: r\"\$siteRef \$navName\",\n        navName:  equipName,\n        siteRef:  site->id,\n        equip,\n      }\n\n      // check if equip name matches one of our regular expressions\n      tags = applyTagsByRegex(equipNameToTags, equipName, tags)\n\n      acc = acc.set(tags.dis, tags)\n    end\n\n    return acc.vals\n  end\n\n  // function to import the equips\n  importEquips: () => do\n    mapEquips().each row => addRec(\"Add equip: \" + row.dis, row)\n  end\n\n  ////////////////////////////////////////////////////////////////////\n  // Points\n  ////////////////////////////////////////////////////////////////////\n\n  // function to map point list to point records\n  mapPoints: () => do\n    ioReadCsv(pointsFile).map row => do\n\n      // parse point name from path column\n      equipName: pathToEquipName(row->path)\n      pointName: pathToPointName(row->path)\n\n      // associate with site via storeNum\n      site: read(site and storeNum==row->storeNum.parseNumber)\n\n      // associate with equip via dis\n      equip: read(equip and siteRef == site->id and navName == equipName)\n\n      // map string cells to typed tags\n      tags: {\n        disMacro: r\"\$equipRef \$navName\",\n        navName:  pointName,\n        siteRef:  site->id,\n        equipRef: equip->id,\n        kind:     row->kind,\n        tz:       site->tz,\n        point,\n        his,\n      }\n\n      // if kind is Number, we must have unit column\n      if (tags->kind == \"Number\")\n        tags = tags.set(\"unit\", parseUnit(row->unit))\n\n      // check if point name matches one of our regular expressions\n      tags = applyTagsByRegex(pointNameToTags, pointName, tags)\n    end\n  end\n\n  // function to import the points\n  importPoints: () => do\n    mapPoints().each row => addRec(\"Add point: \" + row.dis, row)\n  end\n\n  ////////////////////////////////////////////////////////////////////\n  // Utils\n  ////////////////////////////////////////////////////////////////////\n\n  // parse path as \"{equipName}/{pointName}\"\n  pathToEquipName: (path) => path.split(\"/\")[0]\n\n  // parse path as \"{equipName}/{pointName}\"\n  pathToPointName: (path) => path.split(\"/\")[1]\n\n  // given equip/point name, try to find match by prefix\n  // and if found, then apply given tags\n  applyTagsByRegex: (mapping, name, tags) => do\n\n    // check for every match in mapping dict of regex:tags\n    mapping.each((tagsToAdd,regex) => do\n\n      // we had a match, walk thru each tagToAdd and add it\n      // to tags; if the tag value is a function then call\n      // the function with reGroups\n      if (regex.reMatches(name)) do\n        tagsToAdd.each((v, n) => do\n          if (v.isFunc()) v = v(reGroups(regex, name))\n          tags = tags.set(n, v)\n        end)\n      end\n    end)\n\n    // return potentially updated tags\n    return tags\n  end\n\n  ////////////////////////////////////////////////////////////////////\n  // Main\n  ////////////////////////////////////////////////////////////////////\n\n  importSites()        // map sites CSV and add site recs\n  importEquips()       // map points CSV and add equip recs\n  importPoints()       // map points CSV and add points recs\n  readAll(imported)    // return everything we added\n\nend",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.511Z
@p:demo:r:273bc973-ee371a07 "Short Pump Main Lights Status",,,,,,,,,,,,,,,M,,,2.4$,,M,"ok",T,,,,,,,,,,,"\$equipRef \$navName",,,,,,@p:demo:r:273bc973-ad4473ba "Short Pump ElecMeter-Main",,,"off,on",,,,@p:demo:r:273bc973-c100aa85 "Short Pump Main Lights",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2021-02-07T21:30:00-05:00 New_York,,,,"cov",,2001,2019-01-01T00:00:00-05:00 New_York,,,,,"Bool",,,,,M,,,,,,,,"Status",,,,,,,,,,,,M,,,,,,,,,@p:demo:r:273bc973-b290ea22 "Richmond",,,,,,,,,,,,,,,@p:demo:r:273bc973-82920a8b "Short Pump",,,,,,,,,,,,,,,,,,,,,,,,"New_York",,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.604Z
@p:demo:r:273bc973-37636808 "Short Pump RTU-2 ZoneTemp",,,,,,M,,,,,,,,,,,,,,M,"ok",79.54426538867278°F,,,,,,,,,,,"\$equipRef \$navName",,,,,,,,,,,,,@p:demo:r:273bc973-d1003dfa "Short Pump RTU-2",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2021-02-07T23:45:00-05:00 New_York,,,,"sampled",,73816,2019-01-01T00:00:00-05:00 New_York,,,,,"Number",,,,,,,,,,,,,"ZoneTemp",,,,,,,,,,,,M,,,,,,,,,@p:demo:r:273bc973-b290ea22 "Richmond",,,,,,,,,,M,,,,,@p:demo:r:273bc973-82920a8b "Short Pump",,,,,,,,,,,,,M,,,,,,M,,,,,"New_York",,"°F",,,,,,,,,,,,,,,,,,M,2020-11-09T09:33:39.62Z
@p:demo:r:273bc971-cf751005 "kW",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"kW",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,"Site electrical kW demand min and max range over time period.",,,,,,,,,,,,,,,M,,,,,,,,,,"kpiKw",,,,,,,,,,,,,,,,,,,,,,,,,,,,,"site",,,,,,,,,,,,,,,"defcomp\n  target: {}\n  date:   {}\n  out:    {ro}\n  kw:     {bind:\"power and equipRef->siteMeter and siteRef=={{target->id}}\"}\n  do\n    if (kw == null) return null\n\n    his: hisRead(kw, date).hisClip\n    if (his.isEmpty or his.meta->hisEnd < kw->hisStart) return null\n\n    kpi: {min: his.foldCol(\"v0\", min),\n          max: his.foldCol(\"v0\", max)}\n\n    out = if (kpi.any v => na() == v ) null else kpi\n  end\nend",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.502Z
@p:demo:r:273bc973-b819c700 "Gaithersburg ElecMeter-Main kW",,,,,,,,,,,,,,,,,,,,M,"ok",907.7741165001kW,,,,,,,,,,,"\$equipRef \$navName",,,,,,,,,,,,,@p:demo:r:273bc973-89bc183d "Gaithersburg ElecMeter-Main",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2021-02-07T23:45:00-05:00 New_York,,,15min,"sampled",,73816,2019-01-01T00:00:00-05:00 New_York,,,,,"Number",,M,,,,,,,,,,,"kW",,,,,,,,,,,,M,M,,,,,,,,@p:demo:r:273bc973-2aa97161 "Washington DC",,,,,,,,,,M,,,M,,@p:demo:r:273bc973-878b5135 "Gaithersburg",,,,,,,,,,,,,,,,,,,,,,,,"New_York",,"kW",,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.643Z
@p:demo:r:273bc973-ad4473ba "Short Pump ElecMeter-Main",M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"\$siteRef \$navName",,,,M,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,"ElecMeter-Main",,,,,,,,,,,,,,,,,,,,,@p:demo:r:273bc973-b290ea22 "Richmond",,,,,,,,,,,,,M,,@p:demo:r:273bc973-82920a8b "Short Pump",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.599Z
@p:demo:r:273bc973-cfcc5c36 "Headquarters Parking Lights Zone-A",,,,,,,,,,,,,,,M,,,1.8$,,M,"ok",T,,,,,,,,,,,"\$equipRef \$navName",,,,,,@p:demo:r:273bc973-52b27202 "Headquarters ElecMeter-Lighting",,,"off,on",,,,@p:demo:r:273bc973-dd043b57 "Headquarters Parking Lights",,,,,,,,,,,,,,,,,,,,,,,,@p:demo:r:273bc973-578b7c26 "Headquarters Outside",,,,,,,,,,,,,M,2021-02-07T19:00:00-05:00 New_York,,,,"cov",,2307,2019-01-01T00:00:00-05:00 New_York,,,,,"Bool",,,,,M,,,,,,,,"Zone-A",,,,,,,,,M,,,M,,,,,,,,,@p:demo:r:273bc973-b290ea22 "Richmond",,,,,,,,,,,,,,,@p:demo:r:273bc973-0337ce3d "Headquarters",,,,,,,,,,,,,,,,,,,,,,,,"New_York",,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.562Z
@p:demo:r:273bc973-c5273f02 "Winter On-Peak Demand",,,,,,,,,,,,M,,"demand",,,,,,,,,,,,,,,,,,"Winter On-Peak Demand",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"inRange","ver:\"2.0\"\nmin,max,fee\n0,INF,3.0",,,,,,,,,,@p:demo:r:273bc971-f49b0004 "Small General Winter Schedule","onPeak",,,,,,,,,,,,,,,,,,,,,,,,@p:demo:r:273bc973-e2cccd91 "Small General Service",,,,,,,,,,"power and sensor",,,,,,,,,,,,,,,,,2020-11-09T09:33:39.722Z
@p:demo:r:273bc973-0d0461bd "Short Pump RTU-2 DischargePressure",,,,,,M,,,,,,,,,,,,,,M,"ok",0.9495773121931887inH₂O,,,,,,,,,,,"\$equipRef \$navName",M,,,,,,,,,,,,@p:demo:r:273bc973-d1003dfa "Short Pump RTU-2",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2021-02-07T23:45:00-05:00 New_York,,,,"sampled",,73816,2019-01-01T00:00:00-05:00 New_York,,,,,"Number",,,,,,,,,,,,,"DischargePressure",,,,,,,,,,,,M,,M,,,,,,,@p:demo:r:273bc973-b290ea22 "Richmond",,,,,,,,,,M,,,,,@p:demo:r:273bc973-82920a8b "Short Pump",,,,,,,,,,,,,,,,,,,,,,,,"New_York",,"inH₂O",,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.629Z
@p:demo:r:273bc973-9c9a0839 "Short Pump RTU-1 ZoneTemp",,,,,,M,,,,,,,,,,,,,,M,"ok",79.26353820498353°F,,,,,,,,,,,"\$equipRef \$navName",,,,,,,,,,,,,@p:demo:r:273bc973-533106bd "Short Pump RTU-1",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2021-02-07T23:45:00-05:00 New_York,,,,"sampled",,73816,2019-01-01T00:00:00-05:00 New_York,,,,,"Number",,,,,,,,,,,,,"ZoneTemp",,,,,,,,,,,,M,,,,,,,,,@p:demo:r:273bc973-b290ea22 "Richmond",,,,,,,,,,M,,,,,@p:demo:r:273bc973-82920a8b "Short Pump",,,,,,,,,,,,,M,,,,,,M,,,,,"New_York",,"°F",,,,,,,,,,,,,,,,,,M,2020-11-09T09:33:39.608Z
@p:demo:r:273bc971-a1e21e2c "ZoneTemp Δ Sp",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"ZoneTemp Δ Sp",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Average delta of zone temp versus its configured setpoint.",,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,"kpiZoneTempDeltaSp","ahu",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:47.862Z
@p:demo:r:273bc971-89c0bd95 "equipToPoints",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"equipToPoints",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"/*\n This function overrides standard 'site::equipToPoints' function\n and illustrates how you can customize the points displayed by\n by apps such as the SiteApp.  We demo two techniques in this\n example.  First we include every \"site-wide\" point with the 'sitePoint'\n tag.  Secondly for nested equips, we look for the 'summary' tag\n to show select points in the parent equip.\n*/\n(equip) => do\n   readAll(point and\n     ((equipRef==equip->id) or                     // direct points\n     (sitePoint and siteRef==equip->siteRef) or    // site-wide points\n     (equipRef->equipRef==equip->id and summary))) // summary points of nested equip\nend",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.489Z
@p:demo:r:273bc971-948bc91c "addEnumPoints",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"addEnumPoints",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"// add an ahuMode enum point to all AHUs\n() => do\n  readAll(ahu).each ahu => do\n\n    // tags for point\n    tags: {\n      disMacro: \"\\\$equipRef \\\$navName\",\n      navName: \"Mode\",\n      kind: \"Str\",\n      enum: \"off,heat,cool\",\n      point,\n      his,\n      sp,\n      ahuMode,\n      regionRef: ahu->regionRef,\n      siteRef: ahu->siteRef,\n      equipRef: ahu->id,\n      tz: ahu->siteRef->tz,\n    }\n    if (ahu.has(\"floorRef\")) tags = tags.set(\"floorRef\", ahu->floorRef)\n\n    // add the point\n    pt: diff(null, tags, {add}).commit\n    logInfo(\"addEnumPoints\", \"Adding \" + pt.dis)\n\n    // populate the point's history\n    fan: read(fan and cmd and equipRef==ahu->id)\n    (fan->hisStart.date .. fan->hisEnd.date).eachDay d => do\n      items: []\n      cooling: ahuCoolPeriods(ahu, d)\n      heating: ahuHeatPeriods(ahu, d)\n      matrix: hisPeriodMatrix([cooling, heating])\n      matrix.each row => do\n        if (row->ts.date != d) return null\n        mode: \"off\"\n        if (row[\"v0\"] == true) mode = \"cool\"\n        else if (row[\"v1\"] == true) mode = \"heat\"\n        items = items.add({ts: row->ts, val: mode})\n      end\n      hisWrite(items, pt)\n    end\n\n  end\nend",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.515Z
@p:demo:r:273bc973-d1003dfa "Short Pump RTU-2",,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"\$siteRef \$navName",,,,,,@p:demo:r:273bc973-ad4473ba "Short Pump ElecMeter-Main",,,,M,,,@p:demo:r:273bc973-9eab53b8 "Short Pump  RTUs",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,"RTU-2",,,,,,,,,,,,,,,,,,,,,@p:demo:r:273bc973-b290ea22 "Richmond",,M,M,,,,,,,,,,,,@p:demo:r:273bc973-82920a8b "Short Pump",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.618Z
@p:demo:r:273bc973-53552e6a "Short Pump ElecMeter-Main kWh",,,,,,,,,,,,,,,,,,,,M,"ok",815.7069770777703kWh,,,,,,,,,,,"\$equipRef \$navName",,,,,,,,M,,,,,@p:demo:r:273bc973-ad4473ba "Short Pump ElecMeter-Main",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,"elecKwToKwhHis",,15min,"consumption",,,,,,,,"Number",,,,,,,,,,,,,"kWh",,,,,,,,,,,,M,,,,,,,,,@p:demo:r:273bc973-b290ea22 "Richmond",,,,,,,,,,M,,,M,,@p:demo:r:273bc973-82920a8b "Short Pump",,,,,,,,,,,,,,,,,,,,,,,,"New_York",,"kWh",,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.601Z
@p:demo:r:273bc971-152c27ca "Site Report",,,,,,,"demo",,,,,,,,,,,,,,,,,,,,,,,,,"Site Report",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"view: {inherit:\"page\"}\nsite: {var kind:\"Ref<site>\" input}\nspan: {var kind:\"Span\" input defVal:Span(\"lastWeek\")}\nsubView: Trio:\n  view: {inherit:\"fandoc\"}\n  site: {var binding:\"../site\"}\n  span: {var binding:\"../span\"}\n  data: {expr:\"demoSiteReport({{site}}, {{span}}, 1)\"}\nsubView1: Trio:\n  view: {inherit:\"chart\"}\n  site: {var binding:\"../site\"}\n  span: {var binding:\"../span\"}\n  data: {expr:\"demoSiteReport({{site}}, {{span}}, 2)\"}\nsubView2: Trio:\n  view: {inherit:\"chart\"}\n  site: {var binding:\"../site\"}\n  span: {var binding:\"../span\"}\n  data: {expr:\"demoSiteReport({{site}}, {{span}}, 3)\"}\nsubView3: Trio:\n  view: {inherit:\"chart\"}\n  site: {var binding:\"../site\"}\n  span: {var binding:\"../span\"}\n  data: {expr:\"demoSiteReport({{site}}, {{span}}, 4)\"}",,,,,,,,,,,,,,,,,,,,,,,,,"demoSiteReport",,,,,,,,,,,,,,2020-11-09T09:33:39.694Z
@p:demo:r:273bc971-d3307e8a "Tenants",,,,,,,"demo",,,,,,,,,,,,,,,,,,,,,,,,,"Tenants",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"view:  {inherit:\"table\"}\nnew:   {action:\"recNew\"}\nedit:  {action:\"recEdit\"}\ntrash: {action:\"recTrash\"}\ndata:  {expr:\"readAll(demoTenant)\"}",,,,,,,,,,,,,,,"demoTenant",,,,,,,,,,"demoTenants",,,,,,,,,,,,,,2020-11-09T09:33:39.699Z
@p:demo:r:273bc973-1cf5bd42 "Headquarters ElecMeter-Hvac",M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"\$siteRef \$navName",,,,M,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,@p:demo:r:273bc973-b82540a7 "Headquarters Utility",,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,M,,,,,,"ElecMeter-Hvac",,,,,,,,,,,,,,,,,,,,,@p:demo:r:273bc973-b290ea22 "Richmond",,,,,,,,,,,,,,,@p:demo:r:273bc973-0337ce3d "Headquarters",,,,,,,,,,,,@p:demo:r:273bc973-05877f17 "Headquarters ElecMeter-Main",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.544Z
@p:demo:r:273bc973-b78f2490 "Demand",,,,,,,,,,,,M,,"demand",,100,,,,,,,,,,,,,,,,"Demand",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"inRange","ver:\"2.0\"\nmin,max,fee\n0,INF,3.00",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,@p:demo:r:273bc973-ddfda4f6 "Schedule A",,,,,,,,,,"power and sensor",,,,,,,,,,,,,,,,,2020-11-09T09:33:39.71Z
@p:demo:r:273bc971-463655c2 "AHU Cool and Econ",,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,"AHU Cool and Econ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Unit is simultaneously running mechanical cooling with the outside\ndamper open.  Most likely cause is a problem in the control algorithm.",,,,,,,,,,,,M,"Controls",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,"ahuCoolAndEcon","ahu",,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:47.843Z
@p:demo:r:273bc971-4220c935 "renameSites",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"renameSites",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"() => do\n  // rename all the sites\n\n  // update projMeta\n  read(projMeta).diff({dis:\"North\", doc:\"Demo sites in north\", demoProj}).commit\n\n  // read Washington DC region\n  dc: read(region and dis==\"Washington DC\", false)\n  if (dc == null) throw \"Cannot find Washington DC region, did you run renameSites twice?\"\n\n  // mapping\n  changes: {\n    // regions - change Richmond, tweak washington\n    \"Richmond\":  {dis:\"Philadelphia\"},\n    \"Washington DC\": {dis:\"Washington DC North\"},\n\n    // weather - change Richmond, leave DC\n    \"Richmond, VA\": {dis:\"Philadelphia, PA\"},\n\n    // sites\n    \"Carytown\":     {dis: \"Rittenhouse\", geoStreet: \"100 Walnut St\",    geoCity: \"Philadelphia\", geoState:\"PA\", geoPostalCode: \"19004\"},\n    \"Gaithersburg\": {dis: \"Woodly Park\", geoStreet: \"3133 Connecticut\", geoCity: \"Washington\",   geoState:\"DC\", geoPostalCode: \"20008\", regionRef:dc->id},\n    \"Headquarters\": {dis: \"Chevy Chase\", geoStreet: \"31 Center Dr\",     geoCity: \"Bethesda \",    geoState:\"MD\", geoPostalCode: \"20810\", regionRef:dc->id},\n    \"Short Pump\":   {dis: \"Fairhill\",    geoStreet: \"N 4th St\",         geoCity: \"Philadelphia\", geoState:\"PA\", geoPostalCode: \"19880\"},\n  }\n\n  changes.each() (c, disKey) => do\n    rec: read(dis == disKey)\n    if (rec.has(\"site\")) do\n      c = c.set(\"metro\", rec->regionRef->dis)\n      c = c.set(\"geoAddr\", \"\" + c->geoStreet + \", \" + c->geoCity + \" \" + c->geoState)\n    end\n    diff(rec, c).commit\n  end\nend",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.531Z
@p:demo:r:273bc971-6290af2e "convertToMetric",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"convertToMetric",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"/*\n\n This function is used to convert the demo database from US cities\n and imperial units to British cities and the metric system.  You\n may customize the cities and changes in the tables below.\n\n This function should be spawned as a task.  From the Tools|Shell view\n run this expression:\n\n   taskRun( convertToMetric() )\n\n*/\n() => do\n\n  ////////////////////////////////////////////////////////////////////\n  // constants\n  ////////////////////////////////////////////////////////////////////\n\n  newCurrency: \"£\"\n  newTimeZone: \"London\"\n  logCat: \"convertToMetric\"\n\n  ////////////////////////////////////////////////////////////////////\n  // region rec changes keyed by display name\n  ////////////////////////////////////////////////////////////////////\n\n  regionChanges: {\n    \"Richmond\": { dis: \"London\" },\n    \"Washington DC\": { dis: \"Manchester\" },\n  }\n\n  ////////////////////////////////////////////////////////////////////\n  // weather rec changes keyed by display name\n  ////////////////////////////////////////////////////////////////////\n\n  weatherChanges: {\n    \"Richmond, VA\":\n    {\n      dis: \"London\",\n      geoCoord: coord(51.517,-0.106),\n      geoCity: \"London\",\n      geoCountry: \"GB\",\n      tz: newTimeZone,\n      -geoState,\n    },\n\n    \"Washington, DC\":\n    {\n      dis: \"Manchester\",\n      geoCoord: coord(53.483,-2.25),\n      geoCity: \"Manchester\",\n      geoCountry: \"GB\",\n      tz: newTimeZone,\n      -geoState,\n    },\n  }\n\n  ////////////////////////////////////////////////////////////////////\n  // site rec changes keyed by display name\n  ////////////////////////////////////////////////////////////////////\n\n  siteChanges: {\n    \"Headquarters\": {\n      dis: \"Headquarters\",\n      geoAddr: \"46 Westferry Circus, Canary Wharf, London, E14 8RS\",\n      geoCoord: coord(51.506699,-0.02802),\n      geoStreet: \"46 Westferry Circus\",\n      geoPostalCode: \"E14 8RS\",\n      geoCity: \"London\",\n      geoCountry: \"GB\",\n      tz: \"London\",\n      -geoState, -metro,\n    },\n\n    \"Carytown\": {\n      dis: \"Richmond\",\n      geoAddr: \"29 George St Richmond, Greater London TW9 1HY\",\n      geoCoord: coord(51.460784,-0.304304),\n      geoStreet: \"29 George St\",\n      geoPostalCode: \"TW9 1HY\",\n      geoCity: \"Richmond\",\n      geoCountry: \"GB\",\n      tz: newTimeZone,\n      -geoState, -metro,\n    },\n\n    \"Short Pump\": {\n      dis: \"Enfield\",\n      geoAddr: \"70 Lancaster Road Gordon Hill, Enfield EN2 0BX\",\n      geoCoord: coord(51.663672,-0.079569),\n      geoStreet: \"70 Lancaster Rd\",\n      geoPostalCode: \"EN2 0BX\",\n      geoCity: \"Enfield\",\n      geoCountry: \"GB\",\n      tz: newTimeZone,\n      -geoState, -metro,\n    },\n\n    \"Gaithersburg\": {\n      dis: \"Manchester\",\n      geoAddr: \"401 Great Western St Manchester M14 4AH\",\n      geoCoord: coord(53.456852,-2.227029),\n      geoStreet: \"401 Great Western St\",\n      geoPostalCode: \"M14 4AH\",\n      geoCity: \"Manchester\",\n      geoCountry: \"GB\",\n      tz: newTimeZone,\n      -geoState, -metro,\n    },\n  }\n\n  ////////////////////////////////////////////////////////////////////\n  // utility to commit diff\n  ////////////////////////////////////////////////////////////////////\n\n  commitChanges: (what, rec, changes) => do\n    logInfo(logCat, \"Change \" + what + \": \" + rec.dis + \" => \" + changes.dis)\n    diff(rec, changes).commit\n  end\n\n  ////////////////////////////////////////////////////////////////////\n  // utility to convert units of history\n  ////////////////////////////////////////////////////////////////////\n\n  convertUnit: (rec, newUnit) => do\n    oldUnit: rec->unit\n    logInfo(logCat, \"Change unit \" + oldUnit + \" => \" + newUnit + \": \" + rec.dis)\n    hisRewrite(rec) (val, ts) => [ts, val.to(newUnit)]\n  end\n\n  ////////////////////////////////////////////////////////////////////\n  // utility to convert timezones\n  ////////////////////////////////////////////////////////////////////\n\n  convertTimeZone: (rec) => do\n    logInfo(logCat, \"Change tz \" + rec[\"tz\"] + \" => \" + newTimeZone + \": \" + rec.dis)\n    if (rec.has(\"hisFunc\"))\n      diff(rec, {tz: newTimeZone}).commit\n    else\n      hisRewrite(rec) (val, ts) => [dateTime(ts.date, ts.time, newTimeZone), val]\n  end\n\n  ////////////////////////////////////////////////////////////////////\n  // main\n  ////////////////////////////////////////////////////////////////////\n\n  // lets get this party started\n  logInfo(logCat, \"Begin conversion...\")\n\n  // modify regions\n  readAll(region).each rec  => do\n    changes: regionChanges[rec->dis]\n    if (changes == null) return logWarn(logCat, \"Region not mapped: \" + rec.dis)\n    commitChanges(\"region\", rec, changes)\n  end\n\n  // modify weather\n  readAll(weatherStation).each rec  => do\n    changes: weatherChanges[rec->dis]\n    if (changes == null) return logWarn(logCat, \"Weather not mapped: \" + rec.dis)\n    commitChanges(\"weatherStation\", rec, changes)\n  end\n\n  // modify sites\n  readAll(site).each rec => do\n    changes: siteChanges[rec->dis]\n    if (changes == null) return logWarn(logCat, \"Site not mapped: \" + rec.dis)\n    changes = changes.set(\"area\", rec->area.to(1m²))\n    commitChanges(\"site\", rec, changes)\n  end\n\n  // change units\n  readAll(unit==\"°F\").each rec => convertUnit(rec, \"°C\")\n  readAll(unit==\"inH₂O\").each rec => convertUnit(rec, \"kPa\")\n  readAll(unit==\"gal\").each rec => convertUnit(rec, \"m³\")\n  readAll(unit==\"\\\$\").each rec => diff(rec, {unit:newCurrency}).commit\n  readAll(costPerHour).each rec => diff(rec, {costPerHour:rec->costPerHour.as(newCurrency)}).commit\n\n  // change timezone of all points\n  readAll(his and tz==\"New_York\").each rec => convertTimeZone(rec)\n\n  // change dis tags of KPIs\n  try do\n    read(dis==\"kW Norm (kW/ft²/°daysF)\").diff({dis:\"kW Norm (kW/m²/°daysC)\"}).commit\n    read(dis==\"kWh Norm (kWh/ft²/°daysF)\").diff({dis:\"kWh Norm (kWh/m²/°daysC)\"}).commit\n    read(dis==\"kWh Δ Prev Year (kWh/°daysF)\").diff({dis:\"kWh Δ Prev Year (kWh/°daysC)\"}).commit\n  catch\n    logWarn(logCat, \"KPIs not found\")\n\n  // fix kpiSparkCost unit\n  try do\n    newSrc: \"(site, dates) => do\\n\" +\n    \"  sparks: navFilter(\\\"sparkTarget\\\", site).sparks(dates)\\n\" +\n    \"  cost: if (sparks.missing(\\\"cost\\\")) 0\" + newCurrency + \" else sparks.foldCol(\\\"cost\\\", sum)\\n\" +\n    \"  if (na() == cost) null else {sum: cost}\\n\" +\n    \"end\"\n\n    read(name==\"kpiSparkCost\").diff({src: newSrc}).commit\n  catch\n    logWarn(logCat, \"Failed to fix kpiSparkCost\")\n\n  // recompute rules\n  logInfo(logCat, \"Recompute rules\")\n  ruleRosterRefresh()\n  ruleDelete(null, null, null)\n\n  // all done!\n  logInfo(logCat, \"Conversion complete!\")\n\nend",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.514Z
@p:demo:r:273bc973-1db5797e "Headquarters Floor-1 Lights  Zone-A",,,,,,,,,,,,,,,M,,,2.4$,,M,"ok",T,,,,,,,,,,,"\$equipRef \$navName",,,,,,@p:demo:r:273bc973-52b27202 "Headquarters ElecMeter-Lighting",,,"off,on",,,,@p:demo:r:273bc973-ed48131b "Headquarters Floor-1 Lights ",,,,,,,,,,,,,,,,,,,,,,,,@p:demo:r:273bc973-87cebf12 "Headquarters Floor-1",,,,,,,,,,,,,M,2021-02-07T00:00:00-05:00 New_York,,,,"cov",,1867,2019-01-01T00:00:00-05:00 New_York,,,,,"Bool",,,,,M,,,,,,,,"Zone-A",,,,,,,,,,,,M,,,,,,,,,@p:demo:r:273bc973-b290ea22 "Richmond",,,,,,,,,,,,,,,@p:demo:r:273bc973-0337ce3d "Headquarters",,,,,,,,,,,,,,,,,,,,,,,,"New_York",,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.556Z
@p:demo:r:273bc971-563de16b "ZoneTemp Δ Sp",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"ZoneTemp Δ Sp",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,"Average delta of zone temp versus its configured setpoint.",,,,,,,,,,,,,,,M,,,,,,,,,,"kpiZoneTempDeltaSp",,,,,,,,,,,,,,,,,,,,,,,,,,,,,"ahu",,,,,,,,,,,,,,,"defcomp\n  target: {}\n  date:   {}\n  out:    {ro}\n  sensor: {bind:\"zone and temp and sensor and equipRef=={{target->id}}\"}\n  sp:     {bind:\"zone and temp and sp and equipRef=={{target->id}}\"}\n  do\n    // bail if we are missing points\n    if (sensor == null or sp == null) return null\n\n    // get interpolated difference between sensor - sp for samples\n    deltas: hisRead([sensor, sp], date)\n             .hisInterpolate\n             .hisClip\n             .map(r => r.set(\"delta\", r[\"v0\"] - r[\"v1\"]))\n\n    // return avg delta\n    kpiDelta: deltas.foldCol(\"delta\", avg)\n    out = if (na() == kpiDelta) null else {delta: kpiDelta}\n  end\nend",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.508Z
@p:demo:r:273bc971-9e45dbb9 "AHU Outside Damper Stuck Closed",,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,"AHU Outside Damper Stuck Closed",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Damper should be open, but temp differential between mixed air\nsensor and outisde air sensor indicates that outside air is not\nbeing brought in.  If mixed sensor is not available we use discharge\nsensor but only when unit is not cooling nor heating.\n\nRecommended Actions\n===================\n1. Look to see if damper control signal is oscillating\n2. Look to see if damper is being commanded closed during times sparks are found\n3. Manually check damper to see if linkage is broken or stuck\n\n**Priority:** Medium",,,,,,,,,,,,M,"Energy",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,"ahuOutsideDamperStuckClosed","ahu",,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:47.849Z
@p:demo:r:273bc971-f61edd4a "ZoneTemp Occ Avg",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"ZoneTemp Occ Avg",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,"Average zone temp during occupancy",,,,,,,,,,,,,,,M,,,,,,,,,,"kpiZoneTempOccAvg",,,,,,,,,,,,,,,,,,,,,,,,,,,,,"ahu",,,,,,,,,,,,,,,"defcomp\n  target: {}\n  date:   {}\n  out:    {ro}\n  sensor: {bind:\"zone and temp and sensor and equipRef=={{target->id}}\"}\n  occ:    {bind:\"occupied and sp and siteRef=={{target->siteRef}}\"}\n  do\n    // bail if missing points\n    if (sensor == null or occ == null) return null\n\n    // get occupancy schedule\n    occupied: hisRead(occ, date).hisFindPeriods(v => v)\n\n    // get temps within occupancy\n    temps: hisRead(sensor, date).hisClip.hisFindInPeriods(occupied)\n\n    // return avg\n    out = {avg: temps.foldCol(\"v0\", avg)}\n  end\nend",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.509Z
@p:demo:r:273bc973-17d921c9 "Summer On-Peak Consumption",,,,,,,,,,,,M,,"consumption",,,,,,,,,,,,,,,,,,"Summer On-Peak Consumption",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"inRange","ver:\"2.0\"\nmin,max,fee\n0,INF,0.05",,,,,,,,,,@p:demo:r:273bc971-69e34f33 "Small General Summer Schedule","onPeak",,,,,,,,,,,,,,,,,,,,,,,,@p:demo:r:273bc973-e2cccd91 "Small General Service",,,,,,,,,,"energy and sensor",,,,,,,,,,,,,,,,,2020-11-09T09:33:39.716Z
@p:demo:r:273bc973-c300fe28 "Distribution kWh",,,,,,,,,,,,M,,"consumption",,,,,,,,,,,,,,,,,,"Distribution kWh",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"inRange","ver:\"2.0\"\nmin,max,fee\n0,INF,0.025",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,@p:demo:r:273bc973-ddfda4f6 "Schedule A",,,,,,,,,,"energy and sensor",,,,,,,,,,,,,,,,,2020-11-09T09:33:39.708Z
@p:demo:r:273bc973-50099e44 "Gaithersburg RTU-1 Cool-2",,,,,,,,,,,,,,,M,,M,,,M,"ok",F,,,,,,,,,,,"\$equipRef \$navName",,,,,,@p:demo:r:273bc973-a4beef99 "Gaithersburg ElecMeter-Hvac",M,,"off,on",,,,@p:demo:r:273bc973-2dd1727d "Gaithersburg RTU-1",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2021-02-07T00:00:00-05:00 New_York,,,,"cov",,2521,2019-01-01T00:00:00-05:00 New_York,,,,,"Bool",,,,,,,,,,,,,"Cool-2",,,,,,,,,,,,M,,,,,,,,,@p:demo:r:273bc973-2aa97161 "Washington DC",,,,,,,,,,,,,,,@p:demo:r:273bc973-878b5135 "Gaithersburg",,,,,,,2,,,,,,M,,,,,,,,,,,"New_York",,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.658Z
@p:demo:r:273bc973-84e3d670 "Short Pump RTU-2 Cool-2",,,,,,,,,,,,,,,M,,M,,,M,"ok",T,,,,,,,,,,,"\$equipRef \$navName",,,,,,@p:demo:r:273bc973-ad4473ba "Short Pump ElecMeter-Main",M,,"off,on",,,,@p:demo:r:273bc973-d1003dfa "Short Pump RTU-2",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2021-02-07T00:00:00-05:00 New_York,,,,"cov",,2311,2019-01-01T00:00:00-05:00 New_York,,,,,"Bool",,,,,,,,,,,,,"Cool-2",,,,,,,,,,,,M,,,,,,,,,@p:demo:r:273bc973-b290ea22 "Richmond",,,,,,,,,,,,,,,@p:demo:r:273bc973-82920a8b "Short Pump",,,,,,,2,,,,,,M,,,,,,,,,,,"New_York",,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.623Z
@p:demo:r:273bc973-2942cb40 "Short Pump RTU-1 DischargePressure",,,,,,M,,,,,,,,,,,,,,M,"ok",0.09404525769153815inH₂O,,,,,,,,,,,"\$equipRef \$navName",M,,,,,,,,,,,,@p:demo:r:273bc973-533106bd "Short Pump RTU-1",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2021-02-07T23:45:00-05:00 New_York,,,,"sampled",,73816,2019-01-01T00:00:00-05:00 New_York,,,,,"Number",,,,,,,,,,,,,"DischargePressure",,,,,,,,,,,,M,,M,,,,,,,@p:demo:r:273bc973-b290ea22 "Richmond",,,,,,,,,,M,,,,,@p:demo:r:273bc973-82920a8b "Short Pump",,,,,,,,,,,,,,,,,,,,,,,,"New_York",,"inH₂O",,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.617Z
@p:demo:r:273bc973-65253a78 "Carytown Misc Occupancy",,,,,,,,,,,,,,,,,,,,M,"ok",T,,,,,,,,,,,"\$equipRef \$navName",,,,,,,,,"unocc,occ",,,,@p:demo:r:273bc973-45b9fe28 "Carytown Misc",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2021-02-07T20:15:00-05:00 New_York,,,,"cov",,2307,2019-01-01T00:00:00-05:00 New_York,,,,,"Bool",,,,,,,,,,,,,"Occupancy",,,,M,,,,,,,,M,,,,,,,,,@p:demo:r:273bc973-b290ea22 "Richmond",,,,,,,,,,,,,,M,@p:demo:r:273bc973-0e0d105d "Carytown",M,,,,,,,,,,,,,,,,,,,,,,,"New_York",,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.577Z
@p:demo:r:273bc971-69e34f33 "Small General Summer Schedule",,,,,,,,,,,@p:demo:r:273bc971-bfd6ac0b "Main Calendar",,,,,,,,,M,"ok","inactive",,,,,,,,,,"Small General Summer Schedule",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Str",,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,"ver:\"2.0\"\ncalendar,dateSpan,dis,end,start,val,weekdays\n,\"*-01-01..*-05-31\",\"Winter\",00:00:00,00:00:00,\"inactive\",\n,\"*-10-01..*-12-31\",\"Winter\",00:00:00,00:00:00,\"inactive\",\n\"Holiday\",,\"Holiday\",00:00:00,00:00:00,\"offPeak\",\n,,\"Weekends\",00:00:00,00:00:00,\"offPeak\",\"sun,sat\"\n,,\"On Peak\",18:00:00,10:00:00,\"onPeak\",\"mon,tue,wed,thu,fri\"\n,,\"Off Peak\",00:00:00,00:00:00,\"offPeak\",\"sun,mon,tue,wed,thu,fri,sat\"",,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,"New_York",,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.705Z
@p:demo:r:273bc973-ce76b2bf "p:demo:r:273bc973-ce76b2bf",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"hvac",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.48Z
@p:demo:r:273bc971-5fd67c08 "AHU Outside Damper Stuck Open",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"AHU Outside Damper Stuck Open",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,"Damper should be closed, but temp differential between mixed air\nsensor and return air sensor indicates that significant outside\nair is being mixed.  If mixed sensor is not available we use discharge\nsensor but only when unit is not cooling nor heating.\n\nRecommended Actions\n===================\n1. Look to see if damper control signal is oscillating\n2. Look to see if damper is being commanded open during times sparks are found\n3. Manually check damper to see if linkage is broken or stuck\n\n**Priority:** Medium",,,,,,,,,,,,,,,,,,,,,,,,,"ahuOutsideDamperStuckOpen",,,,,,,,,,,,,,,,,,,,,,,,,,,,,"ahu",,,,,,,,,,,,,M,,"/*\n  Damper should be closed, but temp differential between mixed air\n  sensor and return air sensor indicates that significant outside\n  air is being mixed.  If mixed sensor is available we use discharge\n  sensor but only when unit is not cooling nor heating.\n*/\ndefcomp\n\n  target:        {}\n  date:          {}\n  out:           {ro}\n  fan:           {bind:\"fan and cmd and equipRef=={{target->id}}\"}\n  damper:        {bind:\"damper and cmd and equipRef=={{target->id}}\"}\n  returnTemp:    {bind:\"return and air and temp and sensor and equipRef=={{target->id}}\"}\n  mixedTemp:     {bind:\"mixed and air and temp and sensor and equipRef=={{target->id}}\"}\n  dischargeTemp: {bind:\"discharge and air and temp and sensor and equipRef=={{target->id}}\"}\n  tolerance:     {bindTuning:\"tolerance\", defVal:8Δ°F}\n\n  do\n    // convert tolerance to metric if neccessary\n    if (isMetric(dischargeTemp)) tolerance = tolerance.to(1Δ°C)\n\n    // get our periods\n    fanOn: hisRead(fan, date).hisFindPeriods(matchPointVal(_, true))\n    damperClosed: hisRead(damper, date).hisFindPeriods(matchPointVal(_, 0..10))\n\n    // if we have mixed air sensor find periods outside of our\n    // tolerance range; otherwise use difference between return\n    // and discharge but only when heating and cooling is off\n    match: diff => diff != na() and diff.abs > tolerance\n    if (mixedTemp != null) do\n      tempPeriods: ahuTempDiff(mixedTemp, returnTemp, date).hisFindPeriods(match)\n    else do\n      tempPeriods: hisPeriodIntersection([\n        ahuTempDiff(returnTemp, dischargeTemp, date).hisFindPeriods(match),\n        ahuCoolPeriods(target, date, false),\n        ahuHeatPeriods(target, date, false)])\n    end\n\n    // compute intersection of periods\n    out = hisPeriodIntersection([fanOn, damperClosed, tempPeriods])\n  end\nend",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.49Z
@p:demo:r:273bc973-b4792320 "Richmond, VA Sunrise",,,,,,,,,,,,,,,,,,,,M,"ok",F,,,,,,,,,,,"\$weatherStationRef \$navName",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2021-02-07T17:41:00-05:00 New_York,,,,,,1538,2019-01-01T07:25:00-05:00 New_York,,,,,"Bool",,,,,,,,,,,,,"Sunrise",,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,"New_York",,,,,,,,,,,,,M,,,@p:demo:r:273bc973-fdc1d616 "Richmond, VA","sunrise",,,,2020-11-09T09:33:39.681Z
@p:demo:r:273bc973-a7935e34 "Winter Off-Peak Consumption",,,,,,,,,,,,M,,"consumption",,,,,,,,,,,,,,,,,,"Winter Off-Peak Consumption",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"inRange","ver:\"2.0\"\nmin,max,fee\n0,INF,0.015",,,,,,,,,,@p:demo:r:273bc971-f49b0004 "Small General Winter Schedule","offPeak",,,,,,,,,,,,,,,,,,,,,,,,@p:demo:r:273bc973-e2cccd91 "Small General Service",,,,,,,,,,"energy and sensor",,,,,,,,,,,,,,,,,2020-11-09T09:33:39.719Z
@p:demo:r:273bc971-c4b02485 "kW Norm (kW/ft²/°daysF)",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"kW Norm (kW/ft²/°daysF)",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Site electrical kW demand min and max range normalized by ft² and degree day.",,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,"kpiKwNorm","site",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:47.858Z
@p:demo:r:273bc971-c913e90a "kWh Δ Prev Year (kWh/°daysF)",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"kWh Δ Prev Year (kWh/°daysF)",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,"Delta of KWh consumption between selected time range and previous\nyear normalized by degree day.",,,,,,,,,,,,,,,M,,,,,,,,,,"kpiKwhDeltaPrevYear",,,,,,,,,,,,,,,,,,,,,,,,,,,,,"site",,,,,,,,,,,,,,,"defcomp\n  target: {}\n  date:   {}\n  out:    {ro}\n  kwh:    {bind:\"energy and equipRef->siteMeter and siteRef=={{target->id}}\"}\n  do\n    if (kwh == null) return null\n\n    try do\n      cur: hisRead(kwh, date).hisClip.energyNormByDegreeDay.foldCol(\"v0\", sum)\n      base: energyBaselinePrevYear(kwh, date).hisClip.energyNormByDegreeDay.foldCol(\"v0\", sum)\n      out = {delta: (cur - base).as(1)}\n    end catch null\n  end\nend",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.506Z
@p:demo:r:273bc971-9eedf97e "kWh Δ Prev Year (kWh/°daysF)",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"kWh Δ Prev Year (kWh/°daysF)",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Delta of KWh consumption between selected time range and previous\nyear normalized by degree day.",,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,"kpiKwhDeltaPrevYear","site",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:47.861Z
@p:demo:r:273bc973-b82540a7 "Headquarters Utility",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"\$siteRef \$navName",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Utility",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,@p:demo:r:273bc973-0337ce3d "Headquarters",,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.537Z
@p:demo:r:273bc973-7425aca4 "Carytown ElecMeter-Main",M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"\$siteRef \$navName",,,,M,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,"ElecMeter-Main",,,,,,,,,,,,,,,,,,,,,@p:demo:r:273bc973-b290ea22 "Richmond",,,,,,,,,,,,,M,,@p:demo:r:273bc973-0e0d105d "Carytown",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.578Z
@p:demo:r:273bc971-f3207d1f "oldChartDemoKwh",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"oldChartDemoKwh",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"// Build a stacked bar graph with total consumption for each\n// month this year.  Chart type must be \"bar\" or \"stackedBar\".\n(chartType: \"stackedBar\") => do\n  // read all the sites and their main meter kwh  point\n  sites: readAll(site).sort(\"dis\")\n  kwhs: sites.map site => read(siteMeter and energy and siteRef==site->id)\n\n  // build up rows of {dis: month, site0: kwh, site1: kwh, ...}\n  rows: []\n  times(12) (i) => do\n    // get first and last of month\n    year: now().year\n    month: i+1\n    startOfMonth: date(year, month, 1)\n    endOfMonth: date(year, month, numDaysInMonth(startOfMonth))\n\n    // init row with dis: MMM\n    row: {dis: startOfMonth.format(\"MMM\")}\n\n    // add site0, site1, for total consumption for the site in current month\n    each(sites) (site, i) => do\n      kwh: hisRead(kwhs[i], startOfMonth..endOfMonth).hisClip.foldCol(\"v0\", sum)\n      row = row.set(\"site\"+i, kwh)\n    end\n\n    // add to our list of rows\n    rows = rows.add(row)\n  end\n\n  // now turn Dict[] into grid with column meta for each site column\n  grid: rows.toGrid\n  each(sites) (site, i) => do\n    grid = grid.addColMeta(\"site\"+i, {dis: site.dis, chartType: chartType, chartGroup: \"g\"})\n  end\n  grid.chart\nend",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.517Z
@p:demo:r:273bc973-82920a8b "Short Pump",,,,,,,,17122ft²,,,,,,,,,,,,,,,,,,,,,,,,"Short Pump",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11282 W Broad St, Richmond, VA","Glen Allen",C(37.650338,-77.606105),"US","23060","VA","11282 W Broad St",,,,,,,,,,,,,,,,,,,,,,,,,"Richmond",,,,,,,,,21:00:00,10:00:00,,,,,,,,,"Retail Store",,,,,,@p:demo:r:273bc973-b290ea22 "Richmond",,,,,,,,,,,,M,,,,,,,,,,,,,M,3,,,,,,,,,,,,,"New_York",,,,,,,,,,,,,,,,@p:demo:r:273bc973-fdc1d616 "Richmond, VA",,,1999,,2020-11-09T09:33:39.596Z
@p:demo:r:273bc973-e2cccd91 "Small General Service",,,,,,,,,,,,,,,,,,,,,,,,,,,"\$",,,,,"Small General Service",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.715Z
@p:demo:r:273bc971-8d5f5548 "ahuTempDiff",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"ahuTempDiff",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"/*\n  Temperature differential between two points, return\n  history grid of 'point2 - point1'.\n*/\n(point1, point2, dates) => do\n  hisRead([point1, point2], dates).hisInterpolate.map row => do\n    {ts: row->ts, v0: row[\"v1\"] - row[\"v0\"] }\n  end\nend",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.494Z
@p:demo:r:273bc973-65cdbc82 "Gaithersburg RTU-1 Heat-1",,,,,,,,,,,,,,,M,,,,,M,"ok",T,,,,,,,,,,,"\$equipRef \$navName",,,,,,@p:demo:r:273bc973-a4beef99 "Gaithersburg ElecMeter-Hvac",M,,"off,on",,,,@p:demo:r:273bc973-2dd1727d "Gaithersburg RTU-1",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,M,2021-02-07T21:15:00-05:00 New_York,,,,"cov",,2027,2019-01-01T00:00:00-05:00 New_York,,,,,"Bool",,,,,,,,,,,,,"Heat-1",,,,,,,,,,,,M,,,,,,,,,@p:demo:r:273bc973-2aa97161 "Washington DC",,,,,,,,,,,,,,,@p:demo:r:273bc973-878b5135 "Gaithersburg",,,,,,,1,,,,,,M,,,,,,,,,,,"New_York",,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.659Z
@p:demo:r:273bc973-9b6e2db8 "Carytown Main Lights Status",,,,,,,,,,,,,,,M,,,2.4$,,M,"ok",F,,,,,,,,,,,"\$equipRef \$navName",,,,,,@p:demo:r:273bc973-7425aca4 "Carytown ElecMeter-Main",,,"off,on",,,,@p:demo:r:273bc973-4a384fff "Carytown Main Lights",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2021-02-07T20:30:00-05:00 New_York,,,,"cov",,2015,2019-01-01T00:00:00-05:00 New_York,,,,,"Bool",,,,,M,,,,,,,,"Status",,,,,,,,,,,,M,,,,,,,,,@p:demo:r:273bc973-b290ea22 "Richmond",,,,,,,,,,,,,,,@p:demo:r:273bc973-0e0d105d "Carytown",,,,,,,,,,,,,,,,,,,,,,,,"New_York",,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.583Z
@p:demo:r:273bc973-b508d0e5 "Short Pump Misc",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"\$siteRef \$navName",,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Misc",,,,,,,,,,,,,,,,,,,,,@p:demo:r:273bc973-b290ea22 "Richmond",,,,,,,,,,,,,,M,@p:demo:r:273bc973-82920a8b "Short Pump",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.597Z
@p:demo:r:273bc973-43bd759d "Carytown RTU-1 Heat-2",,,,,,,,,,,,,,,M,,,,,M,"ok",F,,,,,,,,,,,"\$equipRef \$navName",,,,,,@p:demo:r:273bc973-7425aca4 "Carytown ElecMeter-Main",M,,"off,on",,,,@p:demo:r:273bc973-f2fa6931 "Carytown RTU-1",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,M,2021-02-07T20:15:00-05:00 New_York,,,,"cov",,1587,2019-01-01T00:00:00-05:00 New_York,,,,,"Bool",,,,,,,,,,,,,"Heat-2",,,,,,,,,,,,M,,,,,,,,,@p:demo:r:273bc973-b290ea22 "Richmond",,,,,,,,,,,,,,,@p:demo:r:273bc973-0e0d105d "Carytown",,,,,,,2,,,,,,M,,,,,,,,,,,"New_York",,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.591Z
@p:demo:r:273bc973-d9bd5fee "Gaithersburg ElecMeter-Main kWh",,,,,,,,,,,,,,,,,,,,M,"ok",1020.5258103036016kWh,,,,,,,,,,,"\$equipRef \$navName",,,,,,,,M,,,,,@p:demo:r:273bc973-89bc183d "Gaithersburg ElecMeter-Main",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,"elecKwToKwhHis",,15min,"consumption",,,,,,,,"Number",,,,,,,,,,,,,"kWh",,,,,,,,,,,,M,,,,,,,,,@p:demo:r:273bc973-2aa97161 "Washington DC",,,,,,,,,,M,,,M,,@p:demo:r:273bc973-878b5135 "Gaithersburg",,,,,,,,,,,,,,,,,,,,,,,,"New_York",,"kWh",,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.644Z
@p:demo:r:273bc971-a4e014ff "AHU Fan Runtime",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"AHU Fan Runtime",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,"Total time the AHU fan was running",,,,,,,,,,,,,,,M,,,,,,,,,,"kpiAhuFanRuntime",,,,,,,,,,,,,,,,,,,,,,,,,,,,,"ahu",,,,,,,,,,,,,,,"defcomp\n  target: {}\n  date: {}\n  out: {ro}\n  fan: {bind:\"discharge and air and fan and cmd and equipRef=={{target->id}}\"}\n  do\n    if (fan == null) return null\n    his: hisRead(fan, date).hisClip.hisFindPeriods(val => val == true)\n    runtime: his.foldCol(\"v0\", sum)\n    if (runtime == null or runtime == na()) runtime = 0hr\n    out = {sum: runtime}\n  end\nend",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.507Z
@p:demo:r:273bc973-60c09762 "Short Pump RTU-1 ReturnTemp",,,,,,M,,,,,,,,,,,,,,M,"ok",79.58011252092464°F,,,,,,,,,,,"\$equipRef \$navName",,,,,,,,,,,,,@p:demo:r:273bc973-533106bd "Short Pump RTU-1",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2021-02-07T23:45:00-05:00 New_York,,,,"sampled",,73816,2019-01-01T00:00:00-05:00 New_York,,,,,"Number",,,,,,,,,,,,,"ReturnTemp",,,,,,,,,,,,M,,,,,,,,,@p:demo:r:273bc973-b290ea22 "Richmond",M,,,,,,,,,M,,,,,@p:demo:r:273bc973-82920a8b "Short Pump",,,,,,,,,,,,,,,,,,,M,,,,,"New_York",,"°F",,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.614Z
@p:demo:r:273bc971-3f840c05 "demoTableLive",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"demoTableLive",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"() => do\n  // map each point to a row in our display table\n  toRow: (pt) => do\n    val: pt[\"curVal\"]\n    {id: pt->id,\n     bar: val,\n     heatMap: val,\n     bubble: val}\n  end\n\n  // build a live stream of points\n  readAllStream(discharge and temp and sensor)\n    .map(toRow)\n    .addColMeta(\"bar\", {viz:\"barCell\", color:\"#3498db\", chartMin:50, chartMax:80})\n    .addColMeta(\"heatMap\", {viz:\"heatMapCell\", colors:\"#3498db,#fff,#e74c3c\", padding:\"0\", chartMin:50, chartMax:80})\n    .addColMeta(\"bubble\", {viz:\"bubbleCell\", color:\"#2ecc71\", chartMax:80})\n    .feed\nend",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.53Z
@p:demo:r:273bc971-0251a598 "Temp Sensor Failure",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Temp Sensor Failure",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,"Sensor has failed to change over 24 hour period. Because it requires a\nfull day of analysis, this rule always skips today.\n\nRecommended Actions\n===================\n1. Check calibration settings in control system\n2. Physical replacement of the sensor\n\n**Priority:** Medium",,,,,,,,,,,,,,,,,,,,,,,,,"tempSensorFailure",,,,,,,,,,,,,,,,,,,,,,,,,,,,,"temp and sensor and point",,,,,,,,,,,,,M,,"/*\n  Temperate sensor failure - demo customization which\n  wraps standard  'sensorFailure' to add priority tag\n*/\ndefcomp\n\n  target:   {}\n  date:     {}\n  out:      {ro}\n  priority: {bindTuning:\"priority\", defVal:\"med\"}\n\n  do\n    // call standard sensorFailure\n    faults: sensorFailure(target, date)\n    if (faults == null or faults.isEmpty) return null\n\n    // add costing/priority to the spark as additional tags\n    out = faults.addMeta({spark_priority: priority})\n  end\nend",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.498Z
@p:demo:r:273bc973-90c7d017 "Headquarters Misc",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"\$siteRef \$navName",,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,@p:demo:r:273bc973-b82540a7 "Headquarters Utility",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Misc",,,,,,,,,,,,,,,,,,,,,@p:demo:r:273bc973-b290ea22 "Richmond",,,,,,,,,,,,,,M,@p:demo:r:273bc973-0337ce3d "Headquarters",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.535Z
@p:demo:r:273bc971-61f2e287 "Table Live",,,,,,,"demo",,,,,,,,,,,,,,,,,,,,,,,,,"Table Live",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"view: {inherit:\"table\"}\ndata: {expr:\"demoTableLive()\"}",,,,,,,,,,,,,,,,,,,,,,,,,"demoTableLive",,,,,,,,,,,,,,2020-11-09T09:33:39.697Z
@p:demo:r:273bc971-3b25d3e1 "Spark Report",,,,,,,"demo",,,,,,,,,,,,,,,,,,,,,,,,,"Spark Report",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"view: {inherit:\"page\"}\nspan: {var kind:\"Span\" input defVal:Span(\"lastWeek\")}\nsparksChart: Trio:\n  view: {inherit:\"chart\"}\n  title: {var defVal:\"Spark Timeline\"}\n  span: {var kind:\"Span\" binding:\"../span\"}\n  data: {expr:\"ruleSparks(null, {{span}}).ruleSparkHis\"}\nbreak1: Trio:\n  view: {inherit:\"pageBreak\"}\nsparksTable: Trio:\n  view: {inherit:\"table\"}\n  title: {var defVal:\"Sparks\"}\n  span: {var kind:\"Span\" binding:\"../span\"}\n  data: {expr:\"ruleSparks(null, {{span}}).keepCols([\\\"date\\\", \\\"dur\\\", \\\"targetRef\\\", \\\"ruleRef\\\", \\\"times\\\"])\"}\nbreak2: Trio:\n  view: {inherit:\"pageBreak\"}\nruleHelp: Trio:\n  view: {inherit:\"fandoc\"}\n  title: {var defVal:\"Rule Documentation\"}\n  span: {var kind:\"Span\" binding:\"../span\"}\n  data: {expr:\"ruleSparks(null, {{span}}).sparkRuleHelp\"}",,,,,,,,,,,,,,,,,,,,,,,,,"demoSparkReport",,,,,,,,,,,,,,2020-11-09T09:33:39.695Z
@p:demo:r:273bc973-1ee1061b "Headquarters AHU-1 Heat",,,,,,,,,,,,,,,M,,,,,M,"ok",42.55004870929006%,,,,,,,,,,,"\$equipRef \$navName",,,,,,,,,,,,,@p:demo:r:273bc973-6d251b2b "Headquarters AHU-1",,,,,,,,,,,,,,,,,,,,,,,,@p:demo:r:273bc973-87cebf12 "Headquarters Floor-1",,,,,,,,,,,M,,M,2021-02-07T23:45:00-05:00 New_York,,,,"sampled",,108480,2019-01-01T00:00:00-05:00 New_York,,,,,"Number",,,,,,,,,,,,,"Heat",,,,,,,,,,,,M,,,,,,,,,@p:demo:r:273bc973-b290ea22 "Richmond",,,,,,,,,,,,,,,@p:demo:r:273bc973-0337ce3d "Headquarters",,,,,,,,,,,,,M,,,,,,,,,,,"New_York",,"%",,,M,,,,,,,,,,,,,,,,2020-11-09T09:33:39.569Z
@p:demo:r:273bc973-22fa08a8 "Headquarters AHU-1 ZoneTemp",,,,,,M,,,,,,,,,,,,,,M,"ok",79.54426538867278°F,,,,,,,,,,,"\$equipRef \$navName",,,,,,,,,,,,,@p:demo:r:273bc973-6d251b2b "Headquarters AHU-1",,,,,,,,,,,,,,,,,,,,,,,,@p:demo:r:273bc973-87cebf12 "Headquarters Floor-1",,,,,,,,,,,,,M,2021-02-07T23:45:00-05:00 New_York,,,,"sampled",,73816,2019-01-01T00:00:00-05:00 New_York,,,,,"Number",,,,,,,,,,,,,"ZoneTemp",,,,,,,,,,,,M,,,,,,,,,@p:demo:r:273bc973-b290ea22 "Richmond",,,,,,,,,,M,,,,,@p:demo:r:273bc973-0337ce3d "Headquarters",,,,,,,,,,,,,M,,,,,,M,,,,,"New_York",,"°F",,,,,,,,,,,,,,,,,,M,2020-11-09T09:33:39.566Z
@p:demo:r:273bc983-308cd3a9 "Washington, DC Forecast",,,,,,,,,,,,,,,,,,,,,,,2,60%RH,47°F,05:52:49.301,,,,,,,"\$weatherStationRef Forecast",,,,,,,,,,,,,,,2,07:08:00,16:46:00,50°F,39°F,2,07:09:00,16:46:00,50°F,35°F,2,07:10:00,16:46:00,52°F,36°F,16:46:00,51°F,51°F,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-12-01T10:52:48.78Z London,,,,,,,,,M,,@p:demo:r:273bc973-70af714c "Washington, DC",,@p:demo:r:273bc973-70af714c "Washington, DC",,,,,2020-11-09T09:33:55.36Z
@p:demo:r:273bc971-568c9968 "demoSiteReport",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"demoSiteReport",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"(siteRef, span, tile) => do\n\n  site: toRec(siteRef)\n  spanDis: span.toSpan.format\n\n  // tile 1 - image\n  if (tile == 1) do\n    return \"Site Report \\u2022 \" + site.dis + \"\\n\" +\n           \"###\\n\" +\n           \"![site image][640x480]`fan://demoExt/res/\" + site.dis + \".jpg`\\n\"\n  end\n\n\n  // tile 2 - weather\n  if (tile == 2) do\n    return readAll(weatherPoint and weatherStationRef==toWeather(site)->id)\n            .hisRead(span)\n            .addMeta({title:\"Weather Temp \\u2022 \" + spanDis})\n  end\n\n  // tile 3 - power chart\n  if (tile == 3) do\n    return read(point and power and siteMeter and siteRef==site->id)\n            .hisRead(span)\n            .addMeta({title:\"KWH \\u2022 \" + spanDis})\n  end\n\n  // tile 4 - power heat map\n  if (tile == 4) do\n    return read(point and power and siteMeter and siteRef==site->id)\n            .hisRead(span)\n            .addMeta({chartType:\"heatMap\", title:\"KWH \\u2022 \" + spanDis})\n  end\n\n  throw \"unknown tile \" + tile\n\nend",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.527Z
@p:demo:r:273bc973-ccc8ce34 "Gaithersburg ElecMeter-Lighting",M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"\$siteRef \$navName",,,,M,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,M,,,,,,"ElecMeter-Lighting",,,,,,,,,,,,,,,,,,,,,@p:demo:r:273bc973-2aa97161 "Washington DC",,,,,,,,,,,,,,,@p:demo:r:273bc973-878b5135 "Gaithersburg",,,,,,,,,,,,@p:demo:r:273bc973-89bc183d "Gaithersburg ElecMeter-Main",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.636Z
@p:demo:r:273bc973-d10c359e "Winter On-Peak Consumption",,,,,,,,,,,,M,,"consumption",,,,,,,,,,,,,,,,,,"Winter On-Peak Consumption",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"inRange","ver:\"2.0\"\nmin,max,fee\n0,INF,0.04",,,,,,,,,,@p:demo:r:273bc971-f49b0004 "Small General Winter Schedule","onPeak",,,,,,,,,,,,,,,,,,,,,,,,@p:demo:r:273bc973-e2cccd91 "Small General Service",,,,,,,,,,"energy and sensor",,,,,,,,,,,,,,,,,2020-11-09T09:33:39.718Z
@p:demo:r:273bc973-c88b9a57 "Gaithersburg GasMeter-Main",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"\$siteRef \$navName",,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,"GasMeter-Main",,,,,,,,,,,,,,,,,,,,,@p:demo:r:273bc973-2aa97161 "Washington DC",,,,,,,,,,,,,M,,@p:demo:r:273bc973-878b5135 "Gaithersburg",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.646Z
@p:demo:r:273bc973-513a664b "Short Pump RTU-1 Heat-1",,,,,,,,,,,,,,,M,,,,,M,"ok",F,,,,,,,,,,,"\$equipRef \$navName",,,,,,@p:demo:r:273bc973-ad4473ba "Short Pump ElecMeter-Main",M,,"off,on",,,,@p:demo:r:273bc973-533106bd "Short Pump RTU-1",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,M,2021-02-07T21:15:00-05:00 New_York,,,,"cov",,1845,2019-01-01T00:00:00-05:00 New_York,,,,,"Bool",,,,,,,,,,,,,"Heat-1",,,,,,,,,,,,M,,,,,,,,,@p:demo:r:273bc973-b290ea22 "Richmond",,,,,,,,,,,,,,,@p:demo:r:273bc973-82920a8b "Short Pump",,,,,,,1,,,,,,M,,,,,,,,,,,"New_York",,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.612Z
@p:demo:r:273bc973-4a384fff "Carytown Main Lights",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"\$siteRef \$navName",,,,,,@p:demo:r:273bc973-7425aca4 "Carytown ElecMeter-Main",,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,"Main Lights",,,,,,,,,,,,,,,,,,,,,@p:demo:r:273bc973-b290ea22 "Richmond",,,,,,,,,,,,,,,@p:demo:r:273bc973-0e0d105d "Carytown",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.582Z
@p:demo:r:273bc973-52be616a "Gaithersburg RTU-2 ReturnTemp",,,,,,M,,,,,,,,,,,,,,M,"ok",61.29539507395069°F,,,,,,,,,,,"\$equipRef \$navName",,,,,,,,,,,,,@p:demo:r:273bc973-fcf4fa40 "Gaithersburg RTU-2",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2021-02-07T23:45:00-05:00 New_York,,,,"sampled",,73816,2019-01-01T00:00:00-05:00 New_York,,,,,"Number",,,,,,,,,,,,,"ReturnTemp",,,,,,,,,,,,M,,,,,,,,,@p:demo:r:273bc973-2aa97161 "Washington DC",M,,,,,,,,,M,,,,,@p:demo:r:273bc973-878b5135 "Gaithersburg",,,,,,,,,,,,,,,,,,,M,,,,,"New_York",,"°F",,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.673Z
@p:demo:r:273bc973-6831f3d2 "Gaithersburg Misc",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"\$siteRef \$navName",,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Misc",,,,,,,,,,,,,,,,,,,,,@p:demo:r:273bc973-2aa97161 "Washington DC",,,,,,,,,,,,,,M,@p:demo:r:273bc973-878b5135 "Gaithersburg",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.631Z
@p:demo:r:273bc973-39788f59 "Tariff His",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Tariff His",,,,,,,,,,,,,,@p:demo:r:273bc973-7425aca4 "Carytown ElecMeter-Main",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2021-02-01T00:00:00-05:00 New_York,,,,,,26,2019-01-01T00:00:00-05:00 New_York,,,,,"Str",,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,@p:demo:r:273bc973-0e0d105d "Carytown",M,,,,,,,,,,,,,,,,M,,,,,,,"New_York",,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.712Z
@p:demo:r:273bc971-ef0f4741 "demoTablePrez",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"demoTablePrez",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"() => do\n  // build simple grid\n  g: [\n   {dis:\"Alpha\", a:7,  b:7,  c:\"background\", d:\"col sel\", e:\"\"},\n   {dis:\"Beta\",  a:10, b:10, c:\"bold\",       d:\"col sel\", e:\"\"},\n   {dis:\"Gamma\", a:5,  b:5,  c:\"right\",      d:\"col sel\", e:\"\"}\n  ].toGrid\n   .reorderCols([\"dis\", \"a\", \"b\", \"c\", \"d\", \"e\"])\n\n  // customize with column meta\n  g = g.addColMeta(\"a\", {dis:\"Bar Cell\", viz:\"barCell\", color:\"#e74c3c\"})\n       .addColMeta(\"b\", {dis:\"Bubble Cell\", viz:\"bubbleCell\", color:\"#2ecc71\"})\n\n  // customize with presentation grid using row/col/cell selectors\n  prez: [\n    {col:\"c\", row:0, background:\"#f1c40f\"},\n    {col:\"c\", row:1, fontWeight:\"bold\"},\n    {col:\"c\", row:2, halign:\"right\"},\n    {col:\"d\", background:\"#99ffa8\"},\n  ].toGrid\n\n  // add presentation to grid meta with \"presentation\" tag\n  g.addMeta({presentation: prez})\nend",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.529Z
@p:demo:r:273bc971-456ab482 "oldRuleHelpReport",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"oldRuleHelpReport",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"() => do\n  sections: []\n  readAll(rule).each rule => do\n    sections = sections.add(heading(rule.dis))\n    sections = sections.add(fandoc(rule[\"help\"]))\n  end\n  sections\nend",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.52Z
@p:demo:r:273bc973-d41f4a94 "Richmond, VA Condition",,,,,,,,,,,,,,,,,,,,M,"ok","partlyCloudy",,,,,,,,,,,"\$weatherStationRef \$navName",,,,,,,,,"unknown,clear,partlyCloudy,cloudy,showers,rain,thunderstorms,ice,flurries,snow",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2021-02-07T23:00:00-05:00 New_York,,,,"cov",,6150,2019-01-01T02:00:00-05:00 New_York,,,,,"Str",,,,,,,,,,,,,"Condition",,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"New_York",,,,,,,,,,,M,,M,,,@p:demo:r:273bc973-fdc1d616 "Richmond, VA","condition",,,,2020-11-09T09:33:39.68Z
@p:demo:r:273bc973-87cebf12 "Headquarters Floor-1",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"\$siteRef \$navName",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Floor-1",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,@p:demo:r:273bc973-0337ce3d "Headquarters",,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.538Z
@p:demo:r:273bc971-20c87666 "All Notes",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"All Notes",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,"note",,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.689Z
@p:demo:r:273bc973-e7f71d69 "Summer Off-Peak Demand",,,,,,,,,,,,M,,"demand",,,,,,,,,,,,,,,,,,"Summer Off-Peak Demand",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"inRange","ver:\"2.0\"\nmin,max,fee\n0,INF,1.5",,,,,,,,,,@p:demo:r:273bc971-69e34f33 "Small General Summer Schedule","offPeak",,,,,,,,,,,,,,,,,,,,,,,,@p:demo:r:273bc973-e2cccd91 "Small General Service",,,,,,,,,,"power and sensor",,,,,,,,,,,,,,,,,2020-11-09T09:33:39.721Z
@p:demo:r:273bc971-9a8aad6d "AHU Cool and Heat",,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,"AHU Cool and Heat",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Unit is simultaneously running mechanical cooling and mechanical heating.\nMost likely cause is a problem in the control algorithm.",,,,,,,,,,,,M,"Controls",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,"ahuCoolAndHeat","ahu",,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:47.845Z
@p:demo:r:273bc973-3dae36be "Headquarters Floor-2 Lights ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"\$siteRef \$navName",,,,,,@p:demo:r:273bc973-52b27202 "Headquarters ElecMeter-Lighting",,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,@p:demo:r:273bc973-ed2f8590 "Headquarters Floor-2",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,"Floor-2 Lights ",,,,,,,,,,,,,,,,,,,,,@p:demo:r:273bc973-b290ea22 "Richmond",,,,,,,,,,,,,,,@p:demo:r:273bc973-0337ce3d "Headquarters",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.558Z
@p:demo:r:273bc971-40b76bd5 "Store Schedule",,,,,,,,,,,@p:demo:r:273bc971-bfd6ac0b "Main Calendar",,,,,,,,,M,"ok",F,,,,,,,,,,"Store Schedule",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Bool",,,,,,,,,,,,,,2020-12-01T08:00:00-05:00 New_York,T,,,,,,,,,,M,,,,,,,,,,,,,,,,"ver:\"2.0\"\ndis,end,start,val,weekdays\n\"Normal Store Hours\",20:45:00,08:00:00,T,\"sun,mon,tue,wed,thu,fri,sat\"\n\"Unoccupied Default\",00:00:00,00:00:00,F,\"sun,mon,tue,wed,thu,fri,sat\"",,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,"New_York",,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.703Z
@p:demo:r:273bc973-4193ebda "p:demo:r:273bc973-4193ebda",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"lighting",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.481Z
@p:demo:r:273bc973-e867a2b2 "Short Pump RTU-1 DischargeTemp",,,,,,M,,,,,,,,,,,,,,M,"ok",79.58011252092464°F,,,,,,,,,,,"\$equipRef \$navName",M,,,,,,,,,,,,@p:demo:r:273bc973-533106bd "Short Pump RTU-1",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2021-02-07T23:45:00-05:00 New_York,,,,"sampled",,73816,2019-01-01T00:00:00-05:00 New_York,,,,,"Number",,,,,,,,,,,,,"DischargeTemp",,,,,,,,,,,,M,,,,,,,,,@p:demo:r:273bc973-b290ea22 "Richmond",,,,,,,,,,M,,,,,@p:demo:r:273bc973-82920a8b "Short Pump",,,,,,,,,,,,,,,,,,,M,,,,,"New_York",,"°F",,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.615Z
@p:demo:r:273bc973-6ac0cb2d "Gaithersburg RTU-1 ZoneTempSp",,,,,,M,,,,,,,,,,,,,,M,"ok",73°F,,,,,,,,,,,"\$equipRef \$navName",,,M,,,,,,,,,,@p:demo:r:273bc973-2dd1727d "Gaithersburg RTU-1",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2021-02-07T23:45:00-05:00 New_York,,,,"cov",,73816,2019-01-01T00:00:00-05:00 New_York,,,,,"Number",,,,,,,,,,,,,"ZoneTempSp",,,,,,,,,,,,M,,,,,,,,,@p:demo:r:273bc973-2aa97161 "Washington DC",,,,,,,,,,,,,,,@p:demo:r:273bc973-878b5135 "Gaithersburg",M,,,,,,,,,,,,,,,,,,M,,,,,"New_York",,"°F",,,,,,,,,,,,,,,,,,M,2020-11-09T09:33:39.654Z
@p:demo:r:273bc973-7304bb41 "Headquarters Floor-2 Lights  Zone-B",,,,,,,,,,,,,,,M,,,2.4$,,M,"ok",F,,,,,,,,,,,"\$equipRef \$navName",,,,,,@p:demo:r:273bc973-52b27202 "Headquarters ElecMeter-Lighting",,,"off,on",,,,@p:demo:r:273bc973-3dae36be "Headquarters Floor-2 Lights ",,,,,,,,,,,,,,,,,,,,,,,,@p:demo:r:273bc973-ed2f8590 "Headquarters Floor-2",,,,,,,,,,,,,M,2021-02-07T00:00:00-05:00 New_York,,,,"cov",,1867,2019-01-01T00:00:00-05:00 New_York,,,,,"Bool",,,,,M,,,,,,,,"Zone-B",,,,,,,,,,,,M,,,,,,,,,@p:demo:r:273bc973-b290ea22 "Richmond",,,,,,,,,,,,,,,@p:demo:r:273bc973-0337ce3d "Headquarters",,,,,,,,,,,,,,,,,,,,,,,,"New_York",,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.56Z
@p:demo:r:273bc971-013fdf9e "Sensor has N/A Data",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Sensor has N/A Data",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,"N/A was logged for the sensor during this time frame. This is usually\ndue to a network connectivity issue.\n\nRecommended Actions\n===================\n1. Check the connector configuration\n2. Check the point configuration\n3. Check the remote system\n\n**Priority:** Low",,,,,,,,,,,,,,,,,,,,,,,,,"sensorHasNaData",,,,,,,,,,,,,,,,,,,,,,,,,,,,,"sensor and point",,,,,,,,,,,,,M,,"/*\n  Find all periods when the the point has na data\n*/\ndefcomp\n  target: {}\n  date:   {}\n  out:    {ro}\n  do\n    hisRead(target, date).hisFindPeriods(v => v == na())\n  end\nend",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.499Z
@p:demo:r:273bc971-9acb95f3 "Tenant Form",,,,,,,"demo",,,,,,,,,,,,,,,,,,,,,,,,,"Tenant Form",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"view:   {inherit:\"form\"}\nsubmit: {action:\"recFormCommit\"}\ndata:   {expr: \"read(demoTenant, false).recForm(\\\"demoTenant\\\")\"}",,,,,,,,,,,,,,,,,,,,,,,,,"demoTenantForm",,,,,,,,,,,,,,2020-11-09T09:33:39.698Z
@p:demo:r:273bc973-05877f17 "Headquarters ElecMeter-Main",M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"\$siteRef \$navName",,,,M,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,@p:demo:r:273bc973-b82540a7 "Headquarters Utility",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,"ElecMeter-Main",,,,,,,,,,,,,,,,,,,,,@p:demo:r:273bc973-b290ea22 "Richmond",,,,,,,,,,,,,M,,@p:demo:r:273bc973-0337ce3d "Headquarters",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.547Z
@p:demo:r:273bc973-93a8c410 "p:demo:r:273bc973-93a8c410",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"task",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.475Z
@p:demo:r:273bc973-7e6b65f7 "Headquarters GasMeter-Main Consumption",,,,,,,,,,,,,,,,,,,,M,"ok",98.28288882746386therm,,,,,,,,,,,"\$equipRef \$navName",,,,,,,,,,,,,@p:demo:r:273bc973-b19c0a8c "Headquarters GasMeter-Main",,,,,,,,,,,,,,,,,,,,,,,,@p:demo:r:273bc973-b82540a7 "Headquarters Utility",,,,,,,,,,,,,M,2021-02-07T23:45:00-05:00 New_York,,,15min,"sampled",,73816,2019-01-01T00:00:00-05:00 New_York,,,,,"Number",,,,,,,,,,,,,"Consumption",,,,,,,,,,,,M,,,,,,,,,@p:demo:r:273bc973-b290ea22 "Richmond",,,,,,,,,,M,,,M,,@p:demo:r:273bc973-0337ce3d "Headquarters",,,,,,,,,,,,,,,,,,,,,,,,"New_York",,"therm",,,,,,M,,,,,,,,,,,,,2020-11-09T09:33:39.552Z
@p:demo:r:273bc971-1ae0318d "AHU Cool Failure",,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,"AHU Cool Failure",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Unit is cooling, but temperature drop between return sensor and\ndischarge sensor is under expected threshold\n\nRecommended Actions\n===================\n1. Check to see if cooling coil is dirty\n2. Check refrigerant levels in cooling system\n\n**Priority:** Medium",,,,,,,,,,,,M,"Comfort",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,"ahuCoolFailure","ahu",,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:47.85Z
@p:demo:r:273bc973-1b5e2a40 "p:demo:r:273bc973-1b5e2a40",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"conn",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.483Z
@p:demo:r:273bc973-b99ef40a "Headquarters AHU-1 ReturnTemp",,,,,,M,,,,,,,,,,,,,,M,"ok",61.29539507395069°F,,,,,,,,,,,"\$equipRef \$navName",,,,,,,,,,,,,@p:demo:r:273bc973-6d251b2b "Headquarters AHU-1",,,,,,,,,,,,,,,,,,,,,,,,@p:demo:r:273bc973-87cebf12 "Headquarters Floor-1",,,,,,,,,,,,,M,2021-02-07T23:45:00-05:00 New_York,,,,"sampled",,73816,2019-01-01T00:00:00-05:00 New_York,,,,,"Number",,,,,,,,,,,,,"ReturnTemp",,,,,,,,,,,,M,,,,,,,,,@p:demo:r:273bc973-b290ea22 "Richmond",M,,,,,,,,,M,,,,,@p:demo:r:273bc973-0337ce3d "Headquarters",,,,,,,,,,,,,,,,,,,M,,,,,"New_York",,"°F",,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.57Z
@p:demo:r:273bc973-0a68c9b2 "Headquarters ElecMeter-Lighting kW",,,,,,,,,,,,,,,,,,,,M,"ok",977.927091452969kW,,,,,,,,,,,"\$equipRef \$navName",,,,,,,,,,,,,@p:demo:r:273bc973-52b27202 "Headquarters ElecMeter-Lighting",,,,,,,,,,,,,,,,,,,,,,,,@p:demo:r:273bc973-b82540a7 "Headquarters Utility",,,,,,,,,,,,,M,2021-02-07T23:45:00-05:00 New_York,,,15min,"sampled",,73816,2019-01-01T00:00:00-05:00 New_York,,,,,"Number",,,,,,,,,,,,,"kW",,,,,,,,,,,,M,M,,,,,,,,@p:demo:r:273bc973-b290ea22 "Richmond",,,,,,,,,,M,,,,,@p:demo:r:273bc973-0337ce3d "Headquarters",,,,,,,,,,,,,,,,,,,,,,,,"New_York",,"kW",,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.542Z
@p:demo:r:273bc973-fcf4fa40 "Gaithersburg RTU-2",,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"\$siteRef \$navName",,,,,,@p:demo:r:273bc973-a4beef99 "Gaithersburg ElecMeter-Hvac",,,,M,,,@p:demo:r:273bc973-fb9b7309 "Gaithersburg  RTUs",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,"RTU-2",,,,,,,,,,,,,,,,,,,,,@p:demo:r:273bc973-2aa97161 "Washington DC",,M,M,,,,,,,,,,,,@p:demo:r:273bc973-878b5135 "Gaithersburg",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.665Z
@p:demo:r:273bc973-b64af9fe "Tariff His",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Tariff His",,,,,,,,,,,,,,@p:demo:r:273bc973-89bc183d "Gaithersburg ElecMeter-Main",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2021-02-01T00:00:00-05:00 New_York,,,,,,26,2019-01-01T00:00:00-05:00 New_York,,,,,"Str",,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,@p:demo:r:273bc973-878b5135 "Gaithersburg",M,,,,,,,,,,,,,,,,M,,,,,,,"New_York",,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.724Z
@p:demo:r:273bc973-6701a8cd "Gaithersburg ElecMeter-Hvac kW",,,,,,,,,,,,,,,,,,,,M,"ok",796.5549494148854kW,,,,,,,,,,,"\$equipRef \$navName",,,,,,,,,,,,,@p:demo:r:273bc973-a4beef99 "Gaithersburg ElecMeter-Hvac",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2021-02-07T23:45:00-05:00 New_York,,,15min,"sampled",,73816,2019-01-01T00:00:00-05:00 New_York,,,,,"Number",,,,,,,,,,,,,"kW",,,,,,,,,,,,M,M,,,,,,,,@p:demo:r:273bc973-2aa97161 "Washington DC",,,,,,,,,,M,,,,,@p:demo:r:273bc973-878b5135 "Gaithersburg",,,,,,,,,,,,,,,,,,,,,,,,"New_York",,"kW",,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.64Z
@p:demo:r:273bc971-83613757 "kWh Norm (kWh/ft²/°daysF)",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"kWh Norm (kWh/ft²/°daysF)",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,"Site electrical kWh consumption normalized by ft² and degree day.",,,,,,,,,,,,,,,M,,,,,,,,,,"kpiKwhNorm",,,,,,,,,,,,,,,,,,,,,,,,,,,,,"site",,,,,,,,,,,,,,,"defcomp\n  target: {}\n  date:   {}\n  out:    {ro}\n  kwh:    {bind:\"energy and equipRef->siteMeter and siteRef=={{target->id}}\"}\n  do\n    if (kwh == null) return null\n\n    his: hisRead(kwh, date).hisClip.energyNormByArea.energyNormByDegreeDay\n\n    if (his.isEmpty or\n        his.meta[\"hisEnd\"] < kwh[\"hisStart\"] or\n        his.missing(\"v0\")) return null\n\n    kpiSum: his.foldCol(\"v0\", sum)\n    out = if (na() == kpiSum) null else {sum: kpiSum.as(1)}\n  end\nend",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.505Z
@p:demo:r:273bc973-48a92475 "Short Pump RTU-2 Heat-1",,,,,,,,,,,,,,,M,,,,,M,"ok",T,,,,,,,,,,,"\$equipRef \$navName",,,,,,@p:demo:r:273bc973-ad4473ba "Short Pump ElecMeter-Main",M,,"off,on",,,,@p:demo:r:273bc973-d1003dfa "Short Pump RTU-2",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,M,2021-02-07T21:15:00-05:00 New_York,,,,"cov",,3819,2019-01-01T00:00:00-05:00 New_York,,,,,"Bool",,,,,,,,,,,,,"Heat-1",,,,,,,,,,,,M,,,,,,,,,@p:demo:r:273bc973-b290ea22 "Richmond",,,,,,,,,,,,,,,@p:demo:r:273bc973-82920a8b "Short Pump",,,,,,,1,,,,,,M,,,,,,,,,,,"New_York",,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.624Z
@p:demo:r:273bc973-eafa75ec "Gaithersburg RTU-2 Heat-2",,,,,,,,,,,,,,,M,,,,,M,"ok",F,,,,,,,,,,,"\$equipRef \$navName",,,,,,@p:demo:r:273bc973-a4beef99 "Gaithersburg ElecMeter-Hvac",M,,"off,on",,,,@p:demo:r:273bc973-fcf4fa40 "Gaithersburg RTU-2",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,M,2021-02-07T19:30:00-05:00 New_York,,,,"cov",,1947,2019-01-01T00:00:00-05:00 New_York,,,,,"Bool",,,,,,,,,,,,,"Heat-2",,,,,,,,,,,,M,,,,,,,,,@p:demo:r:273bc973-2aa97161 "Washington DC",,,,,,,,,,,,,,,@p:demo:r:273bc973-878b5135 "Gaithersburg",,,,,,,2,,,,,,M,,,,,,,,,,,"New_York",,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.672Z
@p:demo:r:273bc971-06e9037d "HQ Schedule",,,,,,,,,,,@p:demo:r:273bc971-bfd6ac0b "Main Calendar",,,,,,,,,M,"ok",F,,,,,,,,,,"HQ Schedule",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Bool",,,,,,,,,,,,,,2020-12-01T08:00:00-05:00 New_York,T,,,,,,,,,,M,,,,,,,,,,,,,,,,"ver:\"2.0\"\ncalendar,dis,end,start,val,weekdays\n\"Holiday\",\"Holiday\",00:00:00,00:00:00,F,\n,\"Normal Office Hours\",18:00:00,08:00:00,T,\"mon,tue,wed,thu,fri\"\n,\"Unoccupied Default\",00:00:00,00:00:00,F,\"sun,mon,tue,wed,thu,fri,sat\"",,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,"New_York",,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.702Z
@p:demo:r:273bc973-3c7f7ab6 "p:demo:r:273bc973-3c7f7ab6",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"tariff",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.486Z
@p:demo:r:273bc973-3ad9d6ec "Basic Charge",,,,,,,,,,,,M,,"fixed",,,,,,,,,,,,,,,,,,"Basic Charge",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,15,"bill",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,@p:demo:r:273bc973-ddfda4f6 "Schedule A",,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.707Z
@p:demo:r:273bc971-0e125723 "oldChartDemoSparks",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"oldChartDemoSparks",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"// Plot kw against sparks for a given site\n() => do\n  site: read(site and dis == \"Gaithersburg\")\n  dates: lastWeek\n  sparks: navFilter(\"sparkTarget\", site).sparks(dates).sparkHis\n  kw: read(power and siteMeter and siteRef==site->id).hisRead(dates)\n  hisJoin([sparks, kw])\nend",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.518Z
@p:demo:r:273bc973-0337ce3d "Headquarters",,,,,,,,140797ft²,,,,,,,,,,,,,,,,,,,,,,,,"Headquarters",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"600 W Main St, Richmond, VA","Richmond",C(37.545826,-77.449188),"US","23220","VA","600 W Main St",,,,,,,,,,,,M,,,,,,,,,,,,,"Richmond",,,,,,,,,18:00:00,08:00:00,,,,,,,,,"Office",,,,,,@p:demo:r:273bc973-b290ea22 "Richmond",,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,"New_York",,,,,,,,,,,,,,,,@p:demo:r:273bc973-fdc1d616 "Richmond, VA",,,1999,,2020-11-09T09:33:39.534Z
@p:demo:r:273bc973-f30670e1 "p:demo:r:273bc973-f30670e1",,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,"his",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.471Z
@p:demo:r:273bc973-3949e755 "Gaithersburg ElecMeter-Lighting kW",,,,,,,,,,,,,,,,,,,,M,"ok",829.7878651670089kW,,,,,,,,,,,"\$equipRef \$navName",,,,,,,,,,,,,@p:demo:r:273bc973-ccc8ce34 "Gaithersburg ElecMeter-Lighting",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2021-02-07T23:45:00-05:00 New_York,,,15min,"sampled",,73816,2019-01-01T00:00:00-05:00 New_York,,,,,"Number",,,,,,,,,,,,,"kW",,,,,,,,,,,,M,M,,,,,,,,@p:demo:r:273bc973-2aa97161 "Washington DC",,,,,,,,,,M,,,,,@p:demo:r:273bc973-878b5135 "Gaithersburg",,,,,,,,,,,,,,,,,,,,,,,,"New_York",,"kW",,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.637Z
@p:demo:r:273bc971-89806bf0 "Table Prez",,,,,,,"demo",,,,,,,,,,,,,,,,,,,,,,,,,"Table Prez",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"view: {inherit:\"table\"}\ndata: {expr:\"demoTablePrez()\"}",,,,,,,,,,,,,,,,,,,,,,,,,"demoTablePrez",,,,,,,,,,,,,,2020-11-09T09:33:39.696Z
@p:demo:r:273bc971-40fd3fcb "KW Exceeds Target",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"KW Exceeds Target",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,"KW exceeds target",,,,,,,,,,,,,,,,,,,,,,,,,"kwTooHigh",,,,,,,,,,,,,,,,,,,,,,,,,,,,,"elec and meter",,,,,,,,,,,,,M,,"defcomp\n  target:  {}\n  date:    {}\n  out:     {ro}\n  powerPt: {bind:\"power and point and equipRef=={{target->id}}\"}\n  limit:   {bindTuning:\"limit\", defVal:400kW}\n  do\n    out = hisRead(powerPt, date).hisFindPeriods(kw => kw > limit)\n  end\nend",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.501Z
@p:demo:r:273bc973-123f95f6 "Generation kWh",,,,,,,,,,,,M,,"consumption",,,,,,,,,,,,,,,,,,"Generation kWh",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"inRange","ver:\"2.0\"\nmin,max,fee\n0,INF,0.05",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,@p:demo:r:273bc973-ddfda4f6 "Schedule A",,,,,,,,,,"energy and sensor",,,,,,,,,,,,,,,,,2020-11-09T09:33:39.709Z
@p:demo:r:273bc973-0da4703f "Gaithersburg RTU-2 Cool-1",,,,,,,,,,,,,,,M,,M,,,M,"ok",T,,,,,,,,,,,"\$equipRef \$navName",,,,,,@p:demo:r:273bc973-a4beef99 "Gaithersburg ElecMeter-Hvac",M,,"off,on",,,,@p:demo:r:273bc973-fcf4fa40 "Gaithersburg RTU-2",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2021-02-07T00:00:00-05:00 New_York,,,,"cov",,2199,2019-01-01T00:00:00-05:00 New_York,,,,,"Bool",,,,,,,,,,,,,"Cool-1",,,,,,,,,,,,M,,,,,,,,,@p:demo:r:273bc973-2aa97161 "Washington DC",,,,,,,,,,,,,,,@p:demo:r:273bc973-878b5135 "Gaithersburg",,,,,,,1,,,,,,M,,,,,,,,,,,"New_York",,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.669Z
@p:demo:r:273bc971-cb5d96a9 "AHU Outside Damper Stuck Closed",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"AHU Outside Damper Stuck Closed",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,"Damper should be open, but temp differential between mixed air\nsensor and outisde air sensor indicates that outside air is not\nbeing brought in.  If mixed sensor is not available we use discharge\nsensor but only when unit is not cooling nor heating.\n\nRecommended Actions\n===================\n1. Look to see if damper control signal is oscillating\n2. Look to see if damper is being commanded closed during times sparks are found\n3. Manually check damper to see if linkage is broken or stuck\n\n**Priority:** Medium",,,,,,,,,,,,,,,,,,,,,,,,,"ahuOutsideDamperStuckClosed",,,,,,,,,,,,,,,,,,,,,,,,,,,,,"ahu",,,,,,,,,,,,,M,,"/*\n  Damper should be open, but temp differential between mixed air\n  sensor and outisde air sensor indicates that outside air is not\n  being brought in.  If mixed sensor is available we use discharge\n  sensor but only when unit is not cooling nor heating.\n */\ndefcomp\n\n  target:        {}\n  date:          {}\n  out:           {ro}\n  fan:           {bind:\"fan and cmd and equipRef=={{target->id}}\"}\n  damper:        {bind:\"damper and cmd and equipRef=={{target->id}}\"}\n  dischargeTemp: {bind:\"discharge and air and temp and sensor and equipRef=={{target->id}}\"}\n  mixedTemp:     {bind:\"mixed and air and temp and sensor and equipRef=={{target->id}}\"}\n  tolerance:     {bindTuning:\"tolerance\", defVal:8Δ°F}\n\n  do\n    // convert tolerance to metric if neccessary\n    if (isMetric(dischargeTemp)) tolerance = tolerance.to(1Δ°C)\n\n    // lookup outsideTemp, fallback to weather station\n    outsideTemp: toAhuOutsideTemp(target)\n\n    // get our periods\n    fanOn: hisRead(fan, date).hisFindPeriods(matchPointVal(_, true))\n    damperOpen: hisRead(damper, date).hisFindPeriods(matchPointVal(_, 70..100))\n\n    // if we have mixed air sensor find periods outside of our\n    // tolerance range; otherwise use difference between outside\n    // and discharge but only when heating and cooling is off\n    match: diff => diff != na() and diff.abs > tolerance\n    if (mixedTemp != null) do\n      tempPeriods: ahuTempDiff(outsideTemp, mixedTemp, date).hisFindPeriods(match)\n    else do\n      tempPeriods: hisPeriodIntersection([\n        ahuTempDiff(outsideTemp, dischargeTemp, date).hisFindPeriods(match),\n        ahuCoolPeriods(target, date, false),\n        ahuHeatPeriods(target, date, false)])\n    end\n\n    // compute intersection of periods\n    out = hisPeriodIntersection([fanOn, damperOpen, tempPeriods])\n  end\nend",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.491Z
@p:demo:r:273bc971-475e363a "demoCollage",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"demoCollage",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"(tile) => do\n\n  // Line plot\n  if (tile == 1) do\n    return readAll(kwSite).hisRead(yesterday)\n            .addMeta({title:\"Line\", chartLegend:\"hide\", chartNoScroll})\n  end\n\n  // Area plot\n  if (tile == 2) do\n    return read(kwSite).hisRead(yesterday)\n            .map(r=>{ts: r->ts, a: r->v0-30, b: r->v0+30, c: r->v0, })\n            .addColMeta(\"a\", {color:\"#2ecc71\", strokeWidth: 0, chartAreaMode:\"nextSeries\"})\n            .addColMeta(\"b\", {color:\"#3498db\", strokeWidth: 0})\n            .addColMeta(\"c\", {color:\"#3498db\", strokeWidth: 2})\n            .addMeta({title:\"Area\", chartType:\"line\", chartLegend:\"hide\", chartNoScroll})\n  end\n\n  // Scatter plot\n  if (tile == 3) do\n    return readAll(kwSite).hisRead(yesterday)\n             .hisRollup(max, 1hr)\n             .addMeta({title:\"Scatter\", chartType:\"scatter\", chartLegend:\"hide\", chartNoScroll})\n  end\n\n  // Bar plot\n  if (tile == 4) do\n    return readAll(kwSite).hisRead(yesterday)\n             .hisRollup(sum, 1day)\n             .map(r=>r.set(\"ts\", r->ts.date))\n             .addMeta({title:\"Bar\", chartType:\"bar\", chartLegend:\"hide\", chartNoScroll})\n  end\n\n  // Stacked plot\n  if (tile == 5) do\n    return readAll(kwSite).hisRead(lastWeek)\n             .hisRollup(sum, 1day)\n             .map(r=>r.set(\"ts\", r->ts.format(\"WWW\")))\n             .addMeta({title:\"Stacked Bar\", chartType:\"stackedBar\", chartLegend:\"hide\", chartNoScroll})\n  end\n\n  // Runtime plot\n  if (tile == 6) do\n    return readAll(occupied).hisRead(yesterday)\n             .addMeta({title:\"Runtime\", chartLegend:\"hide\", chartNoScroll})\n  end\n\n  // Pie plot\n  if (tile == 7) do\n    return readAll(kwSite).hisRead(yesterday)\n             .hisRollup(sum, 1day)\n             .map(r=>r.set(\"ts\", r->ts.date))\n             .addMeta({title:\"Pie\", chartType:\"pie\", chartLegend:\"hide\", chartNoScroll})\n  end\n\n  // Donut plot\n  if (tile == 8) do\n    return readAll(kwSite).hisRead(yesterday)\n             .hisRollup(sum, 1day)\n             .map(r=>r.set(\"ts\", r->ts.date))\n             .addMeta({title:\"Donut\", chartType:\"donut\", chartLegend:\"hide\", chartNoScroll})\n  end\n\n  // HeatMap plot\n  if (tile == 9) do\n    return read(kwSite).hisRead(lastWeek)\n             .hisRollup(sum, 3hr)\n             .addMeta({title:\"HeatMap\", chartType:\"heatMap\", chartLegend:\"hide\", chartNoScroll})\n  end\n\n  readAll(kwSite).hisRead(yesterday).addMeta({title:\"Tile \" + tile})\n\n\nend",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.525Z
@p:demo:r:273bc973-daac7fd1 "Headquarters ElecMeter-Lighting kWh",,,,,,,,,,,,,,,,,,,,M,"ok",1174.9361990457667kWh,,,,,,,,,,,"\$equipRef \$navName",,,,,,,,M,,,,,@p:demo:r:273bc973-52b27202 "Headquarters ElecMeter-Lighting",,,,,,,,,,,,,,,,,,,,,,,,@p:demo:r:273bc973-b82540a7 "Headquarters Utility",,,,,,,,,,,,,M,,"elecKwToKwhHis",,15min,"consumption",,,,,,,,"Number",,,,,,,,,,,,,"kWh",,,,,,,,,,,,M,,,,,,,,,@p:demo:r:273bc973-b290ea22 "Richmond",,,,,,,,,,M,,,,,@p:demo:r:273bc973-0337ce3d "Headquarters",,,,,,,,,,,,,,,,,,,,,,,,"New_York",,"kWh",,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.543Z
@p:demo:r:273bc973-25bded63 "p:demo:r:273bc973-25bded63",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"siteRef/floorRef",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,[{disKey:"ui::elecPower" filter:"power and sensor and equipRef->elec" quantity:"power"},{disKey:"ui::elecConsumption" filter:"energy and sensor and equipRef->elec" quantity:"energy"},{filter:"elecCost and sensor and equipRef->elec" dis:"Elec Tariff Cost"},{filter:"volume and sensor and equipRef->water" quantity:"volume" dis:"Water Volume"},{filter:"volume and sensor and equipRef->gas" quantity:"volume" dis:"Gas Volume"}],,,,,,,,,,,,,,,,,,,,,"demogen",,,,,,,,,,,,,,,,,,,,,,,[{disKey:"ui::rule" select:"ruleRef.dis" icon:"rule"},{disKey:"ui::siteState" select:"targetRef.site.geoState" icon:"geoState"},{disKey:"ui::siteCity" select:"targetRef.site.geoCity" icon:"geoCity"},{disKey:"ui::site" select:"targetRef.site" icon:"site"},{disKey:"ui::equip" select:"targetRef.equip" icon:"equip"},{disKey:"ui::target" select:"targetRef" icon:"target"},{disKey:"ui::impact" select:"ruleRef.impact" icon:"info"}],,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.468Z
@p:demo:r:273bc973-39bdc4aa "Carytown RTU-1 Cool-1",,,,,,,,,,,,,,,M,,M,,,M,"ok",F,,,,,,,,,,,"\$equipRef \$navName",,,,,,@p:demo:r:273bc973-7425aca4 "Carytown ElecMeter-Main",M,,"off,on",,,,@p:demo:r:273bc973-f2fa6931 "Carytown RTU-1",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2021-02-07T00:00:00-05:00 New_York,,,,"cov",,1635,2019-01-01T00:00:00-05:00 New_York,,,,,"Bool",,,,,,,,,,,,,"Cool-1",,,,,,,,,,,,M,,,,,,,,,@p:demo:r:273bc973-b290ea22 "Richmond",,,,,,,,,,,,,,,@p:demo:r:273bc973-0e0d105d "Carytown",,,,,,,1,,,,,,M,,,,,,,,,,,"New_York",,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.588Z
@p:demo:r:273bc973-97469097 "Short Pump RTU-1 Heat-2",,,,,,,,,,,,,,,M,,,,,M,"ok",F,,,,,,,,,,,"\$equipRef \$navName",,,,,,@p:demo:r:273bc973-ad4473ba "Short Pump ElecMeter-Main",M,,"off,on",,,,@p:demo:r:273bc973-533106bd "Short Pump RTU-1",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,M,2021-02-07T20:45:00-05:00 New_York,,,,"cov",,2209,2019-01-01T00:00:00-05:00 New_York,,,,,"Bool",,,,,,,,,,,,,"Heat-2",,,,,,,,,,,,M,,,,,,,,,@p:demo:r:273bc973-b290ea22 "Richmond",,,,,,,,,,,,,,,@p:demo:r:273bc973-82920a8b "Short Pump",,,,,,,2,,,,,,M,,,,,,,,,,,"New_York",,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.613Z
@p:demo:r:273bc973-921e563b "Headquarters AHU-1 Fan",,,,,,M,,,,,,,,,M,,,,,M,"ok",T,,,,,,,,,,,"\$equipRef \$navName",M,,,,,@p:demo:r:273bc973-1cf5bd42 "Headquarters ElecMeter-Hvac",,,"off,on",,,,@p:demo:r:273bc973-6d251b2b "Headquarters AHU-1",,,,,,,,,,,,,,,,,,,,M,,,,@p:demo:r:273bc973-87cebf12 "Headquarters Floor-1",,,,,,,,,,,,,M,2021-02-07T22:15:00-05:00 New_York,,,,"cov",,2010,2019-01-01T00:00:00-05:00 New_York,,,,,"Bool",,,,,,,,,,,,,"Fan",,,,,,,,,,,,M,,,,,,,,,@p:demo:r:273bc973-b290ea22 "Richmond",,,,,,,,,,,,,,,@p:demo:r:273bc973-0337ce3d "Headquarters",,,,,,,,,,,,,,,,,,,,,,,,"New_York",,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.573Z
@p:demo:r:273bc973-878b5135 "Gaithersburg",,,,,,,,8013ft²,,,,,,,,,,,,,,,,,,,,,,,,"Gaithersburg",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"18212 Montgomery Village Ave, Gaithersburg, MD","Gaithersburg",C(39.154824,-77.209002),"US","20879","MD","18212 Montgomery Village Ave",,,,,,,,,,,,,,,,,,,,,,,,,"Washington DC",,,,,,,,,21:00:00,09:00:00,,,,,,,,,"Retail Store",,,,,,@p:demo:r:273bc973-2aa97161 "Washington DC",,,,,,,,,,,,M,,,,,,,,,,,,,M,4,,,,,,,,,,,,,"New_York",,,,,,,,,,,,,,,,@p:demo:r:273bc973-70af714c "Washington, DC",,,2001,,2020-11-09T09:33:39.63Z
@p:demo:r:273bc973-95429bae "Gaithersburg RTU-1 ZoneTemp",,,,,,M,,,,,,,,,,,,,,M,"ok",74.04914046764067°F,,,,,,,,,,,"\$equipRef \$navName",,,,,,,,,,,,,@p:demo:r:273bc973-2dd1727d "Gaithersburg RTU-1",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2021-02-07T23:45:00-05:00 New_York,,,,"sampled",,73816,2019-01-01T00:00:00-05:00 New_York,,,,,"Number",,,,,,,,,,,,,"ZoneTemp",,,,,,,,,,,,M,,,,,,,,,@p:demo:r:273bc973-2aa97161 "Washington DC",,,,,,,,,,M,,,,,@p:demo:r:273bc973-878b5135 "Gaithersburg",,,,,,,,,,,,,M,,,,,,M,,,,,"New_York",,"°F",,,,,,,,,,,,,,,,,,M,2020-11-09T09:33:39.655Z
@p:demo:r:273bc973-52b27202 "Headquarters ElecMeter-Lighting",M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"\$siteRef \$navName",,,,M,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,@p:demo:r:273bc973-b82540a7 "Headquarters Utility",,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,M,,,,,,"ElecMeter-Lighting",,,,,,,,,,,,,,,,,,,,,@p:demo:r:273bc973-b290ea22 "Richmond",,,,,,,,,,,,,,,@p:demo:r:273bc973-0337ce3d "Headquarters",,,,,,,,,,,,@p:demo:r:273bc973-05877f17 "Headquarters ElecMeter-Main",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.541Z
@p:demo:r:273bc973-e8864721 "Headquarters ElecMeter-Hvac kWh",,,,,,,,,,,,,,,,,,,,M,"ok",1088.1748943179964kWh,,,,,,,,,,,"\$equipRef \$navName",,,,,,,,M,,,,,@p:demo:r:273bc973-1cf5bd42 "Headquarters ElecMeter-Hvac",,,,,,,,,,,,,,,,,,,,,,,,@p:demo:r:273bc973-b82540a7 "Headquarters Utility",,,,,,,,,,,,,M,,"elecKwToKwhHis",,15min,"consumption",,,,,,,,"Number",,,,,,,,,,,,,"kWh",,,,,,,,,,,,M,,,,,,,,,@p:demo:r:273bc973-b290ea22 "Richmond",,,,,,,,,,M,,,,,@p:demo:r:273bc973-0337ce3d "Headquarters",,,,,,,,,,,,,,,,,,,,,,,,"New_York",,"kWh",,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.546Z
@p:demo:r:273bc973-c54b82ba "Short Pump RTU-1 Cool-2",,,,,,,,,,,,,,,M,,M,,,M,"ok",F,,,,,,,,,,,"\$equipRef \$navName",,,,,,@p:demo:r:273bc973-ad4473ba "Short Pump ElecMeter-Main",M,,"off,on",,,,@p:demo:r:273bc973-533106bd "Short Pump RTU-1",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2021-02-07T00:00:00-05:00 New_York,,,,"cov",,2413,2019-01-01T00:00:00-05:00 New_York,,,,,"Bool",,,,,,,,,,,,,"Cool-2",,,,,,,,,,,,M,,,,,,,,,@p:demo:r:273bc973-b290ea22 "Richmond",,,,,,,,,,,,,,,@p:demo:r:273bc973-82920a8b "Short Pump",,,,,,,2,,,,,,M,,,,,,,,,,,"New_York",,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.611Z
@p:demo:r:273bc973-745f7fa9 "Short Pump RTU-1 ZoneTempSp",,,,,,M,,,,,,,,,,,,,,M,"ok",73°F,,,,,,,,,,,"\$equipRef \$navName",,,M,,,,,,,,,,@p:demo:r:273bc973-533106bd "Short Pump RTU-1",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2021-02-07T23:45:00-05:00 New_York,,,,"cov",,73816,2019-01-01T00:00:00-05:00 New_York,,,,,"Number",,,,,,,,,,,,,"ZoneTempSp",,,,,,,,,,,,M,,,,,,,,,@p:demo:r:273bc973-b290ea22 "Richmond",,,,,,,,,,,,,,,@p:demo:r:273bc973-82920a8b "Short Pump",M,,,,,,,,,,,,,,,,,,M,,,,,"New_York",,"°F",,,,,,,,,,,,,,,,,,M,2020-11-09T09:33:39.607Z
@p:demo:r:273bc973-ddfda4f6 "Schedule A",,,,,,,,,,,,,,,,,,,,,,,,,,,"\$",,,,,"Schedule A",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.706Z
@p:demo:r:273bc973-35e09356 "p:demo:r:273bc973-35e09356",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"job",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.474Z
@p:demo:r:273bc973-d3bcf241 "Gaithersburg ElecMeter-Plug kW",,,,,,,,,,,,,,,,,,,,M,"ok",989.5825025818937kW,,,,,,,,,,,"\$equipRef \$navName",,,,,,,,,,,,,@p:demo:r:273bc973-32b489b9 "Gaithersburg ElecMeter-Plug",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2021-02-07T23:45:00-05:00 New_York,,,15min,"sampled",,73816,2019-01-01T00:00:00-05:00 New_York,,,,,"Number",,,,,,,,,,,,,"kW",,,,,,,,,,,,M,M,,,,,,,,@p:demo:r:273bc973-2aa97161 "Washington DC",,,,,,,,,,M,,,,,@p:demo:r:273bc973-878b5135 "Gaithersburg",,,,,,,,,,,,,,,,,,,,,,,,"New_York",,"kW",,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.634Z
@p:demo:r:273bc973-ed48131b "Headquarters Floor-1 Lights ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"\$siteRef \$navName",,,,,,@p:demo:r:273bc973-52b27202 "Headquarters ElecMeter-Lighting",,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,@p:demo:r:273bc973-87cebf12 "Headquarters Floor-1",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,"Floor-1 Lights ",,,,,,,,,,,,,,,,,,,,,@p:demo:r:273bc973-b290ea22 "Richmond",,,,,,,,,,,,,,,@p:demo:r:273bc973-0337ce3d "Headquarters",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.555Z
@p:demo:r:273bca19-44a2b759 "",,,,,,,,,"",,,,,,,,,,,,,,,,,,,,,M,,"",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0ft²,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,@null,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:36:25.267Z
@p:demo:r:273bc971-0078a29c "ZoneTemp Occ Avg",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"ZoneTemp Occ Avg",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Average zone temp during occupancy",,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,"kpiZoneTempOccAvg","ahu",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:47.864Z
@p:demo:r:273bc971-966e491c "All Sparks",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"All Sparks",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,M,"spark",,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.687Z
@p:demo:r:273bc971-508cae5c "Sensor has N/A Data",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Sensor has N/A Data",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"N/A was logged for the sensor during this time frame. This is usually\ndue to a network connectivity issue.\n\nRecommended Actions\n===================\n1. Check the connector configuration\n2. Check the point configuration\n3. Check the remote system\n\n**Priority:** Low",,,,,,,,,,,,,"Fault",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,"sensorHasNaData","sensor and point",,,,,M,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:47.854Z
@p:demo:r:273bc973-2304f72b "Gaithersburg ElecMeter-Hvac kWh",,,,,,,,,,,,,,,,,,,,M,"ok",856.1601558697282kWh,,,,,,,,,,,"\$equipRef \$navName",,,,,,,,M,,,,,@p:demo:r:273bc973-a4beef99 "Gaithersburg ElecMeter-Hvac",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,"elecKwToKwhHis",,15min,"consumption",,,,,,,,"Number",,,,,,,,,,,,,"kWh",,,,,,,,,,,,M,,,,,,,,,@p:demo:r:273bc973-2aa97161 "Washington DC",,,,,,,,,,M,,,,,@p:demo:r:273bc973-878b5135 "Gaithersburg",,,,,,,,,,,,,,,,,,,,,,,,"New_York",,"kWh",,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.641Z
@p:demo:r:273bc971-d86476d5 "Prev Year Less 10%",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Prev Year Less 10%",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"energyBaselinePrevYearLess10",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"// Calculate a baseline function 10% less than last year\n(points, dates) => do\n  hisRead(points, toDateSpan(dates) - 364day).hisMap(power=>power*0.9)\nend",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.521Z
@p:demo:r:273bc973-aedf77b5 "Headquarters Parking Lights Zone-B",,,,,,,,,,,,,,,M,,,1.8$,,M,"ok",F,,,,,,,,,,,"\$equipRef \$navName",,,,,,@p:demo:r:273bc973-52b27202 "Headquarters ElecMeter-Lighting",,,"off,on",,,,@p:demo:r:273bc973-dd043b57 "Headquarters Parking Lights",,,,,,,,,,,,,,,,,,,,,,,,@p:demo:r:273bc973-578b7c26 "Headquarters Outside",,,,,,,,,,,,,M,2021-02-07T19:00:00-05:00 New_York,,,,"cov",,2307,2019-01-01T00:00:00-05:00 New_York,,,,,"Bool",,,,,M,,,,,,,,"Zone-B",,,,,,,,,M,,,M,,,,,,,,,@p:demo:r:273bc973-b290ea22 "Richmond",,,,,,,,,,,,,,,@p:demo:r:273bc973-0337ce3d "Headquarters",,,,,,,,,,,,,,,,,,,,,,,,"New_York",,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.563Z
@p:demo:r:273bc973-1e4fcd42 "Winter Off-Peak Demand",,,,,,,,,,,,M,,"demand",,,,,,,,,,,,,,,,,,"Winter Off-Peak Demand",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"inRange","ver:\"2.0\"\nmin,max,fee\n0,INF,1.0",,,,,,,,,,@p:demo:r:273bc971-f49b0004 "Small General Winter Schedule","offPeak",,,,,,,,,,,,,,,,,,,,,,,,@p:demo:r:273bc973-e2cccd91 "Small General Service",,,,,,,,,,"power and sensor",,,,,,,,,,,,,,,,,2020-11-09T09:33:39.723Z
@p:demo:r:273bc973-8620bda9 "Gaithersburg Parking Lights Status",,,,,,,,,,,,,,,M,,,1.8$,,M,"ok",T,,,,,,,,,,,"\$equipRef \$navName",,,,,,@p:demo:r:273bc973-ccc8ce34 "Gaithersburg ElecMeter-Lighting",,,"off,on",,,,@p:demo:r:273bc973-d1e9f94b "Gaithersburg Parking Lights",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2021-02-07T19:00:00-05:00 New_York,,,,"cov",,2307,2019-01-01T00:00:00-05:00 New_York,,,,,"Bool",,,,,M,,,,,,,,"Status",,,,,,,,,M,,,M,,,,,,,,,@p:demo:r:273bc973-2aa97161 "Washington DC",,,,,,,,,,,,,,,@p:demo:r:273bc973-878b5135 "Gaithersburg",,,,,,,,,,,,,,,,,,,,,,,,"New_York",,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.651Z
@p:demo:r:273bc973-59ef711f "Carytown ElecMeter-Main kW",,,,,,,,,,,,,,,,,,,,M,"ok",896.9186338213929kW,,,,,,,,,,,"\$equipRef \$navName",,,,,,,,,,,,,@p:demo:r:273bc973-7425aca4 "Carytown ElecMeter-Main",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2021-02-07T23:45:00-05:00 New_York,,,15min,"sampled",,73816,2019-01-01T00:00:00-05:00 New_York,,,,,"Number",,M,,,,,,,,,,,"kW",,,,,,,,,,,,M,M,,,,,,,,@p:demo:r:273bc973-b290ea22 "Richmond",,,,,,,,,,M,,,M,,@p:demo:r:273bc973-0e0d105d "Carytown",,,,,,,,,,,,,,,,,,,,,,,,"New_York",,"kW",,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.579Z
@p:demo:r:273bc971-bfd6ac0b "Main Calendar",,,,,,,,,,"ver:\"2.0\"\ndate,dateRule,dis,val\n\"*-01-01\",,\"New Years\",\"Holiday\"\n,\"4th thu in nov\",\"Thanksgiving\",\"Holiday\"\n\"*-12-24\",,\"Christmas Eve\",\"Holiday\"\n\"*-12-25\",,\"Christmas\",\"Holiday\"\n,\"last mon in may\",\"Memorial Day\",\"Holiday\"\n,\"1st mon in sep\",\"Labor Day\",\"Holiday\"\n\"*-07-04\",,\"July 4th\",\"Holiday\"",,,,,,,,,,M,"ok",,,,,,,,,,,"Main Calendar",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Str",,,,,,,,,,,,,,2020-12-24T00:00:00-05:00 New_York,"Holiday",,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,"New_York",,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.701Z
@p:demo:r:273bc971-2e8dff12 "AHU Outside Damper Stuck Open",,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,"AHU Outside Damper Stuck Open",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Damper should be closed, but temp differential between mixed air\nsensor and return air sensor indicates that significant outside\nair is being mixed.  If mixed sensor is not available we use discharge\nsensor but only when unit is not cooling nor heating.\n\nRecommended Actions\n===================\n1. Look to see if damper control signal is oscillating\n2. Look to see if damper is being commanded open during times sparks are found\n3. Manually check damper to see if linkage is broken or stuck\n\n**Priority:** Medium",,,,,,,,,,,,M,"Energy",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,"ahuOutsideDamperStuckOpen","ahu",,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:47.848Z
@p:demo:r:273bc973-849cb2b5 "Gaithersburg RTU-2 OutsideDamper",,,,,,M,,,,,,,,,M,,,,,M,"ok",99.90133263581808%,,,,,,M,,,,,"\$equipRef \$navName",,,,,,,,,,,,,@p:demo:r:273bc973-fcf4fa40 "Gaithersburg RTU-2",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2021-02-07T23:45:00-05:00 New_York,,,,"cov",,73816,2019-01-01T00:00:00-05:00 New_York,,,,,"Number",,,,,,,,,,,,,"OutsideDamper",,,,,,,,M,,,,M,,,,,,,,,@p:demo:r:273bc973-2aa97161 "Washington DC",,,,,,,,,,,,,,,@p:demo:r:273bc973-878b5135 "Gaithersburg",,,,,,,,,,,,,,,,,,,,,,,,"New_York",,"%",,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.668Z
@p:demo:r:273bc971-75c455e8 "kWh Norm (kWh/ft²/°daysF)",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"kWh Norm (kWh/ft²/°daysF)",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Site electrical kWh consumption normalized by ft² and degree day.",,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,"kpiKwhNorm","site",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:47.86Z
@p:demo:r:273bc971-bcb4ec87 "kWh",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"kWh",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,"Site electrical kWh consumption summed over time period.",,,,,,,,,,,,,,,M,,,,,,,,,,"kpiKwh",,,,,,,,,,,,,,,,,,,,,,,,,,,,,"site",,,,,,,,,,,,,,,"defcomp\n  target: {}\n  date:   {}\n  out:    {ro}\n  kwh:    {bind:\"energy and equipRef->siteMeter and siteRef=={{target->id}}\"}\n  do\n    if (kwh == null) return null\n\n    his: hisRead(kwh, date).hisClip\n\n    kpiSum: his.foldCol(\"v0\", sum)\n    out = if (na() == kpiSum) null else {sum: kpiSum}\n  end\nend",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.504Z
@p:demo:r:273bc973-533106bd "Short Pump RTU-1",,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"\$siteRef \$navName",,,,,,@p:demo:r:273bc973-ad4473ba "Short Pump ElecMeter-Main",,,,M,,,@p:demo:r:273bc973-9eab53b8 "Short Pump  RTUs",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,"RTU-1",,,,,,,,,,,,,,,,,,,,,@p:demo:r:273bc973-b290ea22 "Richmond",,M,M,,,,,,,,,,,,@p:demo:r:273bc973-82920a8b "Short Pump",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.606Z
@p:demo:r:273bc973-33a49767 "Carytown ElecMeter-Main kWh",,,,,,,,,,,,,,,,,,,,M,"ok",883.8102487390119kWh,,,,,,,,,,,"\$equipRef \$navName",,,,,,,,M,,,,,@p:demo:r:273bc973-7425aca4 "Carytown ElecMeter-Main",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,"elecKwToKwhHis",,15min,"consumption",,,,,,,,"Number",,,,,,,,,,,,,"kWh",,,,,,,,,,,,M,,,,,,,,,@p:demo:r:273bc973-b290ea22 "Richmond",,,,,,,,,,M,,,M,,@p:demo:r:273bc973-0e0d105d "Carytown",,,,,,,,,,,,,,,,,,,,,,,,"New_York",,"kWh",,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.58Z
@p:demo:r:273bc971-c3eb59f9 "kWh",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"kWh",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Site electrical kWh consumption summed over time period.",,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,"kpiKwh","site",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:47.859Z
@p:demo:r:273bc973-6d251b2b "Headquarters AHU-1",,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"\$siteRef \$navName",,,,,,@p:demo:r:273bc973-1cf5bd42 "Headquarters ElecMeter-Hvac",,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,@p:demo:r:273bc973-87cebf12 "Headquarters Floor-1",,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,"AHU-1",,,,,,,,,,,,,,,,,,,,,@p:demo:r:273bc973-b290ea22 "Richmond",,,,,,,,,,,,,,,@p:demo:r:273bc973-0337ce3d "Headquarters",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.564Z
@p:demo:r:273bc971-f49b0004 "Small General Winter Schedule",,,,,,,,,,,@p:demo:r:273bc971-bfd6ac0b "Main Calendar",,,,,,,,,M,"ok","offPeak",,,,,,,,,,"Small General Winter Schedule",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Str",,,,,,,,,,,,,,2020-12-01T12:00:00-05:00 New_York,"onPeak",,,,,,,,,,M,,,,,,,,,,,,,,,,"ver:\"2.0\"\ncalendar,dateSpan,dis,end,start,val,weekdays\n,\"*-06-01..*-09-30\",\"Summer\",00:00:00,00:00:00,\"inactive\",\n\"Holiday\",,\"Holiday\",00:00:00,00:00:00,\"offPeak\",\n,,\"Weekends\",00:00:00,00:00:00,\"offPeak\",\"sun,sat\"\n,,\"On Peak\",18:00:00,12:00:00,\"onPeak\",\"mon,tue,wed,thu,fri\"\n,,\"Off Peak\",00:00:00,00:00:00,\"offPeak\",\"sun,mon,tue,wed,thu,fri,sat\"",,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,"New_York",,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.704Z
@p:demo:r:273bc973-2d176824 "p:demo:r:273bc973-2d176824",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"math",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.47Z
@p:demo:r:273bc971-7ebf3a86 "sparkRuleHelp",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"sparkRuleHelp",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"// given a grid of sparks, return a fandoc string of associated rule help\n(sparks) => do\n  if (sparks.missing(\"ruleRef\")) return \"\"\n  help: \"\"\n  sparks.unique(\"ruleRef\").each spark => do\n    if (help.size > 0) help = help + \"\\n---\\n\"\n    rule: readById(spark->ruleRef)\n    help = help + \"\\n\" + rule.dis + \"\\n****\\n\"\n    help = help + rule[\"help\"] + \"\\n\\n\"\n  end\n  return help\nend",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.523Z
@p:demo:r:273bc973-f8249656 "Gaithersburg RTU-2 Fan",,,,,,M,,,,,,,,,M,,,,,M,"ok",F,,,,,,,,,,,"\$equipRef \$navName",M,,,,,@p:demo:r:273bc973-a4beef99 "Gaithersburg ElecMeter-Hvac",,,"off,on",,,,@p:demo:r:273bc973-fcf4fa40 "Gaithersburg RTU-2",,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,M,2021-02-07T23:30:00-05:00 New_York,,,,"cov",,15145,2019-01-01T00:00:00-05:00 New_York,,,,,"Bool",,,,,,,,,,,,,"Fan",,,,,,,,,,,,M,,,,,,,,,@p:demo:r:273bc973-2aa97161 "Washington DC",,,,,,,,,,,,,,,@p:demo:r:273bc973-878b5135 "Gaithersburg",,,,,,,,,,,,,,,,,,,,,,,,"New_York",,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.675Z
@p:demo:r:273bc973-7aedac1c "Demo",,,,,,,,,,,,,,,,,,,2020-11-09T09:33:00Z,,,,,,,,,,,,M,"Demo",,,"Demo project",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,0.001388888888888889h,,,,,,,,,,,,,,,,,,,,,"3.0.26",,,,,,,,,,,,,,,2020-11-09T09:33:39.443Z
@p:demo:r:273bc973-2dd1727d "Gaithersburg RTU-1",,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"\$siteRef \$navName",,,,,,@p:demo:r:273bc973-a4beef99 "Gaithersburg ElecMeter-Hvac",,,,M,,,@p:demo:r:273bc973-fb9b7309 "Gaithersburg  RTUs",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,"RTU-1",,,,,,,,,,,,,,,,,,,,,@p:demo:r:273bc973-2aa97161 "Washington DC",,M,M,,,,,,,,,,,,@p:demo:r:273bc973-878b5135 "Gaithersburg",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.653Z
@p:demo:r:273bc973-3f9976f9 "Short Pump ElecMeter-Main kW",,,,,,,,,,,,,,,,,,,,M,"ok",1036.7983566449725kW,,,,,,,,,,,"\$equipRef \$navName",,,,,,,,,,,,,@p:demo:r:273bc973-ad4473ba "Short Pump ElecMeter-Main",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2021-02-07T23:45:00-05:00 New_York,,,15min,"sampled",,73816,2019-01-01T00:00:00-05:00 New_York,,,,,"Number",,M,,,,,,,,,,,"kW",,,,,,,,,,,,M,M,,,,,,,,@p:demo:r:273bc973-b290ea22 "Richmond",,,,,,,,,,M,,,M,,@p:demo:r:273bc973-82920a8b "Short Pump",,,,,,,,,,,,,,,,,,,,,,,,"New_York",,"kW",,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.6Z
@p:demo:r:273bc971-4934ac6c "AHU Fan Failure",,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,"AHU Fan Failure",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Fan is on but dischargePressure is below threshold of\n0.05kPa or 0.25inH₂O",,,,,,,,,,,,M,"Fault",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,"ahuFanFailure","ahu",,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:47.847Z
@p:demo:r:273bc973-6b825f81 "Headquarters ElecMeter-Main kWh",,,,,,,,,,,,,,,,,,,,M,"ok",845.6376106471838kWh,,,,,,,,,,,"\$equipRef \$navName",,,,,,,,M,,,,,@p:demo:r:273bc973-05877f17 "Headquarters ElecMeter-Main",,,,,,,,,,,,,,,,,,,,,,,,@p:demo:r:273bc973-b82540a7 "Headquarters Utility",,,,,,,,,,,,,M,,"elecKwToKwhHis",,15min,"consumption",,,,,,,,"Number",,,,,,,,,,,,,"kWh",,,,,,,,,,,,M,,,,,,,,,@p:demo:r:273bc973-b290ea22 "Richmond",,,,,,,,,,M,,,M,,@p:demo:r:273bc973-0337ce3d "Headquarters",,,,,,,,,,,,,,,,,,,,,,,,"New_York",,"kWh",,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.549Z
@p:demo:r:273bc971-da3193f6 "Lights On and Unoccupied",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Lights On and Unoccupied",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,"Lights are on and site is unoccupied.\n\nRecommended Actions\n===================\n1. Check that schedules are linked to lighting system in control system\n2. Check if lights have been left in override mode\n\n**Priority:** Low",,,,,,,,,,,,,,,,,,,,,,,,,"lightsOnAndUnoccupied",,,,,,,,,,,,,,,,,,,,,,,,,,,,,"lights and point",,,,,,,,,,,,,M,,"/*\n  Lights are on and site is unoccupied.\n*/\ndefcomp\n\n  target:    {}\n  date:      {}\n  out:       {ro}\n  occ:       {bind:\"occupied and sp and siteRef=={{target->siteRef}}\"}\n  threshold: {bindTuning:\"threshold\", defVal:2h}\n\n  do\n    // get periods when lights are on\n    on: hisRead(target, date).hisFindPeriods(v => true == v)\n\n    // get unoccupied periods\n    unoccupied: hisRead(occ, date).hisFindPeriods(v => (na() != v) and (not v))\n\n    // compute intersection and filter out periods under threshold\n    faults: hisPeriodIntersection([on, unoccupied]).hisFindAll(p => p != na() and p > threshold)\n\n    // compute total hours on during unoccupied times\n    totalDur: faults.foldCol(\"v0\", sum)\n\n    // lookup costPerHour const on lights rec\n    cost: target->costPerHour * totalDur.as(1)\n\n    // add costing/priority to the spark as additional tags\n    out = faults.addMeta({spark_cost: cost, spark_priority: \"low\"})\n  end\nend",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.493Z
@p:demo:r:273bc971-9ffef725 "AHU On and Fan Off",,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,"AHU On and Fan Off",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"The unit has some component in the \"on\" state such as cooling\nor heating, however the fan is not running.",,,,,,,,,,,,M,"Fault",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,"ahuOnAndFanOff","ahu",,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:47.846Z
@p:demo:r:273bc973-b19c0a8c "Headquarters GasMeter-Main",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"\$siteRef \$navName",,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,@p:demo:r:273bc973-b82540a7 "Headquarters Utility",,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,"GasMeter-Main",,,,,,,,,,,,,,,,,,,,,@p:demo:r:273bc973-b290ea22 "Richmond",,,,,,,,,,,,,M,,@p:demo:r:273bc973-0337ce3d "Headquarters",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.551Z
@p:demo:r:273bc971-8ffb7dca "totalizeKwh",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"totalizeKwh",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"/*\n  Compute the total kWh consumed by a given meter over an interval of time:\n    - meter: Dict for elec meter record\n    - tsStart: DateTime of inclusive starting time\n    - tsEnd: DateTime of exclusive ending time\n    - returns: Number in kWh\n*/\n(meter, tsStart, tsEnd) => do\n\n  // get kwh point for meter\n  point: read(energy and equipRef == meter->id)\n\n  // read history for date and get hourly rollup of kWh\n  his: hisRead(point, tsStart.date .. tsEnd.date).hisRollup(sum, 1hr)\n\n  // filter out the times outside of our start/end time\n  filteredHis: findAll(his) r => tsStart <= r->ts and r->ts < tsEnd\n\n  // rollup the kWh for our filtered time period\n  filteredHis.foldCol(\"v0\", sum)\nend",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.495Z
@p:demo:r:273bc973-81b9cf7c "Carytown RTU-1 ZoneTempSp",,,,,,M,,,,,,,,,,,,,,M,"ok",73°F,,,,,,,,,,,"\$equipRef \$navName",,,M,,,,,,,,,,@p:demo:r:273bc973-f2fa6931 "Carytown RTU-1",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2021-02-07T23:45:00-05:00 New_York,,,,"cov",,73816,2019-01-01T00:00:00-05:00 New_York,,,,,"Number",,,,,,,,,,,,,"ZoneTempSp",,,,,,,,,,,,M,,,,,,,,,@p:demo:r:273bc973-b290ea22 "Richmond",,,,,,,,,,,,,,,@p:demo:r:273bc973-0e0d105d "Carytown",M,,,,,,,,,,,,,,,,,,M,,,,,"New_York",,"°F",,,,,,,,,,,,,,,,,,M,2020-11-09T09:33:39.585Z
@p:demo:r:273bc973-d0b048ca "Gaithersburg ElecMeter-Lighting kWh",,,,,,,,,,,,,,,,,,,,M,"ok",815.7069770777703kWh,,,,,,,,,,,"\$equipRef \$navName",,,,,,,,M,,,,,@p:demo:r:273bc973-ccc8ce34 "Gaithersburg ElecMeter-Lighting",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,"elecKwToKwhHis",,15min,"consumption",,,,,,,,"Number",,,,,,,,,,,,,"kWh",,,,,,,,,,,,M,,,,,,,,,@p:demo:r:273bc973-2aa97161 "Washington DC",,,,,,,,,,M,,,,,@p:demo:r:273bc973-878b5135 "Gaithersburg",,,,,,,,,,,,,,,,,,,,,,,,"New_York",,"kWh",,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.638Z
@p:demo:r:273bc973-a7111894 "Short Pump RTU-2 ReturnTemp",,,,,,M,,,,,,,,,,,,,,M,"ok",79.98964083121876°F,,,,,,,,,,,"\$equipRef \$navName",,,,,,,,,,,,,@p:demo:r:273bc973-d1003dfa "Short Pump RTU-2",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2021-02-07T23:45:00-05:00 New_York,,,,"sampled",,73816,2019-01-01T00:00:00-05:00 New_York,,,,,"Number",,,,,,,,,,,,,"ReturnTemp",,,,,,,,,,,,M,,,,,,,,,@p:demo:r:273bc973-b290ea22 "Richmond",M,,,,,,,,,M,,,,,@p:demo:r:273bc973-82920a8b "Short Pump",,,,,,,,,,,,,,,,,,,M,,,,,"New_York",,"°F",,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.626Z
@p:demo:r:273bc973-3ee82a31 "Headquarters Floor-2 Lights  Zone-A",,,,,,,,,,,,,,,M,,,2.4$,,M,"ok",F,,,,,,,,,,,"\$equipRef \$navName",,,,,,@p:demo:r:273bc973-52b27202 "Headquarters ElecMeter-Lighting",,,"off,on",,,,@p:demo:r:273bc973-3dae36be "Headquarters Floor-2 Lights ",,,,,,,,,,,,,,,,,,,,,,,,@p:demo:r:273bc973-ed2f8590 "Headquarters Floor-2",,,,,,,,,,,,,M,2021-02-07T00:00:00-05:00 New_York,,,,"cov",,1867,2019-01-01T00:00:00-05:00 New_York,,,,,"Bool",,,,,M,,,,,,,,"Zone-A",,,,,,,,,,,,M,,,,,,,,,@p:demo:r:273bc973-b290ea22 "Richmond",,,,,,,,,,,,,,,@p:demo:r:273bc973-0337ce3d "Headquarters",,,,,,,,,,,,,,,,,,,,,,,,"New_York",,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.559Z
@p:demo:r:273bc971-e5f1bdf4 "Temp Sensor Failure",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Temp Sensor Failure",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Sensor has failed to change over 24 hour period. Because it requires a\nfull day of analysis, this rule always skips today.\n\nRecommended Actions\n===================\n1. Check calibration settings in control system\n2. Physical replacement of the sensor\n\n**Priority:** Medium",,,,,,,,,,,,,"Fault",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,"tempSensorFailure","temp and sensor and point",,,,,M,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:47.853Z
@p:demo:r:273bc973-7b960b2a "Short Pump RTU-2 OutsideDamper",,,,,,M,,,,,,,,,M,,,,,M,"ok",37.651316913168955%,,,,,,M,,,,,"\$equipRef \$navName",,,,,,,,,,,,,@p:demo:r:273bc973-d1003dfa "Short Pump RTU-2",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2021-02-07T23:45:00-05:00 New_York,,,,"cov",,73816,2019-01-01T00:00:00-05:00 New_York,,,,,"Number",,,,,,,,,,,,,"OutsideDamper",,,,,,,,M,,,,M,,,,,,,,,@p:demo:r:273bc973-b290ea22 "Richmond",,,,,,,,,,,,,,,@p:demo:r:273bc973-82920a8b "Short Pump",,,,,,,,,,,,,,,,,,,,,,,,"New_York",,"%",,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.621Z
@p:demo:r:273bc973-4e1b4033 "Short Pump RTU-2 DischargeTemp",,,,,,M,,,,,,,,,,,,,,M,"ok",79.85911033542305°F,,,,,,,,,,,"\$equipRef \$navName",M,,,,,,,,,,,,@p:demo:r:273bc973-d1003dfa "Short Pump RTU-2",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2021-02-07T23:45:00-05:00 New_York,,,,"sampled",,73816,2019-01-01T00:00:00-05:00 New_York,,,,,"Number",,,,,,,,,,,,,"DischargeTemp",,,,,,,,,,,,M,,,,,,,,,@p:demo:r:273bc973-b290ea22 "Richmond",,,,,,,,,,M,,,,,@p:demo:r:273bc973-82920a8b "Short Pump",,,,,,,,,,,,,,,,,,,M,,,,,"New_York",,"°F",,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.627Z
@p:demo:r:273bc971-fe0b7878 "AHU Group Cool and Heat",,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,"AHU Group Cool and Heat",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"A group of AHUs have at least one unit in cooling mode at the same\nas another unit is in heating mode.  These units may be \"fighting\" each\nother to maintain temperature setpoints.\n\nRecommended Actions\n===================\nCheck control sequences.\n\n**Priority:** Medium",,,,,,,,,,,,,"Controls",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,"ahuGroupCoolAndHeat","ahuGroup",,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:47.856Z
@p:demo:r:273bc973-e10b947c "Headquarters WaterMeter-Main",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"\$siteRef \$navName",,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,@p:demo:r:273bc973-b82540a7 "Headquarters Utility",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,"WaterMeter-Main",,,,,,,,,,,,,,,,,,,,,@p:demo:r:273bc973-b290ea22 "Richmond",,,,,,,,,,,,,M,,@p:demo:r:273bc973-0337ce3d "Headquarters",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,2020-11-09T09:33:39.553Z
@p:demo:r:273bc973-b97bd981 "Gaithersburg ElecMeter-Main Cost",,,,,,,,,,,,,,,,,,,,M,"ok",97.18478347220524$,,,,,,,,,,,"\$equipRef \$navName",,,,,M,,,,,,,,@p:demo:r:273bc973-89bc183d "Gaithersburg ElecMeter-Main",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,"tariffCostToHis",,,"sampled","sum",,,,,,,"Number",,,,,,,,,,,,,"Cost",,,,,,,,,,,,M,,,,,,,,,@p:demo:r:273bc973-2aa97161 "Washington DC",,,,,,,,,,M,,,M,,@p:demo:r:273bc973-878b5135 "Gaithersburg",,,,,,,,,,,,,,,,,,,,,,,,"New_York",,"\$",,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.645Z
@p:demo:r:273bc971-999ea498 "Collage",,,,,,,"demo",,,,,,,,,,,,,,,,,,,,,,,,,"Collage",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,100,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"view: {inherit:\"tile\"}\nlayout: {var kind:\"Str\" defVal:\"grid 3x3; 0 0 1 1; 1 0 1 1; 2 0 1 1; 0 1 1 1; 1 1 1 1; 2 1 1 1; 0 2 1 1; 1 2 1 1; 2 2 1 1\"}\nsubView1: Trio:\n  view: {inherit:\"chart\"}\n  data: {expr:\"demoCollage(1)\"}\nsubView2: Trio:\n  view: {inherit:\"chart\"}\n  data: {expr:\"demoCollage(2)\"}\nsubView: Trio:\n  view: {inherit:\"chart\"}\n  data: {expr:\"demoCollage(3)\"}\nsubView3: Trio:\n  view: {inherit:\"chart\"}\n  data: {expr:\"demoCollage(4)\"}\nsubView4: Trio:\n  view: {inherit:\"chart\"}\n  data: {expr:\"demoCollage(5)\"}\nsubView5: Trio:\n  view: {inherit:\"chart\"}\n  data: {expr:\"demoCollage(6)\"}\nsubView6: Trio:\n  view: {inherit:\"chart\"}\n  data: {expr:\"demoCollage(7)\"}\nsubView7: Trio:\n  view: {inherit:\"chart\"}\n  data: {expr:\"demoCollage(8)\"}\nsubView8: Trio:\n  view: {inherit:\"chart\"}\n  data: {expr:\"demoCollage(9)\"}",,,,,,,,,,,,,,,,,,,,,,,,,"demoCollage",,,,,,,,,,,,,,2020-11-09T09:33:39.691Z
@p:demo:r:273bc973-9832fda1 "Summer Off-Peak Consumption",,,,,,,,,,,,M,,"consumption",,,,,,,,,,,,,,,,,,"Summer Off-Peak Consumption",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"inRange","ver:\"2.0\"\nmin,max,fee\n0,INF,0.02",,,,,,,,,,@p:demo:r:273bc971-69e34f33 "Small General Summer Schedule","offPeak",,,,,,,,,,,,,,,,,,,,,,,,@p:demo:r:273bc973-e2cccd91 "Small General Service",,,,,,,,,,"energy and sensor",,,,,,,,,,,,,,,,,2020-11-09T09:33:39.717Z
@p:demo:r:273bc973-89635316 "Short Pump RTU-1 OutsideDamper",,,,,,M,,,,,,,,,M,,,,,M,"ok",99.33859821373068%,,,,,,M,,,,,"\$equipRef \$navName",,,,,,,,,,,,,@p:demo:r:273bc973-533106bd "Short Pump RTU-1",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2021-02-07T23:45:00-05:00 New_York,,,,"cov",,73816,2019-01-01T00:00:00-05:00 New_York,,,,,"Number",,,,,,,,,,,,,"OutsideDamper",,,,,,,,M,,,,M,,,,,,,,,@p:demo:r:273bc973-b290ea22 "Richmond",,,,,,,,,,,,,,,@p:demo:r:273bc973-82920a8b "Short Pump",,,,,,,,,,,,,,,,,,,,,,,,"New_York",,"%",,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.609Z
@p:demo:r:273bc973-ce04bc3a "Tariff His",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Tariff His",,,,,,,,,,,,,,@p:demo:r:273bc973-05877f17 "Headquarters ElecMeter-Main",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2021-02-01T00:00:00-05:00 New_York,,,,,,26,2019-01-01T00:00:00-05:00 New_York,,,,,"Str",,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,,,,,,,,,,@p:demo:r:273bc973-0337ce3d "Headquarters",M,,,,,,,,,,,,,,,,M,,,,,,,"New_York",,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.713Z
@p:demo:r:273bc973-09927304 "Short Pump Misc Occupancy",,,,,,,,,,,,,,,,,,,,M,"ok",F,,,,,,,,,,,"\$equipRef \$navName",,,,,,,,,"unocc,occ",,,,@p:demo:r:273bc973-b508d0e5 "Short Pump Misc",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2021-02-07T21:15:00-05:00 New_York,,,,"cov",,2307,2019-01-01T00:00:00-05:00 New_York,,,,,"Bool",,,,,,,,,,,,,"Occupancy",,,,M,,,,,,,,M,,,,,,,,,@p:demo:r:273bc973-b290ea22 "Richmond",,,,,,,,,,,,,,M,@p:demo:r:273bc973-82920a8b "Short Pump",M,,,,,,,,,,,,,,,,,,,,,,,"New_York",,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.598Z
@p:demo:r:273bc973-1aa52b69 "p:demo:r:273bc973-1aa52b69",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"schedule",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.485Z
@p:demo:r:273bc973-f2fa6931 "Carytown RTU-1",,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"\$siteRef \$navName",,,,,,@p:demo:r:273bc973-7425aca4 "Carytown ElecMeter-Main",,,,M,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,,,,,,,,,,,,,,,"RTU-1",,,,,,,,,,,,,,,,,,,,,@p:demo:r:273bc973-b290ea22 "Richmond",,M,M,,,,,,,,,,,,@p:demo:r:273bc973-0e0d105d "Carytown",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.584Z
@p:demo:r:273bc973-33165f31 "Gaithersburg RTU-2 Cool-2",,,,,,,,,,,,,,,M,,M,,,M,"ok",F,,,,,,,,,,,"\$equipRef \$navName",,,,,,@p:demo:r:273bc973-a4beef99 "Gaithersburg ElecMeter-Hvac",M,,"off,on",,,,@p:demo:r:273bc973-fcf4fa40 "Gaithersburg RTU-2",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,M,2021-02-07T00:00:00-05:00 New_York,,,,"cov",,2321,2019-01-01T00:00:00-05:00 New_York,,,,,"Bool",,,,,,,,,,,,,"Cool-2",,,,,,,,,,,,M,,,,,,,,,@p:demo:r:273bc973-2aa97161 "Washington DC",,,,,,,,,,,,,,,@p:demo:r:273bc973-878b5135 "Gaithersburg",,,,,,,2,,,,,,M,,,,,,,,,,,"New_York",,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.67Z
@p:demo:r:273bc973-00e277a9 "p:demo:r:273bc973-00e277a9",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"weather",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2020-11-09T09:33:39.482Z

